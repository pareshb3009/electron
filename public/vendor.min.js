if(!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||ne;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=ge.type(t);return"function"!==n&&!ge.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function o(t,e,n){return ge.isFunction(e)?ge.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?ge.grep(t,function(t){return t===e!==n}):"string"!=typeof e?ge.grep(t,function(t){return ae.call(e,t)>-1!==n}):$e.test(e)?ge.filter(e,t,n):(e=ge.filter(e,t),ge.grep(t,function(t){return ae.call(e,t)>-1!==n&&1===t.nodeType}))}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return ge.each(t.match(Oe)||[],function(t,n){e[n]=!0}),e}function l(t){return t}function u(t){throw t}function c(t,e,n,i){var r;try{t&&ge.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&ge.isFunction(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function d(){ne.removeEventListener("DOMContentLoaded",d),t.removeEventListener("load",d),ge.ready()}function h(){this.expando=ge.expando+h.uid++}function p(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Be.test(t)?JSON.parse(t):t)}function f(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(He,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=p(n)}catch(r){}Re.set(t,e,n)}else n=void 0;return n}function g(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ge.css(t,e,"")},l=a(),u=n&&n[3]||(ge.cssNumber[e]?"":"px"),c=(ge.cssNumber[e]||"px"!==u&&+l)&&ze.exec(ge.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,ge.style(t,e,c+u);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function m(t){var e,n=t.ownerDocument,i=t.nodeName,r=Ve[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=ge.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Ve[i]=r,r)}function v(t,e){for(var n,i,r=[],o=0,s=t.length;s>o;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Ne.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&je(i)&&(r[o]=m(i))):"none"!==n&&(r[o]="none",Ne.set(i,"display",n)));for(o=0;s>o;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function y(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&r(t,e)?ge.merge([t],n):n}function b(t,e){for(var n=0,i=t.length;i>n;n++)Ne.set(t[n],"globalEval",!e||Ne.get(e[n],"globalEval"))}function w(t,e,n,i,r){for(var o,s,a,l,u,c,d=e.createDocumentFragment(),h=[],p=0,f=t.length;f>p;p++)if(o=t[p],o||0===o)if("object"===ge.type(o))ge.merge(h,o.nodeType?[o]:o);else if(Xe.test(o)){for(s=s||d.appendChild(e.createElement("div")),a=(qe.exec(o)||["",""])[1].toLowerCase(),l=Ke[a]||Ke._default,s.innerHTML=l[1]+ge.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;ge.merge(h,s.childNodes),s=d.firstChild,s.textContent=""}else h.push(e.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(i&&ge.inArray(o,i)>-1)r&&r.push(o);else if(u=ge.contains(o.ownerDocument,o),s=y(d.appendChild(o),"script"),u&&b(s),n)for(c=0;o=s[c++];)Ye.test(o.type||"")&&n.push(o);return d}function _(){return!0}function x(){return!1}function k(){try{return ne.activeElement}catch(t){}}function C(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)C(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=x;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ge().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ge.guid++)),t.each(function(){ge.event.add(this,e,r,i,n)})}function $(t,e){return r(t,"table")&&r(11!==e.nodeType?e:e.firstChild,"tr")?ge(">tbody",t)[0]||t:t}function M(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=on.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Ne.hasData(t)&&(o=Ne.access(t),s=Ne.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)ge.event.add(e,r,u[r][n])}Re.hasData(t)&&(a=Re.access(t),l=ge.extend({},a),Re.set(e,l))}}function D(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ue.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function E(t,e,i,r){e=oe.apply([],e);var o,s,a,l,u,c,d=0,h=t.length,p=h-1,f=e[0],g=ge.isFunction(f);if(g||h>1&&"string"==typeof f&&!pe.checkClone&&rn.test(f))return t.each(function(n){var o=t.eq(n);g&&(e[0]=f.call(this,n,o.html())),E(o,e,i,r)});if(h&&(o=w(e,t[0].ownerDocument,!1,t,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(a=ge.map(y(o,"script"),M),l=a.length;h>d;d++)u=o,d!==p&&(u=ge.clone(u,!0,!0),l&&ge.merge(a,y(u,"script"))),i.call(t[d],u,d);if(l)for(c=a[a.length-1].ownerDocument,ge.map(a,S),d=0;l>d;d++)u=a[d],Ye.test(u.type||"")&&!Ne.access(u,"globalEval")&&ge.contains(c,u)&&(u.src?ge._evalUrl&&ge._evalUrl(u.src):n(u.textContent.replace(sn,""),c))}return t}function O(t,e,n){for(var i,r=e?ge.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ge.cleanData(y(i)),i.parentNode&&(n&&ge.contains(i.ownerDocument,i)&&b(y(i,"script")),i.parentNode.removeChild(i));return t}function A(t,e,n){var i,r,o,s,a=t.style;return n=n||un(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||ge.contains(t.ownerDocument,t)||(s=ge.style(t,e)),!pe.pixelMarginRight()&&ln.test(s)&&an.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function P(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function L(t){if(t in gn)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=fn.length;n--;)if(t=fn[n]+e,t in gn)return t}function I(t){var e=ge.cssProps[t];return e||(e=ge.cssProps[t]=L(t)||t),e}function N(t,e,n){var i=ze.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function R(t,e,n,i,r){var o,s=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;4>o;o+=2)"margin"===n&&(s+=ge.css(t,n+We[o],!0,r)),i?("content"===n&&(s-=ge.css(t,"padding"+We[o],!0,r)),"margin"!==n&&(s-=ge.css(t,"border"+We[o]+"Width",!0,r))):(s+=ge.css(t,"padding"+We[o],!0,r),"padding"!==n&&(s+=ge.css(t,"border"+We[o]+"Width",!0,r)));return s}function B(t,e,n){var i,r=un(t),o=A(t,e,r),s="border-box"===ge.css(t,"boxSizing",!1,r);return ln.test(o)?o:(i=s&&(pe.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),o=parseFloat(o)||0,o+R(t,e,n||(s?"border":"content"),i,r)+"px")}function H(t,e,n,i,r){return new H.prototype.init(t,e,n,i,r)}function F(){vn&&(ne.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(F):t.setTimeout(F,ge.fx.interval),ge.fx.tick())}function z(){return t.setTimeout(function(){mn=void 0}),mn=ge.now()}function W(t,e){var n,i=0,r={height:t};for(e=e?1:0;4>i;i+=2-e)n=We[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function j(t,e,n){for(var i,r=(U.tweeners[e]||[]).concat(U.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function G(t,e,n){var i,r,o,s,a,l,u,c,d="width"in e||"height"in e,h=this,p={},f=t.style,g=t.nodeType&&je(t),m=Ne.get(t,"fxshow");n.queue||(s=ge._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,ge.queue(t,"fx").length||s.empty.fire()})}));for(i in e)if(r=e[i],yn.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||ge.style(t,i)}if(l=!ge.isEmptyObject(e),l||!ge.isEmptyObject(p)){d&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=m&&m.display,null==u&&(u=Ne.get(t,"display")),c=ge.css(t,"display"),"none"===c&&(u?c=u:(v([t],!0),u=t.style.display||u,c=ge.css(t,"display"),v([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ge.css(t,"float")&&(l||(h.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(m?"hidden"in m&&(g=m.hidden):m=Ne.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&v([t],!0),h.done(function(){g||v([t]),Ne.remove(t,"fxshow");for(i in p)ge.style(t,i,p[i])})),l=j(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}}function V(t,e){var n,i,r,o,s;for(n in t)if(i=ge.camelCase(n),r=e[i],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ge.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function U(t,e,n){var i,r,o=0,s=U.prefilters.length,a=ge.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=mn||z(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,n]),1>o&&l?n:(l||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ge.extend({},e),opts:ge.extend(!0,{specialEasing:{},easing:ge.easing._default},n),originalProperties:e,originalOptions:n,startTime:mn||z(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ge.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(V(c,u.opts.specialEasing);s>o;o++)if(i=U.prefilters[o].call(u,t,c,u.opts))return ge.isFunction(i.stop)&&(ge._queueHooks(u.elem,u.opts.queue).stop=ge.proxy(i.stop,i)),i;return ge.map(c,j,u),ge.isFunction(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),ge.fx.timer(ge.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function q(t){var e=t.match(Oe)||[];return e.join(" ")}function Y(t){return t.getAttribute&&t.getAttribute("class")||""}function K(t,e,n,i){var r;if(Array.isArray(e))ge.each(e,function(e,r){n||Dn.test(t)?i(t,r):K(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ge.type(e))i(t,e);else for(r in e)K(t+"["+r+"]",e[r],n,i)}function X(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Oe)||[];if(ge.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Z(t,e,n,i){function r(a){var l;return o[a]=!0,ge.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===zn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function J(t,e){var n,i,r=ge.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ge.extend(!0,t,i),t}function Q(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function te(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var ee=[],ne=t.document,ie=Object.getPrototypeOf,re=ee.slice,oe=ee.concat,se=ee.push,ae=ee.indexOf,le={},ue=le.toString,ce=le.hasOwnProperty,de=ce.toString,he=de.call(Object),pe={},fe="3.2.1",ge=function(t,e){return new ge.fn.init(t,e)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ve=/^-ms-/,ye=/-([a-z])/g,be=function(t,e){return e.toUpperCase()};ge.fn=ge.prototype={jquery:fe,constructor:ge,length:0,toArray:function(){return re.call(this)},get:function(t){return null==t?re.call(this):0>t?this[t+this.length]:this[t]},pushStack:function(t){var e=ge.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ge.each(this,t)},map:function(t){return this.pushStack(ge.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:se,sort:ee.sort,splice:ee.splice},ge.extend=ge.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ge.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(u&&i&&(ge.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&ge.isPlainObject(n)?n:{},s[e]=ge.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},ge.extend({expando:"jQuery"+(fe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ge.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ge.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ue.call(t)||(e=ie(t))&&(n=ce.call(e,"constructor")&&e.constructor,"function"!=typeof n||de.call(n)!==he))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?le[ue.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(ve,"ms-").replace(ye,be)},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;n>r&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(me,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ge.merge(n,"string"==typeof t?[t]:t):se.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ae.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;r>s;s++)o=e(t[s],s,n),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,n),null!=o&&a.push(o);return oe.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),ge.isFunction(t)?(i=re.call(arguments,2),r=function(){return t.apply(e||this,i.concat(re.call(arguments)))},r.guid=t.guid=t.guid||ge.guid++,r):void 0},now:Date.now,support:pe}),"function"==typeof Symbol&&(ge.fn[Symbol.iterator]=ee[Symbol.iterator]),ge.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){le["[object "+e+"]"]=e.toLowerCase()});var we=function(t){function e(t,e,n,i){var r,o,s,a,l,u,c,h=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:z)!==P&&A(e),e=e||P,I)){if(11!==f&&(l=ve.exec(t)))if(r=l[1]){if(9===f){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(h&&(s=h.getElementById(r))&&H(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(!(!x.qsa||U[t+" "]||N&&N.test(t))){if(1!==f)h=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(_e,xe):e.setAttribute("id",a=F),u=M(t),o=u.length;o--;)u[o]="#"+a+" "+p(u[o]);c=u.join(","),h=ye.test(t)&&d(e.parentNode)||e}if(c)try{return J.apply(n,h.querySelectorAll(c)),n}catch(g){}finally{a===F&&e.removeAttribute("id")}}}return T(t.replace(ae,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=P.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ce(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function p(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=j++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,d,h=[W,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(d=e[F]||(e[F]={}),c=d[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===W&&u[1]===a)return h[2]=u[2];if(c[o]=h,h[2]=t(e,n,l))return!0}return!1}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function y(t,e,n,r,o,s){return r&&!r[F]&&(r=y(r)),o&&!o[F]&&(o=y(o,s)),i(function(i,s,a,l){var u,c,d,h=[],p=[],f=s.length,g=i||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?g:v(g,h,t,a,l),b=n?o||(i?t:f||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=v(b,p),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?te(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else b=v(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):J.apply(s,b)})}function b(t){for(var e,n,i,r=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,l=f(function(t){return t===e},s,!0),u=f(function(t){return te(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==D)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];r>a;a++)if(n=k.relative[t[a].type])c=[f(g(c),n)];else{if(n=k.filter[t[a].type].apply(null,t[a].matches),n[F]){for(i=++a;r>i&&!k.relative[t[i].type];i++);return y(a>1&&g(c),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ae,"$1"),n,i>a&&b(t.slice(a,i)),r>i&&b(t=t.slice(i)),r>i&&p(t))}c.push(n)}return g(c)}function w(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,d,h,p=0,f="0",g=i&&[],m=[],y=D,b=i||o&&k.find.TAG("*",u),w=W+=null==y?1:Math.random()||.1,_=b.length;for(u&&(D=s===P||s||u);f!==_&&null!=(c=b[f]);f++){if(o&&c){for(d=0,s||c.ownerDocument===P||(A(c),a=!I);h=t[d++];)if(h(c,s||P,a)){l.push(c);break}u&&(W=w)}r&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,m,s,a);if(i){if(p>0)for(;f--;)g[f]||m[f]||(m[f]=X.call(l));m=v(m)}J.apply(l,m),u&&!i&&m.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(W=w,D=y),g};return r?i(s):s}var _,x,k,C,$,M,S,T,D,E,O,A,P,L,I,N,R,B,H,F="sizzle"+1*new Date,z=t.document,W=0,j=0,G=n(),V=n(),U=n(),q=function(t,e){return t===e&&(O=!0),0},Y={}.hasOwnProperty,K=[],X=K.pop,Z=K.push,J=K.push,Q=K.slice,te=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(t,e){return e?"\x00"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ke=function(){A()},Ce=f(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply(K=Q.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch($e){J={apply:K.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,L=P.documentElement,I=!$(P),z!==P&&(n=P.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(P.getElementsByClassName),x.getById=r(function(t){return L.appendChild(t).id=F,!P.getElementsByName||!P.getElementsByName(F).length}),x.getById?(k.filter.ID=function(t){var e=t.replace(be,we);return function(t){return t.getAttribute("id")===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}}):(k.filter.ID=function(t){var e=t.replace(be,we);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n,i,r,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),k.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&I?e.getElementsByClassName(t):void 0},R=[],N=[],(x.qsa=me.test(P.querySelectorAll))&&(r(function(t){L.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+F+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||N.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=P.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),L.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=me.test(B=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){x.disconnectedMatch=B.call(t,"*"),B.call(t,"[s!='']:x"),R.push("!=",oe)}),N=N.length&&new RegExp(N.join("|")),R=R.length&&new RegExp(R.join("|")),e=me.test(L.compareDocumentPosition),H=e||me.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===P||t.ownerDocument===z&&H(z,t)?-1:e===P||e.ownerDocument===z&&H(z,e)?1:E?te(E,t)-te(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===P?-1:e===P?1:r?-1:o?1:E?te(E,t)-te(E,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===z?-1:l[i]===z?1:0},P):P},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==P&&A(t),n=n.replace(ce,"='$1']"),!(!x.matchesSelector||!I||U[n+" "]||R&&R.test(n)||N&&N.test(n)))try{var i=B.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&A(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&A(t);var n=k.attrHandle[e.toLowerCase()],i=n&&Y.call(k.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:x.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(_e,xe)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(O=!x.detectDuplicates,E=!x.sortStable&&t.slice(0),t.sort(q),O){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return E=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},k=e.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(be,we),t[3]=(t[3]||t[4]||t[5]||"").replace(be,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&de.test(n)&&(e=M(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(be,we).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(h=m,d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],p=u[0]===W&&u[1],b=p&&u[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[W,p,b];break}}else if(y&&(h=e,d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],p=u[0]===W&&u[1],b=p),b===!1)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[t]=[W,b]),h!==e)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=te(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(ae,"$1"));return r[F]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(be,we),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return he.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(be,we).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);
return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return fe.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},k.pseudos.nth=k.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})k.pseudos[_]=l(_);return h.prototype=k.filters=k.pseudos,k.setFilters=new h,M=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=V[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=k.preFilter;a;){i&&!(r=le.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ue.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ae," ")}),a=a.slice(i.length));for(s in k.filter)!(r=pe[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):V(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=M(t)),n=e.length;n--;)o=b(e[n]),o[F]?i.push(o):r.push(o);o=U(t,w(r,i)),o.selector=t}return o},T=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&M(t=u.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&I&&k.relative[o[1].type]){if(e=(k.find.ID(s.matches[0].replace(be,we),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pe.needsContext.test(t)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(i=l(s.matches[0].replace(be,we),ye.test(o[0].type)&&d(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return J.apply(n,i),n;break}}return(u||S(t,c))(i,e,!I,n,!e||ye.test(t)&&d(e.parentNode)||e),n},x.sortStable=F.split("").sort(q).join("")===F,x.detectDuplicates=!!O,A(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ge.find=we,ge.expr=we.selectors,ge.expr[":"]=ge.expr.pseudos,ge.uniqueSort=ge.unique=we.uniqueSort,ge.text=we.getText,ge.isXMLDoc=we.isXML,ge.contains=we.contains,ge.escapeSelector=we.escape;var _e=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ge(t).is(n))break;i.push(t)}return i},xe=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ke=ge.expr.match.needsContext,Ce=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,$e=/^.[^:#\[\.,]*$/;ge.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ge.find.matchesSelector(i,t)?[i]:[]:ge.find.matches(t,ge.grep(e,function(t){return 1===t.nodeType}))},ge.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(ge(t).filter(function(){for(e=0;i>e;e++)if(ge.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;i>e;e++)ge.find(t,r[e],n);return i>1?ge.uniqueSort(n):n},filter:function(t){return this.pushStack(o(this,t||[],!1))},not:function(t){return this.pushStack(o(this,t||[],!0))},is:function(t){return!!o(this,"string"==typeof t&&ke.test(t)?ge(t):t||[],!1).length}});var Me,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Te=ge.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Me,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Se.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ge?e[0]:e,ge.merge(this,ge.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ne,!0)),Ce.test(i[1])&&ge.isPlainObject(e))for(i in e)ge.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=ne.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ge.isFunction(t)?void 0!==n.ready?n.ready(t):t(ge):ge.makeArray(t,this)};Te.prototype=ge.fn,Me=ge(ne);var De=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};ge.fn.extend({has:function(t){var e=ge(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ge.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&ge(t);if(!ke.test(t))for(;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ge.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ge.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ae.call(ge(t),this[0]):ae.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ge.uniqueSort(ge.merge(this.get(),ge(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ge.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _e(t,"parentNode")},parentsUntil:function(t,e,n){return _e(t,"parentNode",n)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return _e(t,"nextSibling")},prevAll:function(t){return _e(t,"previousSibling")},nextUntil:function(t,e,n){return _e(t,"nextSibling",n)},prevUntil:function(t,e,n){return _e(t,"previousSibling",n)},siblings:function(t){return xe((t.parentNode||{}).firstChild,t)},children:function(t){return xe(t.firstChild)},contents:function(t){return r(t,"iframe")?t.contentDocument:(r(t,"template")&&(t=t.content||t),ge.merge([],t.childNodes))}},function(t,e){ge.fn[t]=function(n,i){var r=ge.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ge.filter(i,r)),this.length>1&&(Ee[t]||ge.uniqueSort(r),De.test(t)&&r.reverse()),this.pushStack(r)}});var Oe=/[^\x20\t\r\n\f]+/g;ge.Callbacks=function(t){t="string"==typeof t?a(t):ge.extend({},t);var e,n,i,r,o=[],s=[],l=-1,u=function(){for(r=r||t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<o.length;)o[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(l=o.length-1,s.push(n)),function i(e){ge.each(e,function(e,n){ge.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==ge.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ge.each(arguments,function(t,e){for(var n;(n=ge.inArray(e,o,n))>-1;)o.splice(n,1),l>=n&&l--}),this},has:function(t){return t?ge.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ge.extend({Deferred:function(e){var n=[["notify","progress",ge.Callbacks("memory"),ge.Callbacks("memory"),2],["resolve","done",ge.Callbacks("once memory"),ge.Callbacks("once memory"),0,"resolved"],["reject","fail",ge.Callbacks("once memory"),ge.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return ge.Deferred(function(e){ge.each(n,function(n,i){var r=ge.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&ge.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var a=this,c=arguments,d=function(){var t,d;if(!(s>e)){if(t=i.apply(a,c),t===n.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,ge.isFunction(d)?r?d.call(t,o(s,n,l,r),o(s,n,u,r)):(s++,d.call(t,o(s,n,l,r),o(s,n,u,r),o(s,n,l,n.notifyWith))):(i!==l&&(a=void 0,c=[t]),(r||n.resolveWith)(a,c))}},h=r?d:function(){try{d()}catch(t){ge.Deferred.exceptionHook&&ge.Deferred.exceptionHook(t,h.stackTrace),e+1>=s&&(i!==u&&(a=void 0,c=[t]),n.rejectWith(a,c))}};e?h():(ge.Deferred.getStackHook&&(h.stackTrace=ge.Deferred.getStackHook()),t.setTimeout(h))}}var s=0;return ge.Deferred(function(t){n[0][3].add(o(0,t,ge.isFunction(r)?r:l,t.notifyWith)),n[1][3].add(o(0,t,ge.isFunction(e)?e:l)),n[2][3].add(o(0,t,ge.isFunction(i)?i:u))}).promise()},promise:function(t){return null!=t?ge.extend(t,r):r}},o={};return ge.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[0][2].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=re.call(arguments),o=ge.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?re.call(arguments):n,--e||o.resolveWith(i,r)}};if(1>=e&&(c(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||ge.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)c(r[n],s(n),o.reject);return o.promise()}});var Ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ge.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Ae.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ge.readyException=function(e){t.setTimeout(function(){throw e})};var Pe=ge.Deferred();ge.fn.ready=function(t){return Pe.then(t)["catch"](function(t){ge.readyException(t)}),this},ge.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--ge.readyWait:ge.isReady)||(ge.isReady=!0,t!==!0&&--ge.readyWait>0||Pe.resolveWith(ne,[ge]))}}),ge.ready.then=Pe.then,"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll?t.setTimeout(ge.ready):(ne.addEventListener("DOMContentLoaded",d),t.addEventListener("load",d));var Le=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===ge.type(n)){r=!0;for(a in n)Le(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ge.isFunction(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ge(t),n)})),e))for(;l>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Ie=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ie(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[ge.camelCase(e)]=n;else for(i in e)r[ge.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ge.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(ge.camelCase):(e=ge.camelCase(e),e=e in i?[e]:e.match(Oe)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||ge.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ge.isEmptyObject(e)}};var Ne=new h,Re=new h,Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,He=/[A-Z]/g;ge.extend({hasData:function(t){return Re.hasData(t)||Ne.hasData(t)},data:function(t,e,n){return Re.access(t,e,n)},removeData:function(t,e){Re.remove(t,e)},_data:function(t,e,n){return Ne.access(t,e,n)},_removeData:function(t,e){Ne.remove(t,e)}}),ge.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Re.get(o),1===o.nodeType&&!Ne.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ge.camelCase(i.slice(5)),f(o,i,r[i])));Ne.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Re.set(this,t)}):Le(this,function(e){var n;if(o&&void 0===e){if(n=Re.get(o,t),void 0!==n)return n;if(n=f(o,t),void 0!==n)return n}else this.each(function(){Re.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Re.remove(this,t)})}}),ge.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=Ne.get(t,e),n&&(!i||Array.isArray(n)?i=Ne.access(t,e,ge.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ge.queue(t,e),i=n.length,r=n.shift(),o=ge._queueHooks(t,e),s=function(){ge.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ne.get(t,n)||Ne.access(t,n,{empty:ge.Callbacks("once memory").add(function(){Ne.remove(t,[e+"queue",n])})})}}),ge.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ge.queue(this[0],t):void 0===e?this:this.each(function(){var n=ge.queue(this,t,e);ge._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ge.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ge.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ge.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=Ne.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Fe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ze=new RegExp("^(?:([+-])=|)("+Fe+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],je=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ge.contains(t.ownerDocument,t)&&"none"===ge.css(t,"display")},Ge=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},Ve={};ge.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){je(this)?ge(this).show():ge(this).hide()})}});var Ue=/^(?:checkbox|radio)$/i,qe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ye=/^$|\/(?:java|ecma)script/i,Ke={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td;var Xe=/<|&#?\w+;/;!function(){var t=ne.createDocumentFragment(),e=t.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),pe.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ze=ne.documentElement,Je=/^key/,Qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tn=/^([^.]*)(?:\.(.+)|)/;ge.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,d,h,p,f,g,m=Ne.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&ge.find.matchesSelector(Ze,r),n.guid||(n.guid=ge.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof ge&&ge.event.triggered!==e.type?ge.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Oe)||[""],u=e.length;u--;)a=tn.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(d=ge.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=ge.event.special[p]||{},c=ge.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ge.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,f,s)!==!1||t.addEventListener&&t.addEventListener(p,s)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),ge.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,d,h,p,f,g,m=Ne.hasData(t)&&Ne.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Oe)||[""],u=e.length;u--;)if(a=tn.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ge.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)c=h[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));s&&!h.length&&(d.teardown&&d.teardown.call(t,f,m.handle)!==!1||ge.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)ge.event.remove(t,p+e[u],n,i,!0);ge.isEmptyObject(l)&&Ne.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=ge.event.fix(t),l=new Array(arguments.length),u=(Ne.get(this,"events")||{})[a.type]||[],c=ge.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,a)!==!1){for(s=ge.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,i=((ge.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),void 0!==i&&(a.result=i)===!1&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||u.disabled!==!0)){for(o=[],s={},n=0;l>n;n++)i=e[n],r=i.selector+" ",void 0===s[r]&&(s[r]=i.needsContext?ge(r,this).index(u)>-1:ge.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(ge.Event.prototype,t,{enumerable:!0,configurable:!0,get:ge.isFunction(e)?function(){return this.originalEvent?e(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[t]:void 0},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ge.expando]?t:new ge.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==k()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&r(this,"input")?(this.click(),!1):void 0},_default:function(t){return r(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ge.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ge.Event=function(t,e){return this instanceof ge.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?_:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ge.extend(this,e),this.timeStamp=t&&t.timeStamp||ge.now(),void(this[ge.expando]=!0)):new ge.Event(t,e)},ge.Event.prototype={constructor:ge.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ge.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Je.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Qe.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ge.event.addProp),ge.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ge.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ge.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ge.fn.extend({on:function(t,e,n,i){return C(this,t,e,n,i)},one:function(t,e,n,i){return C(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ge(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=x),this.each(function(){ge.event.remove(this,t,n,e)})}});var en=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,nn=/<script|<style|<link/i,rn=/checked\s*(?:[^=]|=\s*.checked.)/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ge.extend({htmlPrefilter:function(t){return t.replace(en,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=ge.contains(t.ownerDocument,t);if(!(pe.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ge.isXMLDoc(t)))for(s=y(a),o=y(t),i=0,r=o.length;r>i;i++)D(o[i],s[i]);if(e)if(n)for(o=o||y(t),s=s||y(a),i=0,r=o.length;r>i;i++)T(o[i],s[i]);else T(t,a);return s=y(a,"script"),s.length>0&&b(s,!l&&y(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ge.event.special,o=0;void 0!==(n=t[o]);o++)if(Ie(n)){if(e=n[Ne.expando]){if(e.events)for(i in e.events)r[i]?ge.event.remove(n,i):ge.removeEvent(n,i,e.handle);n[Ne.expando]=void 0}n[Re.expando]&&(n[Re.expando]=void 0)}}}),ge.fn.extend({detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return Le(this,function(t){return void 0===t?ge.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=$(this,t);e.appendChild(t)}})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=$(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ge.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ge.clone(this,t,e)})},html:function(t){return Le(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!nn.test(t)&&!Ke[(qe.exec(t)||["",""])[1].toLowerCase()]){t=ge.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(ge.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return E(this,arguments,function(e){var n=this.parentNode;ge.inArray(this,t)<0&&(ge.cleanData(y(this)),n&&n.replaceChild(e,this))},t)}}),ge.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ge.fn[t]=function(t){for(var n,i=[],r=ge(t),o=r.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ge(r[s])[e](n),se.apply(i,n.get());return this.pushStack(i)}});var an=/^margin/,ln=new RegExp("^("+Fe+")(?!px)[a-z%]+$","i"),un=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Ze.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Ze.removeChild(s),a=null}}var n,i,r,o,s=ne.createElement("div"),a=ne.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ge.extend(pe,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var cn=/^(none|table(?!-c[ea]).+)/,dn=/^--/,hn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"},fn=["Webkit","Moz","ms"],gn=ne.createElement("div").style;ge.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=A(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ge.camelCase(e),l=dn.test(e),u=t.style;return l||(e=I(a)),s=ge.cssHooks[e]||ge.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=ze.exec(n))&&r[1]&&(n=g(t,e,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ge.cssNumber[a]?"":"px")),pe.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))))}},css:function(t,e,n,i){var r,o,s,a=ge.camelCase(e),l=dn.test(e);return l||(e=I(a)),s=ge.cssHooks[e]||ge.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=A(t,e,i)),"normal"===r&&e in pn&&(r=pn[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ge.each(["height","width"],function(t,e){ge.cssHooks[e]={get:function(t,n,i){return n?!cn.test(ge.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?B(t,e,i):Ge(t,hn,function(){return B(t,e,i)}):void 0},set:function(t,n,i){var r,o=i&&un(t),s=i&&R(t,e,i,"border-box"===ge.css(t,"boxSizing",!1,o),o);return s&&(r=ze.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ge.css(t,e)),N(t,n,s)}}}),ge.cssHooks.marginLeft=P(pe.reliableMarginLeft,function(t,e){return e?(parseFloat(A(t,"marginLeft"))||t.getBoundingClientRect().left-Ge(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ge.each({margin:"",padding:"",border:"Width"},function(t,e){ge.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+We[i]+e]=o[i]||o[i-2]||o[0];return r}},an.test(t)||(ge.cssHooks[t+e].set=N)}),ge.fn.extend({css:function(t,e){return Le(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=un(t),r=e.length;r>s;s++)o[e[s]]=ge.css(t,e[s],!1,i);return o}return void 0!==n?ge.style(t,e,n):ge.css(t,e)},t,e,arguments.length>1)}}),ge.Tween=H,H.prototype={constructor:H,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ge.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ge.cssNumber[n]?"":"px")},cur:function(){var t=H.propHooks[this.prop];return t&&t.get?t.get(this):H.propHooks._default.get(this)},run:function(t){var e,n=H.propHooks[this.prop];return this.pos=e=this.options.duration?ge.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ge.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ge.fx.step[t.prop]?ge.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ge.cssProps[t.prop]]&&!ge.cssHooks[t.prop]?t.elem[t.prop]=t.now:ge.style(t.elem,t.prop,t.now+t.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ge.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ge.fx=H.prototype.init,ge.fx.step={};var mn,vn,yn=/^(?:toggle|show|hide)$/,bn=/queueHooks$/;ge.Animation=ge.extend(U,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return g(n.elem,t,ze.exec(e),n),n}]},tweener:function(t,e){ge.isFunction(t)?(e=t,t=["*"]):t=t.match(Oe);for(var n,i=0,r=t.length;r>i;i++)n=t[i],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(e)},prefilters:[G],prefilter:function(t,e){e?U.prefilters.unshift(t):U.prefilters.push(t)}}),ge.speed=function(t,e,n){var i=t&&"object"==typeof t?ge.extend({},t):{complete:n||!n&&e||ge.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ge.isFunction(e)&&e};return ge.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in ge.fx.speeds?ge.fx.speeds[i.duration]:ge.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ge.isFunction(i.old)&&i.old.call(this),i.queue&&ge.dequeue(this,i.queue)},i},ge.fn.extend({fadeTo:function(t,e,n,i){return this.filter(je).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ge.isEmptyObject(t),o=ge.speed(e,n,i),s=function(){var e=U(this,ge.extend({},t),o);(r||Ne.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ge.timers,s=Ne.get(this);
if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&bn.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ge.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Ne.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ge.timers,s=i?i.length:0;for(n.finish=!0,ge.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ge.each(["toggle","show","hide"],function(t,e){var n=ge.fn[e];ge.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(W(e,!0),t,i,r)}}),ge.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ge.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ge.timers=[],ge.fx.tick=function(){var t,e=0,n=ge.timers;for(mn=ge.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ge.fx.stop(),mn=void 0},ge.fx.timer=function(t){ge.timers.push(t),ge.fx.start()},ge.fx.interval=13,ge.fx.start=function(){vn||(vn=!0,F())},ge.fx.stop=function(){vn=null},ge.fx.speeds={slow:600,fast:200,_default:400},ge.fn.delay=function(e,n){return e=ge.fx?ge.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=ne.createElement("input"),e=ne.createElement("select"),n=e.appendChild(ne.createElement("option"));t.type="checkbox",pe.checkOn=""!==t.value,pe.optSelected=n.selected,t=ne.createElement("input"),t.value="t",t.type="radio",pe.radioValue="t"===t.value}();var wn,_n=ge.expr.attrHandle;ge.fn.extend({attr:function(t,e){return Le(this,ge.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ge.removeAttr(this,t)})}}),ge.extend({attr:function(t,e,n){var i,r,o=t.nodeType;return 3!==o&&8!==o&&2!==o?"undefined"==typeof t.getAttribute?ge.prop(t,e,n):(1===o&&ge.isXMLDoc(t)||(r=ge.attrHooks[e.toLowerCase()]||(ge.expr.match.bool.test(e)?wn:void 0)),void 0!==n?null===n?void ge.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ge.find.attr(t,e),null==i?void 0:i)):void 0},attrHooks:{type:{set:function(t,e){if(!pe.radioValue&&"radio"===e&&r(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Oe);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),wn={set:function(t,e,n){return e===!1?ge.removeAttr(t,n):t.setAttribute(n,n),n}},ge.each(ge.expr.match.bool.source.match(/\w+/g),function(t,e){var n=_n[e]||ge.find.attr;_n[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=_n[s],_n[s]=r,r=null!=n(t,e,i)?s:null,_n[s]=o),r}});var xn=/^(?:input|select|textarea|button)$/i,kn=/^(?:a|area)$/i;ge.fn.extend({prop:function(t,e){return Le(this,ge.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ge.propFix[t]||t]})}}),ge.extend({prop:function(t,e,n){var i,r,o=t.nodeType;return 3!==o&&8!==o&&2!==o?(1===o&&ge.isXMLDoc(t)||(e=ge.propFix[e]||e,r=ge.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=ge.find.attr(t,"tabindex");return e?parseInt(e,10):xn.test(t.nodeName)||kn.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),pe.optSelected||(ge.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ge.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ge.propFix[this.toLowerCase()]=this}),ge.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ge.isFunction(t))return this.each(function(e){ge(this).addClass(t.call(this,e,Y(this)))});if("string"==typeof t&&t)for(e=t.match(Oe)||[];n=this[l++];)if(r=Y(n),i=1===n.nodeType&&" "+q(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=q(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ge.isFunction(t))return this.each(function(e){ge(this).removeClass(t.call(this,e,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Oe)||[];n=this[l++];)if(r=Y(n),i=1===n.nodeType&&" "+q(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=q(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(ge.isFunction(t)?function(n){ge(this).toggleClass(t.call(this,n,Y(this),e),e)}:function(){var e,i,r,o;if("string"===n)for(i=0,r=ge(this),o=t.match(Oe)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=Y(this),e&&Ne.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Ne.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+q(Y(n))+" ").indexOf(e)>-1)return!0;return!1}});var Cn=/\r/g;ge.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ge.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ge(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=ge.map(r,function(t){return null==t?"":t+""})),e=ge.valHooks[this.type]||ge.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=ge.valHooks[r.type]||ge.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Cn,""):null==n?"":n)):void 0}}),ge.extend({valHooks:{option:{get:function(t){var e=ge.find.attr(t,"value");return null!=e?e:q(ge.text(t))}},select:{get:function(t){var e,n,i,o=t.options,s=t.selectedIndex,a="select-one"===t.type,l=a?null:[],u=a?s+1:o.length;for(i=0>s?u:a?s:0;u>i;i++)if(n=o[i],!(!n.selected&&i!==s||n.disabled||n.parentNode.disabled&&r(n.parentNode,"optgroup"))){if(e=ge(n).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var n,i,r=t.options,o=ge.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ge.inArray(ge.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ge.each(["radio","checkbox"],function(){ge.valHooks[this]={set:function(t,e){return Array.isArray(e)?t.checked=ge.inArray(ge(t).val(),e)>-1:void 0}},pe.checkOn||(ge.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var $n=/^(?:focusinfocus|focusoutblur)$/;ge.extend(ge.event,{trigger:function(e,n,i,r){var o,s,a,l,u,c,d,h=[i||ne],p=ce.call(e,"type")?e.type:e,f=ce.call(e,"namespace")?e.namespace.split("."):[];if(s=a=i=i||ne,3!==i.nodeType&&8!==i.nodeType&&!$n.test(p+ge.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[ge.expando]?e:new ge.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ge.makeArray(n,[e]),d=ge.event.special[p]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!ge.isWindow(i)){for(l=d.delegateType||p,$n.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(i.ownerDocument||ne)&&h.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||p,c=(Ne.get(s,"events")||{})[e.type]&&Ne.get(s,"handle"),c&&c.apply(s,n),c=u&&s[u],c&&c.apply&&Ie(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Ie(i)||u&&ge.isFunction(i[p])&&!ge.isWindow(i)&&(a=i[u],a&&(i[u]=null),ge.event.triggered=p,i[p](),ge.event.triggered=void 0,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=ge.extend(new ge.Event,n,{type:t,isSimulated:!0});ge.event.trigger(i,null,e)}}),ge.fn.extend({trigger:function(t,e){return this.each(function(){ge.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ge.event.trigger(t,e,n,!0):void 0}}),ge.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ge.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ge.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),pe.focusin="onfocusin"in t,pe.focusin||ge.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ge.event.simulate(e,t.target,ge.event.fix(t))};ge.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Ne.access(i,e);r||i.addEventListener(t,n,!0),Ne.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Ne.access(i,e)-1;r?Ne.access(i,e,r):(i.removeEventListener(t,n,!0),Ne.remove(i,e))}}});var Mn=t.location,Sn=ge.now(),Tn=/\?/;ge.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ge.error("Invalid XML: "+e),n};var Dn=/\[\]$/,En=/\r?\n/g,On=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;ge.param=function(t,e){var n,i=[],r=function(t,e){var n=ge.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!ge.isPlainObject(t))ge.each(t,function(){r(this.name,this.value)});else for(n in t)K(n,t[n],e,r);return i.join("&")},ge.fn.extend({serialize:function(){return ge.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ge.prop(this,"elements");return t?ge.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ge(this).is(":disabled")&&An.test(this.nodeName)&&!On.test(t)&&(this.checked||!Ue.test(t))}).map(function(t,e){var n=ge(this).val();return null==n?null:Array.isArray(n)?ge.map(n,function(t){return{name:e.name,value:t.replace(En,"\r\n")}}):{name:e.name,value:n.replace(En,"\r\n")}}).get()}});var Pn=/%20/g,Ln=/#.*$/,In=/([?&])_=[^&]*/,Nn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bn=/^(?:GET|HEAD)$/,Hn=/^\/\//,Fn={},zn={},Wn="*/".concat("*"),jn=ne.createElement("a");jn.href=Mn.href,ge.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mn.href,type:"GET",isLocal:Rn.test(Mn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ge.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?J(J(t,ge.ajaxSettings),e):J(ge.ajaxSettings,t)},ajaxPrefilter:X(Fn),ajaxTransport:X(zn),ajax:function(e,n){function i(e,n,i,a){var u,h,p,w,_,x=n;c||(c=!0,l&&t.clearTimeout(l),r=void 0,s=a||"",k.readyState=e>0?4:0,u=e>=200&&300>e||304===e,i&&(w=Q(f,k,i)),w=te(f,w,k,u),u?(f.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(ge.lastModified[o]=_),_=k.getResponseHeader("etag"),_&&(ge.etag[o]=_)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=w.state,h=w.data,p=w.error,u=!p)):(p=x,!e&&x||(x="error",0>e&&(e=0))),k.status=e,k.statusText=(n||x)+"",u?v.resolveWith(g,[h,x,k]):v.rejectWith(g,[k,x,p]),k.statusCode(b),b=void 0,d&&m.trigger(u?"ajaxSuccess":"ajaxError",[k,f,u?h:p]),y.fireWith(g,[k,x]),d&&(m.trigger("ajaxComplete",[k,f]),--ge.active||ge.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,s,a,l,u,c,d,h,p,f=ge.ajaxSetup({},n),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?ge(g):ge.event,v=ge.Deferred(),y=ge.Callbacks("once memory"),b=f.statusCode||{},w={},_={},x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Nn.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(v.promise(k),f.url=((e||f.url||Mn.href)+"").replace(Hn,Mn.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Oe)||[""],null==f.crossDomain){u=ne.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=jn.protocol+"//"+jn.host!=u.protocol+"//"+u.host}catch(C){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ge.param(f.data,f.traditional)),Z(Fn,f,n,k),c)return k;d=ge.event&&f.global,d&&0===ge.active++&&ge.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bn.test(f.type),o=f.url.replace(Ln,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pn,"+")):(p=f.url.slice(o.length),f.data&&(o+=(Tn.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(o=o.replace(In,"$1"),p=(Tn.test(o)?"&":"?")+"_="+Sn++ +p),f.url=o+p),f.ifModified&&(ge.lastModified[o]&&k.setRequestHeader("If-Modified-Since",ge.lastModified[o]),ge.etag[o]&&k.setRequestHeader("If-None-Match",ge.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Wn+"; q=0.01":""):f.accepts["*"]);for(h in f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(f.beforeSend.call(g,k,f)===!1||c))return k.abort();if(x="abort",y.add(f.complete),k.done(f.success),k.fail(f.error),r=Z(zn,f,n,k)){if(k.readyState=1,d&&m.trigger("ajaxSend",[k,f]),c)return k;f.async&&f.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},f.timeout));try{c=!1,r.send(w,i)}catch(C){if(c)throw C;i(-1,C)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return ge.get(t,e,n,"json")},getScript:function(t,e){return ge.get(t,void 0,e,"script")}}),ge.each(["get","post"],function(t,e){ge[e]=function(t,n,i,r){return ge.isFunction(n)&&(r=r||i,i=n,n=void 0),ge.ajax(ge.extend({url:t,type:e,dataType:r,data:n,success:i},ge.isPlainObject(t)&&t))}}),ge._evalUrl=function(t){return ge.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ge.fn.extend({wrapAll:function(t){var e;return this[0]&&(ge.isFunction(t)&&(t=t.call(this[0])),e=ge(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return this.each(ge.isFunction(t)?function(e){ge(this).wrapInner(t.call(this,e))}:function(){var e=ge(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ge.isFunction(t);return this.each(function(n){ge(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ge(this).replaceWith(this.childNodes)}),this}}),ge.expr.pseudos.hidden=function(t){return!ge.expr.pseudos.visible(t)},ge.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ge.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Gn={0:200,1223:204},Vn=ge.ajaxSettings.xhr();pe.cors=!!Vn&&"withCredentials"in Vn,pe.ajax=Vn=!!Vn,ge.ajaxTransport(function(e){var n,i;return pe.cors||Vn&&!e.crossDomain?{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Gn[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),ge.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ge.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ge.globalEval(t),t}}}),ge.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ge.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ge("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),ne.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Un=[],qn=/(=)\?(?=&|$)|\?\?/;ge.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Un.pop()||ge.expando+"_"+Sn++;return this[t]=!0,t}}),ge.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(qn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&qn.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=ge.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(qn,"$1"+r):e.jsonp!==!1&&(e.url+=(Tn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ge.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){void 0===o?ge(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Un.push(r)),s&&ge.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),pe.createHTMLDocument=function(){var t=ne.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ge.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(pe.createHTMLDocument?(e=ne.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=ne.location.href,e.head.appendChild(i)):e=ne),r=Ce.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=w([t],e,o),o&&o.length&&ge(o).remove(),ge.merge([],r.childNodes))},ge.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=q(t.slice(a)),t=t.slice(0,a)),ge.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ge.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ge("<div>").append(ge.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ge.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ge.fn[e]=function(t){return this.on(e,t)}}),ge.expr.pseudos.animated=function(t){return ge.grep(ge.timers,function(e){return t===e.elem}).length},ge.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u,c=ge.css(t,"position"),d=ge(t),h={};"static"===c&&(t.style.position="relative"),a=d.offset(),o=ge.css(t,"top"),l=ge.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ge.isFunction(e)&&(e=e.call(t,n,ge.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):d.css(h)}},ge.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ge.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,r=e.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ge.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),r(t[0],"html")||(i=t.offset()),i={top:i.top+ge.css(t[0],"borderTopWidth",!0),left:i.left+ge.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-ge.css(n,"marginTop",!0),left:e.left-i.left-ge.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ge.css(t,"position");)t=t.offsetParent;return t||Ze})}}),ge.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ge.fn[t]=function(i){return Le(this,function(t,i,r){var o;return ge.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ge.each(["top","left"],function(t,e){ge.cssHooks[e]=P(pe.pixelPosition,function(t,n){return n?(n=A(t,e),ln.test(n)?ge(t).position()[e]+"px":n):void 0})}),ge.each({Height:"height",Width:"width"},function(t,e){ge.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ge.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||o===!0?"margin":"border");return Le(this,function(e,n,r){var o;return ge.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?ge.css(e,n,a):ge.style(e,n,r,a)},e,s?r:void 0,s)}})}),ge.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ge.holdReady=function(t){t?ge.readyWait++:ge.ready(!0)},ge.isArray=Array.isArray,ge.parseJSON=JSON.parse,ge.nodeName=r,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ge});var Yn=t.jQuery,Kn=t.$;return ge.noConflict=function(e){return t.$===ge&&(t.$=Kn),e&&t.jQuery===ge&&(t.jQuery=Yn),ge},e||(t.jQuery=t.$=ge),ge}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function n(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function s(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}function a(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{};var l=(t.ui.version="1.12.1",0),u=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(a[e]=i)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,r=u.call(arguments,1),o=0,s=r.length;s>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(e[n]=t.isPlainObject(i)?t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=u.call(arguments,1),a=this;return o?this.length||"instance"!==r?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s),n!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):a=void 0:(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var s,a;for(a=0;a<n.length;a++)s=r.classesElementLookup[n[a]]||t(),s=t(e.add?t.unique(s.get().concat(e.element.get())):s.not(e.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")
},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget;!function(){function e(t,e,n){return[parseFloat(t[0])*(d.test(t[0])?e/100:1),parseFloat(t[1])*(d.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,o=Math.max,s=Math.abs,a=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,h=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return h.apply(this,arguments);r=t.extend({},r);var d,p,f,g,m,v,y=t(r.of),b=t.position.getWithinInfo(r.within),w=t.position.getScrollInfo(b),_=(r.collision||"flip").split(" "),x={};return v=i(y),y[0].preventDefault&&(r.at="left top"),p=v.width,f=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=a.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=a.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",t=u.exec(n[0]),e=u.exec(n[1]),x[this]=[t?t[0]:0,e?e[0]:0],r[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===r.at[0]?m.left+=p:"center"===r.at[0]&&(m.left+=p/2),"bottom"===r.at[1]?m.top+=f:"center"===r.at[1]&&(m.top+=f/2),d=e(x.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,a,l=t(this),u=l.outerWidth(),c=l.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),k=u+h+n(this,"marginRight")+w.width,C=c+v+n(this,"marginBottom")+w.height,$=t.extend({},m),M=e(x.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?$.left-=u:"center"===r.my[0]&&($.left-=u/2),"bottom"===r.my[1]?$.top-=c:"center"===r.my[1]&&($.top-=c/2),$.left+=M[0],$.top+=M[1],i={marginLeft:h,marginTop:v},t.each(["left","top"],function(e,n){t.ui.position[_[e]]&&t.ui.position[_[e]][n]($,{targetWidth:p,targetHeight:f,elemWidth:u,elemHeight:c,collisionPosition:i,collisionWidth:k,collisionHeight:C,offset:[d[0]+M[0],d[1]+M[1]],my:r.my,at:r.at,within:b,elem:l})}),r.using&&(a=function(t){var e=g.left-$.left,n=e+p-u,i=g.top-$.top,a=i+f-c,d={target:{element:y,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:$.left,top:$.top,width:u,height:c},horizontal:0>n?"left":e>0?"right":"center",vertical:0>a?"top":i>0?"bottom":"middle"};u>p&&s(e+n)<p&&(d.horizontal="center"),c>f&&s(i+a)<f&&(d.vertical="middle"),d.important=o(s(e),s(n))>o(s(i),s(a))?"horizontal":"vertical",r.using.call(this,t,d)}),l.offset(t.extend($,{using:a}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,s=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,u=a+e.collisionWidth-s-r;e.collisionWidth>s?l>0&&0>=u?(n=t.left+l+e.collisionWidth-s-r,t.left+=l-n):t.left=u>0&&0>=l?r:l>u?r+s-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=o(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,u=a+e.collisionHeight-s-r;e.collisionHeight>s?l>0&&0>=u?(n=t.top+l+e.collisionHeight-s-r,t.top+=l-n):t.top=u>0&&0>=l?r:l>u?r+s-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,d=u+e.collisionWidth-a-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(n=t.left+h+p+f+e.collisionWidth-a-o,(0>n||n<s(c))&&(t.left+=h+p+f)):d>0&&(i=t.left-e.collisionPosition.marginLeft+h+p+f-l,(i>0||s(i)<d)&&(t.left+=h+p+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,d=u+e.collisionHeight-a-l,h="top"===e.my[1],p=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(i=t.top+p+f+g+e.collisionHeight-a-o,(0>i||i<s(c))&&(t.top+=p+f+g)):d>0&&(n=t.top-e.collisionPosition.marginTop+p+f+g-l,(n>0||s(n)<d)&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();var c=(t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),"ui-effects-"),d="ui-effects-style",h="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=u(),i=n._rgba=[];return e=e.toLowerCase(),f(l,function(t,r){var o,s=r.re.exec(e),a=s&&r.parse(s),l=r.space||"rgba";return a?(o=n[l](a),n[c[l].cache]=o[c[l].cache],i=n._rgba=o._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var d=this,h=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,a,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(c.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===h?(r instanceof u?f(c,function(t,e){r[e.cache]&&(d[e.cache]=r[e.cache].slice())}):f(c,function(e,i){var o=i.cache;f(i.props,function(t,e){if(!d[o]&&i.to){if("alpha"===t||null==r[t])return;d[o]=i.to(d._rgba)}d[o][e.idx]=n(r[t],e,!0)}),d[o]&&t.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):void 0},is:function(t){var e=u(t),n=!0,i=this;return f(c,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(t,e){return null!=s[e.idx]?n=s[e.idx]===o[e.idx]:void 0})),n}),n},_space:function(){var t=[],e=this;return f(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=u(t),r=i._space(),o=c[r],s=0===this.alpha()?u("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,s=a[o],u=i[o],c=d[r.type]||{};null!==u&&(null===s?l[o]=u:(c.mod&&(u-s>c.mod/2?s+=c.mod:s-u>c.mod/2&&(s-=c.mod)),l[o]=n((u-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(e)._rgba;return u(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),u=a-l,c=a+l,d=.5*c;return e=l===a?0:i===a?60*(r-o)/u+360:r===a?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(e)%360,n,d,null==s?1:s]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=.5>=i?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},f(c,function(i,r){var o=r.props,s=r.cache,l=r.to,c=r.from;u.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var r,a=t.type(i),d="array"===a||"object"===a?i:arguments,h=this[s].slice();return f(o,function(t,e){var i=d["object"===a?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)}),c?(r=u(c(h)),r[s]=h,r):u(h)},f(o,function(e,n){u.fn[e]||(u.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===s?c:("function"===s&&(r=r.call(this,c),s=t.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=u(o||r),!h.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,s={};for(i in n)o=n[i],e[i]!==o&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(o)))&&(s[i]=o));return s}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&s[e+"Class"](r[e])})},o(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(h)||e(n)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;i>n;n++)null!==e[n]&&t.data(c+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;r>i;i++)null!==e[i]&&(n=t.data(c+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(s){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(d,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(d)||"",t.removeData(d)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=c+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){a.removeData(h),t.effects.cleanUp(a),"hide"===i.mode&&a.hide(),s()}function s(){t.isFunction(l)&&l.call(a[0]),t.isFunction(e)&&e()}var a=t(this);i.mode=c.shift(),t.uiBackCompat===!1||o?"none"===i.mode?(a[u](),s()):r.call(a[0],i,n):(a.is(":hidden")?"hide"===u:"show"===u)?(a[u](),s()):r.call(a[0],i,s)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,s=i.queue,a=s||"fx",l=i.complete,u=i.mode,c=[],d=function(e){var n=t(this),i=t.effects.mode(n,u)||o;n.data(h,!0),c.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?u?this[u](i.duration,l):this.each(function(){l&&l.call(this)}):s===!1?this.each(d).each(n):this.queue(a,d).queue(a,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=r.offset(),c={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:d.top-a,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}();{var f,f=t.effects;t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,s=t(this),a=e.mode,l="hide"===a,u="show"===a,c=e.direction||"up",d=e.distance,h=e.times||5,p=2*h+(u||l?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,b=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(m),d||(d=s["top"===m?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[m]=o,s.css("opacity",0).css(m,v?2*-d:2*d).animate(r,f,g)),l&&(d/=Math.pow(2,h-1)),r={},r[m]=o;h>y;y++)i={},i[m]=(v?"-=":"+=")+d,s.animate(i,f,g).animate(r,f,g),d=l?2*d:d/2;l&&(i={opacity:0},i[m]=(v?"-=":"+=")+d,s.animate(i,f,g)),s.queue(n),t.effects.unshift(s,b,p+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,u=a||"vertical"===s;i=o.cssClip(),r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,s="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a?"-=":"+=",c="+="===u?"-=":"+=",d={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,d[l]=u+i,s&&(r.css(d),d[l]=c+i,d.opacity=1),r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){b.push(this),b.length===d*h&&r()}function r(){p.css({visibility:"visible"}),t(b).remove(),n()}var o,s,a,l,u,c,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=d,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(o=0;d>o;o++)for(l=m.top+o*y,c=o-(d-1)/2,s=0;h>s;s++)a=m.left+s*v,u=s-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?u*v:0),top:l+(g?c*y:0),opacity:g?0:1}).animate({left:a+(g?0:u*v),top:l+(g?0:c*y),opacity:g?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),u=!!e.horizFirst,c=u?["right","bottom"]:["bottom","right"],d=e.duration/2,h=t.effects.createPlaceholder(i),p=i.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],v=i.queue().length;l&&(a=parseInt(l[1],10)/100*m[s?0:1]),f.clip[c[0]]=a,g.clip[c[0]]=a,g.clip[c[1]]=0,o&&(i.cssClip(g.clip),h&&h.css(t.effects.clipToBox(g)),g.clip=p),i.queue(function(n){h&&h.animate(t.effects.clipToBox(f),d,e.easing).animate(t.effects.clipToBox(g),d,e.easing),n()}).animate(f,d,e.easing).animate(g,d,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,d="effect"!==c,h=e.scale||"both",p=e.origin||["middle","center"],f=s.css("position"),g=s.position(),m=t.effects.scaledDimensions(s),v=e.from||m,y=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===c&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},("box"===h||"both"===h)&&(r.from.y!==r.to.y&&(v=t.effects.setTransition(s,l,r.from.y,v),y=t.effects.setTransition(s,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(s,u,r.from.x,v),y=t.effects.setTransition(s,u,r.to.x,y))),("content"===h||"both"===h)&&r.from.y!==r.to.y&&(v=t.effects.setTransition(s,a,r.from.y,v),y=t.effects.setTransition(s,a,r.to.y,y)),p&&(i=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),s.css(v),("content"===h||"both"===h)&&(l=l.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),s=t.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,u,r.from.x,o),s=t.effects.setTransition(n,u,r.to.x,s)),d&&t.effects.saveStyle(n),n.css(o),n.animate(s,e.duration,e.easing,function(){d&&t.effects.restoreStyle(n)})})),s.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===y.opacity&&s.css("opacity",v.opacity),d||(s.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(s)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=o||s,l=2*(e.times||5)+(a?1:0),u=e.duration/l,c=0,d=1,h=i.queue().length;
for((o||!i.is(":visible"))&&(i.css("opacity",0).show(),c=1);l>d;d++)i.animate({opacity:c},u,e.easing),c=1-c;i.animate({opacity:c},u,e.easing),i.queue(n),t.effects.unshift(i,h,l+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,u=Math.round(e.duration/l),c="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,h={},p={},f={},g=r.queue().length;for(t.effects.createPlaceholder(r),h[c]=(d?"-=":"+=")+s,p[c]=(d?"+=":"-=")+2*s,f[c]=(d?"-=":"+=")+2*s,r.animate(h,u,e.easing);a>i;i++)r.animate(p,u,e.easing).animate(f,u,e.easing);r.animate(p,u,e.easing).animate(h,u/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0),h={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[u],h[u]=(c?-1:1)*d+r,h.clip=o.cssClip(),h.clip[s[l][1]]=h.clip[s[l][0]],"show"===a&&(o.cssClip(h.clip),o.css(u,h[u]),h.clip=i,h[u]=r),o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})}t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}));t.ui.focusable=function(n,i){var r,o,s,a,l,u=n.nodeName.toLowerCase();return"area"===u?(r=n.parentNode,o=r.name,n.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap='#"+o+"']"),s.length>0&&s.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(u)?(a=!n.disabled,a&&(l=t(n).closest("fieldset")[0],l&&(a=!l.disabled))):a="a"===u?n.href||i:i,a&&t(n).is(":visible")&&e(t(n)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),i=this.attr("id"),i&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return i&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,u=l?t():s.next(),c=o.next(),d={oldHeader:o,oldPanel:c,newHeader:l?t():s,newPanel:u};e.preventDefault(),a&&!r.collapsible||this._trigger("beforeActivate",e,d)===!1||(r.active=l?!1:this.headers.index(s),this.active=a?t():s,this._toggle(d),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},d=u&&c.down||c,h=function(){s._toggleComplete(n)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||c.easing,o=o||d.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,h):t.animate(this.showProps,o,r,h)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,s=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}});t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!n&&!i)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});{var g=(t.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,s={};return r?"controlgroupLabel"===i?(o=e.element.find(r),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")
}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[i](a);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o?o:r[i]("instance")),n.push(l[0])}}))):void 0}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(g,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}})}t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,n=this.element[0].name,i="input[name='"+t.ui.escapeSelector(n)+"']";return n?(e=this.form.length?t(this.form[0].elements).filter(i):t(i).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()):void 0},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);t.ui.checkboxradio;t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});t.ui.button;t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&e.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var a,l,u,c,d,h=this._dialogInst;return h||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),s(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),m===r&&(m=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,a,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),s(u.settings,r),null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);return t.datepicker._get(r,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,r,o,a,l,u,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(i,"beforeShow"),o=r?r.apply(e,[e,i]):{},o!==!1&&(s(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(u=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?i.dpDiv.show(u,t.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],s=17,a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&o.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",s*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,s,a,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},_=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),s=n.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},x=function(e,i,r){var o=-1,s=t.map(w(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=e[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||w("'")?k():b=!1;else switch(e.charAt(r)){case"d":v=_("d");break;case"D":x("D",d,h);break;case"o":y=_("o");break;case"m":m=_("m");break;case"M":m=x("M",p,f);break;case"y":g=_("y");break;case"@":a=new Date(_("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((_("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":w("'")?k():b=!0;break;default:k()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),o>=v)break;m++,v-=o}if(a=this._daylightSavingAdjust(new Date(g,m-1,v)),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":d+=u("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),r,o);break;case"o":d+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),s,a);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;
case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(a){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),s=r.getMonth(),a=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(n);u;){switch(u[2]||"d"){case"d":case"D":a+=parseInt(u[1],10);break;case"w":case"W":a+=7*parseInt(u[1],10);break;case"m":case"M":s+=parseInt(u[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,s));break;case"y":case"Y":o+=parseInt(u[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(o,s))}u=l.exec(n)}return new Date(o,s,a)},s=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D,E,O,A,P,L,I,N,R,B,H,F=new Date,z=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),W=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),G=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),q=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),K=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-q,te=t.drawYear;if(0>Q&&(Q+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(te,Q,1))>e;)Q--,0>Q&&(Q=11,te--);for(t.drawMonth=Q,t.drawYear=te,n=this._get(t,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Q-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,te,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":G?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(te,Q+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,te,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":G?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?X:z,s=V?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(W?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",x=0;x<U[0];x++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if($=this._daylightSavingAdjust(new Date(te,Q,t.selectedDay)),M=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",M=" ui-corner-"+(W?"right":"left");break;case U[1]-1:S+=" ui-datepicker-group-last",M=" ui-corner-"+(W?"left":"right");break;default:S+=" ui-datepicker-group-middle",M=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===x?W?o:i:"")+(/all|right/.test(M)&&0===x?W?i:o:"")+this._generateMonthYearHeader(t,Q,te,Z,J,x>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;7>_;_++)D=(_+c)%7,T+="<th scope='col'"+((_+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[D]+"'>"+p[D]+"</span></th>";for(S+=T+"</tr></thead><tbody>",E=this._getDaysInMonth(te,Q),te===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),O=(this._getFirstDayOfMonth(te,Q)-c+7)%7,A=Math.ceil((O+E)/7),P=K&&this.maxRows>A?this.maxRows:A,this.maxRows=P,L=this._daylightSavingAdjust(new Date(te,Q,1-O)),I=0;P>I;I++){for(S+="<tr>",N=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(L)+"</td>":"",_=0;7>_;_++)R=m?m.apply(t.input?t.input[0]:null,[L]):[!0,""],B=L.getMonth()!==Q,H=B&&!y||!R[0]||Z&&Z>L||J&&L>J,N+="<td class='"+((_+c+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(L.getTime()===$.getTime()&&Q===t.selectedMonth&&t._keyEvent||b.getTime()===L.getTime()&&b.getTime()===$.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+R[1]+(L.getTime()===X.getTime()?" "+this._currentClass:"")+(L.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(B&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===z.getTime()?" ui-state-highlight":"")+(L.getTime()===X.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);S+=N+"</tr>"}Q++,Q>11&&(Q=0,te++),S+="</tbody></table>"+(K?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=S}w+=k}return w+=u,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,u,c,d,h,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(d[0]),g=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&n>e?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(0>e?e:r[0]*r[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1";var v=(t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);t(document).on("mouseup",function(){v=!1});t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),v=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)
}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,u,c,d,h,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,u=l+i.snapElements[h].width,c=i.snapElements[h].top-i.margins.top,d=c+i.snapElements[h].height,l-g>v||m>u+g||c-g>b||y>d+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(c-b)<=g,o=Math.abs(d-y)<=g,s=Math.abs(l-v)<=g,a=Math.abs(u-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(d-b)<=g,s=Math.abs(l-m)<=g,a=Math.abs(u-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0?!0:(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),l?(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-r},a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),s&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,h=d instanceof t?d.get(0):/parent/.test(d)?c.parent().get(0):d;h&&(l.containerElement=t(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:o,a=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||e.shiftKey,d={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-d.left),c&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-d.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-d.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,u=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,d=Math.round((r.width-o.width)/u)*u,h=Math.round((r.height-o.height)/c)*c,p=o.width+d,f=o.height+h,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=u),y&&(f+=c),g&&(p-=u),m&&(f-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-d):((0>=f-c||0>=p-u)&&(e=n._getPaddingPlusBorderDimensions(this)),f-c>0?(n.size.height=f,n.position.top=s.top-h):(f=c-e.height,n.size.height=f,n.position.top=s.top+o.height-f),p-u>0?(n.size.width=p,n.position.left=s.left-d):(p=u-e.width,n.size.width=p,n.position.left=s.left+o.width-p))}});t.ui.resizable;t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;0>n&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var s=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=o.is(":data(ui-resizable)"),r&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||n===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]
})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});t.ui.dialog;t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&y(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var y=t.ui.intersect=function(){function t(t,e,n){return t>=e&&e+n>t}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,h=c+n.proportions().height;switch(i){case"fit":return o>=u&&d>=a&&s>=c&&h>=l;case"intersect":return u<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<d&&c<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<h;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,u,n.proportions().width);case"touch":return(s>=c&&h>=s||l>=c&&h>=l||c>s&&l>h)&&(o>=u&&d>=o||a>=u&&d>=a||u>o&&a>d);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&y(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=y(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");return r?(i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?u=!(c.left>a||c.right<o||c.top>l||c.bottom<s):"fit"===r.tolerance&&(u=c.left>o&&c.right<a&&c.top>s&&c.bottom<l),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0),i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;n>e;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,u,c=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-c.values(e));(r>n||r===n&&(e===c._lastChangedValue||c.values(e)===d.min))&&(r=n,o=t(this),s=e)}),a=this._start(e,s),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r,o=this.value(),s=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(n=0===e?Math.min(r,n):Math.max(r,n)),s[e]=n),n!==o&&(i=this._trigger("slide",t,this._uiHash(e,n,s)),i!==!1&&(this._hasMultipleValues()?this.values(e,n):this.value(n)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;t=i+e,t>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,u=this._animateOff?!1:a.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate))
},_handleEvents:{keydown:function(e){var n,i,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),n=this._start(e,s),n===!1))return}switch(o=this.options.step,i=r=this._hasMultipleValues()?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,s,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(i=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),i&&(!this.options.handle||n||(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>a&&l>i+u,h="y"===this.options.axis||e+c>o&&s>e+c,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return o?(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(o=t(u[i],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=t(h[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],a=d[n][0],i=0,u=a.length;u>i;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,u,c,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,c=h.floating||this._isFloating(this.currentItem),s=c?"left":"top",a=c?"width":"height",d=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[d]-l>this.items[i][a]/2&&(u=!0),Math.abs(e[d]-l)<r&&(r=Math.abs(e[d]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:a(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(n=this._parse(t),null!==n&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)
},stepUp:a(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:a(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:a(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:a(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void a(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});t.ui.spinner;t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){return t(r).attr("aria-controls")===i?(e=n,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=n?!1:0)),!n&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){function i(){return e>r&&(e=0),0>e&&(e=r),e}for(var r=this.tabs.length-1;-1!==t.inArray(i(),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(r=i.hash,s=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(s=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+s,o=e.element.find(r),o.length||(o=e._createPanel(s),o.insertAfter(e.panels[n-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),e===!0||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===i[0],a=s&&n.collapsible,l=a?t():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:u,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||this._trigger("beforeActivate",e,c)===!1||(n.active=a?!1:this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),u.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;n!==!1&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(n!==!0){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),i._trigger("load",n,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});t.ui.tabs;t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(e,t,i):(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}),void(n&&this._open(e,t,n)))},_open:function(e,n,i){function r(t){u.of=t,s.is(":hidden")||s.position(u)}var o,s,a,l,u=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),s=o.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),l=t("<div>").html(s.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(u.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});t.ui.tooltip}),function(t,e){"use strict";function n(t,e){for(var n,i=[],o=0;o<t.length;++o){if(n=s[t[o]]||r(t[o]),!n)throw"module definition dependecy not found: "+t[o];i.push(n)}e.apply(null,i)}function i(t,i,r){if("string"!=typeof t)throw"invalid module definition, module id must be defined and be a string";if(i===e)throw"invalid module definition, dependencies must be specified";if(r===e)throw"invalid module definition, definition function must be specified";n(i,function(){s[t]=r.apply(null,arguments)})}function r(e){for(var n=t,i=e.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){var i,r,o,a,l;for(i=0;i<n.length;i++){r=t,o=n[i],a=o.split(/[.\/]/);for(var u=0;u<a.length-1;++u)r[a[u]]===e&&(r[a[u]]={}),r=r[a[u]];r[a[a.length-1]]=s[o]}if(t.AMDLC_TESTS){l=t.privateModules||{};for(o in s)l[o]=s[o];for(i=0;i<n.length;i++)delete l[n[i]];t.privateModules=l}}var s={};i("tinymce/geom/Rect",[],function(){function t(t,e,n){var i,r,s,a,l,c;return i=e.x,r=e.y,s=t.w,a=t.h,l=e.w,c=e.h,n=(n||"").split(""),"b"===n[0]&&(r+=c),"r"===n[1]&&(i+=l),"c"===n[0]&&(r+=u(c/2)),"c"===n[1]&&(i+=u(l/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(i-=s),"c"===n[3]&&(r-=u(a/2)),"c"===n[4]&&(i-=u(s/2)),o(i,r,s,a)}function e(e,n,i,r){var o,s;for(s=0;s<r.length;s++)if(o=t(e,n,r[s]),o.x>=i.x&&o.x+o.w<=i.w+i.x&&o.y>=i.y&&o.y+o.h<=i.h+i.y)return r[s];return null}function n(t,e,n){return o(t.x-e,t.y-n,t.w+2*e,t.h+2*n)}function i(t,e){var n,i,r,s;return n=l(t.x,e.x),i=l(t.y,e.y),r=a(t.x+t.w,e.x+e.w),s=a(t.y+t.h,e.y+e.h),0>r-n||0>s-i?null:o(n,i,r-n,s-i)}function r(t,e,n){var i,r,s,a,u,c,d,h,p,f;return u=t.x,c=t.y,d=t.x+t.w,h=t.y+t.h,p=e.x+e.w,f=e.y+e.h,i=l(0,e.x-u),r=l(0,e.y-c),s=l(0,d-p),a=l(0,h-f),u+=i,c+=r,n&&(d+=i,h+=r,u-=s,c-=a),d-=s,h-=a,o(u,c,d-u,h-c)}function o(t,e,n,i){return{x:t,y:e,w:n,h:i}}function s(t){return o(t.left,t.top,t.width,t.height)}var a=Math.min,l=Math.max,u=Math.round;return{inflate:n,relativePosition:t,findBestRelativePosition:e,intersect:i,clamp:r,create:o,fromClientRect:s}}),i("tinymce/util/Promise",[],function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(e,t(i,this),t(r,this))}function n(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(r){return void t.reject(r)}t.resolve(i)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void a(t(n,e),t(i,this),t(r,this))}this._state=!0,this._value=e,o.call(this)}catch(s){r.call(this,s)}}function r(t){this._state=!1,this._value=t,o.call(this)}function o(){for(var t=0,e=this._deferreds.length;e>t;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function s(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function a(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}if(window.Promise)return window.Promise;var l=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,i){var r=this;return new e(function(e,o){n.call(r,new s(t,i,e,o))})},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new e(function(e,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){i(o,t)},n)}t[o]=s,0===--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=0,r=t.length;r>i;i++)t[i].then(e,n)})},e}),i("tinymce/util/Delay",["tinymce/util/Promise"],function(t){function e(t,e){function n(t){window.setTimeout(t,0)}var i,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=window[o[i]+"RequestAnimationFrame"];r||(r=n),r(t,e)}function n(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)}function i(t,e){return"number"!=typeof e&&(e=0),setInterval(t,e)}function r(t){return clearTimeout(t)}function o(t){return clearInterval(t)}var s;return{requestAnimationFrame:function(n,i){return s?void s.then(n):void(s=new t(function(t){i||(i=document.body),e(t,i)}).then(n))},setTimeout:n,setInterval:i,setEditorTimeout:function(t,e,i){return n(function(){t.removed||e()},i)},setEditorInterval:function(t,e,n){var r;return r=i(function(){t.removed?clearInterval(r):e()},n)},throttle:function(t,e){var i,r;return r=function(){var r=arguments;clearTimeout(i),i=n(function(){t.apply(this,r)},e)},r.stop=function(){clearTimeout(i)},r},clearInterval:o,clearTimeout:r}}),i("tinymce/Env",[],function(){function t(t){return"matchMedia"in window?matchMedia(t).matches:!1}var e,n,i,r,o,s,a,l,u,c,d,h,p,f=navigator,g=f.userAgent;e=window.opera&&window.opera.buildNumber,u=/Android/.test(g),n=/WebKit/.test(g),i=!n&&!e&&/MSIE/gi.test(g)&&/Explorer/gi.test(f.appName),i=i&&/MSIE (\w+)\./.exec(g)[1],r=-1==g.indexOf("Trident/")||-1==g.indexOf("rv:")&&-1==f.appName.indexOf("Netscape")?!1:11,o=-1==g.indexOf("Edge/")||i||r?!1:12,i=i||r||o,s=!n&&!r&&/Gecko/.test(g),a=-1!=g.indexOf("Mac"),l=/(iPad|iPhone)/.test(g),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=t("only screen and (max-device-width: 480px)")&&(u||l),h=t("only screen and (min-width: 800px)")&&(u||l),p=-1!=g.indexOf("Windows Phone"),o&&(n=!1);var m=!l||c||g.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:e,webkit:n,ie:i,gecko:s,mac:a,iOS:l,android:u,contentEditable:m,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=i,range:window.getSelection&&"Range"in window,documentMode:i&&!o?document.documentMode||7:10,fileApi:c,ceFalse:i===!1||i>8,desktop:!d&&!h,windowsPhone:p}}),i("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(t,e){function n(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function r(t,e){var n,i=e;return n=t.path,n&&n.length>0&&(i=n[0]),t.deepPath&&(n=t.deepPath(),n&&n.length>0&&(i=n[0])),i}function o(t,n){function i(){return!1}function o(){return!0}var s,a,l=n||{};for(s in t)c[s]||(l[s]=t[s]);if(l.target||(l.target=l.srcElement||document),e.experimentalShadowDom&&(l.target=r(t,l.target)),t&&u.test(t.type)&&t.pageX===a&&t.clientX!==a){var d=l.target.ownerDocument||document,h=d.documentElement,p=d.body;l.pageX=t.clientX+(h&&h.scrollLeft||p&&p.scrollLeft||0)-(h&&h.clientLeft||p&&p.clientLeft||0),l.pageY=t.clientY+(h&&h.scrollTop||p&&p.scrollTop||0)-(h&&h.clientTop||p&&p.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=o,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=o,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=o,l.stopPropagation()},l.isDefaultPrevented||(l.isDefaultPrevented=i,l.isPropagationStopped=i,l.isImmediatePropagationStopped=i),"undefined"==typeof l.metaKey&&(l.metaKey=!1),l}function s(e,r,o){function s(){o.domLoaded||(o.domLoaded=!0,r(c))}function a(){("complete"===u.readyState||"interactive"===u.readyState&&u.body)&&(i(u,"readystatechange",a),s())}function l(){try{u.documentElement.doScroll("left")}catch(e){return void t.setTimeout(l)}s()}var u=e.document,c={type:"ready"};return o.domLoaded?void r(c):(u.addEventListener?"complete"===u.readyState?s():n(e,"DOMContentLoaded",s):(n(u,"readystatechange",a),u.documentElement.doScroll&&e.self===e.top&&l()),void n(e,"load",s))}function a(){function t(t,e){var n,i,r,o,s=h[e];if(n=s&&s[t.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}var e,r,a,u,c,d=this,h={};r=l+(+new Date).toString(32),u="onmouseenter"in document.documentElement,a="onfocusin"in document.documentElement,c={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,d.domLoaded=!1,d.events=h,d.bind=function(i,l,p,f){function g(e){t(o(e||k.event),m)}var m,v,y,b,w,_,x,k=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[r]?m=i[r]:(m=e++,i[r]=m,h[m]={}),f=f||i,l=l.split(" "),y=l.length;y--;)b=l[y],_=g,w=x=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==i.readyState?p.call(f,o({type:b})):(u||(w=c[b],w&&(_=function(e){var n,i;if(n=e.currentTarget,i=e.relatedTarget,i&&n.contains)i=n.contains(i);else for(;i&&i!==n;)i=i.parentNode;i||(e=o(e||k.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=n,t(e,m))})),a||"focusin"!==b&&"focusout"!==b||(x=!0,w="focusin"===b?"focus":"blur",_=function(e){e=o(e||k.event),e.type="focus"===e.type?"focusin":"focusout",t(e,m)}),v=h[m][b],v?"ready"===b&&d.domLoaded?p({type:b}):v.push({func:p,scope:f}):(h[m][b]=v=[{func:p,scope:f}],v.fakeName=w,v.capture=x,v.nativeHandler=_,"ready"===b?s(i,_,d):n(i,w||b,_,x)));return i=v=0,p}},d.unbind=function(t,e,n){var o,s,a,l,u,c;if(!t||3===t.nodeType||8===t.nodeType)return d;if(o=t[r]){if(c=h[o],e){for(e=e.split(" "),a=e.length;a--;)if(u=e[a],s=c[u]){if(n)for(l=s.length;l--;)if(s[l].func===n){var p=s.nativeHandler,f=s.fakeName,g=s.capture;s=s.slice(0,l).concat(s.slice(l+1)),s.nativeHandler=p,s.fakeName=f,s.capture=g,c[u]=s}n&&0!==s.length||(delete c[u],i(t,s.fakeName||u,s.nativeHandler,s.capture))}}else{for(u in c)s=c[u],i(t,s.fakeName||u,s.nativeHandler,s.capture);c={}}for(u in c)return d;delete h[o];try{delete t[r]}catch(m){t[r]=null}}return d},d.fire=function(e,n,i){var s;if(!e||3===e.nodeType||8===e.nodeType)return d;i=o(null,i),i.type=n,i.target=e;do s=e[r],s&&t(i,s),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!i.isPropagationStopped());return d},d.clean=function(t){var e,n,i=d.unbind;if(!t||3===t.nodeType||8===t.nodeType)return d;if(t[r]&&i(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(i(t),n=t.getElementsByTagName("*"),e=n.length;e--;)t=n[e],t[r]&&i(t);return d},d.destroy=function(){h={}},d.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}}var l="mce-data-",u=/^(?:mouse|contextmenu)|click/,c={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return a.Event=new a,a.Event.bind(window,"ready",function(){}),a}),i("tinymce/dom/Sizzle",[],function(){function t(t,e,n,i){var r,o,s,a,l,u,d,p,f,g;if((e?e.ownerDocument||e:F)!==A&&O(e),e=e||A,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(L&&!i){if(r=ve.exec(t))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&B(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&_.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(_.qsa&&(!I||!I.test(t))){if(p=d=H,f=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=$(t),(d=e.getAttribute("id"))?p=d.replace(be,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=ye.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return Q.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{d||e.removeAttribute("id")}}}return S(t.replace(ae,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function r(t){var e=A.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&typeof t.getElementsByTagName!==q&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=W++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u=[z,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[H]||(e[H]={}),(a=l[i])&&a[0]===z&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;
return!0}:t[0]}function g(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),u&&e.push(a));return s}function v(t,e,n,r,o,s){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,s)),i(function(i,s,a,l){var u,c,d,h=[],p=[],f=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,h,t,a,l),b=n?o||(i?t:f||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=m(b,p),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?ee.call(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else b=m(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):Q.apply(s,b)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return ee.call(e,t)>-1},s,!0),c=[function(t,n,i){return!o&&(i||n!==T)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];r>a;a++)if(n=x.relative[t[a].type])c=[p(f(c),n)];else{if(n=x.filter[t[a].type].apply(null,t[a].matches),n[H]){for(i=++a;r>i&&!x.relative[t[i].type];i++);return v(a>1&&f(c),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ae,"$1"),n,i>a&&y(t.slice(a,i)),r>i&&y(t=t.slice(i)),r>i&&h(t))}c.push(n)}return f(c)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,u){var c,d,h,p=0,f="0",g=i&&[],v=[],y=T,b=i||o&&x.find.TAG("*",u),w=z+=null==y?1:Math.random()||.1,_=b.length;for(u&&(T=s!==A&&s);f!==_&&null!=(c=b[f]);f++){if(o&&c){for(d=0;h=e[d++];)if(h(c,s,a)){l.push(c);break}u&&(z=w)}r&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,v,s,a);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Z.call(l));v=m(v)}Q.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(z=w,T=y),g};return r?i(s):s}var w,_,x,k,C,$,M,S,T,D,E,O,A,P,L,I,N,R,B,H="sizzle"+-new Date,F=window.document,z=0,W=0,j=n(),G=n(),V=n(),U=function(t,e){return t===e&&(E=!0),0},q=typeof e,Y=1<<31,K={}.hasOwnProperty,X=[],Z=X.pop,J=X.push,Q=X.push,te=X.slice,ee=X.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ie+"*("+re+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ce=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),de=new RegExp(se),he=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),_e=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Q.apply(X=te.call(F.childNodes),F.childNodes),X[F.childNodes.length].nodeType}catch(xe){Q={apply:X.length?function(t,e){J.apply(t,te.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=t.support={},C=t.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},O=t.setDocument=function(t){function e(t){try{return t.top}catch(e){}return null}var n,i=t?t.ownerDocument||t:F,o=i.defaultView;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,P=i.documentElement,L=!C(i),o&&o!==e(o)&&(o.addEventListener?o.addEventListener("unload",function(){O()},!1):o.attachEvent&&o.attachEvent("onunload",function(){O()})),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=me.test(i.getElementsByClassName),_.getById=r(function(t){return P.appendChild(t).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),_.getById?(x.find.ID=function(t,e){if(typeof e.getElementById!==q&&L){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(we,_e);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(we,_e);return function(t){var n=typeof t.getAttributeNode!==q&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==q?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=_.getElementsByClassName&&function(t,e){return L?e.getElementsByClassName(t):void 0},N=[],I=[],(_.qsa=me.test(i.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+ie+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||I.push(":checked")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+ie+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(_.matchesSelector=me.test(R=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(t){_.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),N.push("!=",se)}),I=I.length&&new RegExp(I.join("|")),N=N.length&&new RegExp(N.join("|")),n=me.test(P.compareDocumentPosition),B=n||me.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=n?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&B(F,t)?-1:e===i||e.ownerDocument===F&&B(F,e)?1:D?ee.call(D,t)-ee.call(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,r=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:D?ee.call(D,t)-ee.call(D,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===F?-1:u[r]===F?1:0},i):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&O(e),n=n.replace(ce,"='$1']"),!(!_.matchesSelector||!L||N&&N.test(n)||I&&I.test(n)))try{var i=R.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,A,null,[e]).length>0},t.contains=function(t,e){return(t.ownerDocument||t)!==A&&O(t),B(t,e)},t.attr=function(t,n){(t.ownerDocument||t)!==A&&O(t);var i=x.attrHandle[n.toLowerCase()],r=i&&K.call(x.attrHandle,n.toLowerCase())?i(t,n,!L):e;return r!==e?r:_.attributes||!L?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null},t.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},t.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!_.detectDuplicates,D=!_.sortStable&&t.slice(0),t.sort(U),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return D=null,t},k=t.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,_e),t[3]=(t[3]||t[4]||t[5]||"").replace(we,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&de.test(n)&&(e=$(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==q&&t.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(c=m[H]||(m[H]={}),u=c[t]||[],p=u[0]===z&&u[1],h=u[0]===z&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[z,p,h];break}}else if(y&&(u=(e[H]||(e[H]={}))[t])&&u[0]===z)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[t]=[z,h]),d!==e)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=ee.call(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=M(t.replace(ae,"$1"));return r[H]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(t){return t=t.replace(we,_e),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,_e).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===P},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return fe.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,$=t.tokenize=function(e,n){var i,r,o,s,a,l,u,c=G[e+" "];if(c)return n?0:c.slice(0);for(a=e,l=[],u=x.preFilter;a;){(!i||(r=le.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ue.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ae," ")}),a=a.slice(i.length));for(s in x.filter)!(r=pe[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):G(e,l).slice(0)},M=t.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=$(t)),n=e.length;n--;)o=y(e[n]),o[H]?i.push(o):r.push(o);o=V(t,b(r,i)),o.selector=t}return o},S=t.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,d=!i&&$(t=u.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===e.nodeType&&L&&x.relative[o[1].type]){if(e=(x.find.ID(s.matches[0].replace(we,_e),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pe.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((l=x.find[a])&&(i=l(s.matches[0].replace(we,_e),ye.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return Q.apply(n,i),n;break}}return(u||M(t,d))(i,e,!L,n,ye.test(t)&&c(e.parentNode)||e),n},_.sortStable=H.split("").sort(U).join("")===H,_.detectDuplicates=!!E,O(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ne,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),t}),i("tinymce/util/Arr",[],function(){function t(t){var e,n,i=t;if(!c(t))for(i=[],e=0,n=t.length;n>e;e++)i[e]=t[e];return i}function n(t,n,i){var r,o;if(!t)return 0;if(i=i||t,t.length!==e){for(r=0,o=t.length;o>r;r++)if(n.call(i,t[r],r,t)===!1)return 0}else for(r in t)if(t.hasOwnProperty(r)&&n.call(i,t[r],r,t)===!1)return 0;return 1}function i(t,e){var i=[];return n(t,function(n,r){i.push(e(n,r,t))}),i}function r(t,e){var i=[];return n(t,function(n,r){(!e||e(n,r,t))&&i.push(n)}),i}function o(t,e){var n,i;if(t)for(n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}function s(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n}function a(t,e,n){var i,r;for(i=0,r=t.length;r>i;i++)if(e.call(n,t[i],i,t))return i;return-1}function l(t,n,i){var r=a(t,n,i);return-1!==r?t[r]:e}function u(t){return t[t.length-1]}var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return{isArray:c,toArray:t,each:n,map:i,filter:r,indexOf:o,reduce:s,findIndex:a,find:l,last:u}}),i("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(t,n){function i(t){return null===t||t===e?"":(""+t).replace(p,"")}function r(t,i){return i?"array"==i&&n.isArray(t)?!0:typeof t==i:t!==e}function o(t,e,n){var i;for(t=t||[],e=e||",","string"==typeof t&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n}function s(t,e,n){var i,r,o,s,a,l=this,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(t[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},u=1),r[o]=e[o],l.extend(r[o].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=r[o],r[o]=u?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(t,e){r[o].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!=o&&(r[o].prototype[e]=t)})),l.each(e["static"],function(t,e){r[o][e]=t})}}function a(t,n){var i,r,o,s,a=arguments;for(i=1,r=a.length;r>i;i++){n=a[i];for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!==e&&(t[o]=s))}return t}function l(t,e,i,r){r=r||this,t&&(i&&(t=t[i]),n.each(t,function(t,n){return e.call(r,t,n,i)===!1?!1:void l(t,e,i,r)}))}function u(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)i=t[n],e[i]||(e[i]={}),e=e[i];return e}function c(t,e){var n,i;for(e=e||window,t=t.split("."),n=0,i=t.length;i>n&&(e=e[t[n]],e);n++);return e}function d(t,e){return!t||r(t,"array")?t:n.map(t.split(e||","),i)}function h(e){var n=t.cacheSuffix;return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}var p=/^\s*|\s*$/g;return{trim:i,isArray:n.isArray,is:r,toArray:n.toArray,makeMap:o,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,extend:a,create:s,walk:l,createNS:u,resolve:c,explode:d,_addCacheSuffix:h}}),i("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(t,n,i,r){function o(t){return"undefined"!=typeof t}function s(t){return"string"==typeof t}function a(t){return t&&t==t.window}function l(t,e){var n,i,r;for(e=e||k,r=e.createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n}function u(t,e,n,i){var r;if(s(e))e=l(e,v(t[0]));else if(e.length&&!e.nodeType){if(e=h.makeArray(e),i)for(r=e.length-1;r>=0;r--)u(t,e[r],n,i);else for(r=0;r<e.length;r++)u(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t}function c(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function d(t,e,n){var i,r;return e=h(e)[0],t.each(function(){var t=this;n&&i==t.parentNode?r.appendChild(t):(i=t.parentNode,r=e.cloneNode(!1),t.parentNode.insertBefore(r,t),r.appendChild(t))}),t}function h(t,e){return new h.fn.init(t,e)}function p(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1}function f(t){return null===t||t===x?"":(""+t).replace(I,"")}function g(t,e){var n,i,r,o,s;if(t)if(n=t.length,n===o){for(i in t)if(t.hasOwnProperty(i)&&(s=t[i],e.call(s,i,s)===!1))break}else for(r=0;n>r&&(s=t[r],e.call(s,r,s)!==!1);r++);return t}function m(t,e){var n=[];return g(t,function(t,i){e(i,t)&&n.push(i)}),n}function v(t){return t?9==t.nodeType?t:t.ownerDocument:k}function y(t,n,i){var r=[],o=t[n];for("string"!=typeof i&&i instanceof h&&(i=i[0]);o&&9!==o.nodeType;){if(i!==e){if(o===i)break;if("string"==typeof i&&h(o).is(i))break}1===o.nodeType&&r.push(o),o=o[n]}return r}function b(t,n,i,r){var o=[];for(r instanceof h&&(r=r[0]);t;t=t[n])if(!i||t.nodeType===i){if(r!==e){if(t===r)break;if("string"==typeof r&&h(t).is(r))break}o.push(t)}return o}function w(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType==n)return t;return null}function _(t,e,n){g(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})}var x,k=document,C=Array.prototype.push,$=Array.prototype.slice,M=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,S=t.Event,T=i.makeMap("children,contents,next,prev"),D=i.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),E=i.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),O={"for":"htmlFor","class":"className",readonly:"readOnly"},A={"float":"cssFloat"},P={},L={},I=/^\s*|\s*$/g;return h.fn=h.prototype={constructor:h,selector:"",context:null,length:0,init:function(t,e){var n,i,r=this;if(!t)return r;if(t.nodeType)return r.context=r[0]=t,r.length=1,r;if(e&&e.nodeType)r.context=e;else{if(e)return h(t).attr(e);r.context=e=document}if(s(t)){if(r.selector=t,n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:M.exec(t),!n)return h(e).find(t);if(n[1])for(i=l(t,v(e)).firstChild;i;)C.call(r,i),i=i.nextSibling;else{if(i=v(e).getElementById(n[2]),!i)return r;if(i.id!==n[2])return r.find(t);r.length=1,r[0]=i}}else this.add(t,!1);return r},toArray:function(){return i.toArray(this)},add:function(t,e){var n,i,r=this;if(s(t))return r.add(h(t));if(e!==!1)for(n=h.unique(r.toArray().concat(h.makeArray(t))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else C.apply(r,h.makeArray(t));return r},attr:function(t,e){var n,i=this;if("object"==typeof t)g(t,function(t,e){i.attr(t,e)});else{if(!o(e)){if(i[0]&&1===i[0].nodeType){if(n=P[t],n&&n.get)return n.get(i[0],t);if(E[t])return i.prop(t)?t:x;e=i[0].getAttribute(t,2),null===e&&(e=x)}return e}this.each(function(){var n;if(1===this.nodeType){if(n=P[t],n&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if(t=O[t]||t,"object"==typeof t)g(t,function(t,e){n.prop(t,e)});else{if(!o(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1==this.nodeType&&(this[t]=e)})}return n},css:function(t,e){function n(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})}function i(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})}var r,s,a=this;if("object"==typeof t)g(t,function(t,e){a.css(t,e)});else if(o(e))t=n(t),"number"!=typeof e||D[t]||(e+="px"),a.each(function(){var n=this.style;if(s=L[t],s&&s.set)return void s.set(this,e);try{this.style[A[t]||t]=e}catch(r){}(null===e||""===e)&&(n.removeProperty?n.removeProperty(i(t)):n.removeAttribute(t))});else{if(r=a[0],s=L[t],s&&s.get)return s.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(t))}catch(l){return x}else if(r.currentStyle)return r.currentStyle[n(t)]}return a},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],S.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(o(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){h(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(o(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return u(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return u(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?u(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?u(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return h(t).append(this),this},prependTo:function(t){return h(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return d(this,t)},wrapAll:function(t){return d(this,t,!0)},wrapInner:function(t){return this.each(function(){h(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){h(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),h(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(-1!==t.indexOf(" ")?g(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r,o;o=c(i,t),o!==e&&(r=i.className,o?i.className=f((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)}),n)},hasClass:function(t){return c(this[0],t)},each:function(t){return g(this,t)},on:function(t,e){return this.each(function(){S.bind(this,t,e)})},off:function(t,e){return this.each(function(){S.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?S.fire(this,t.type,t):S.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new h($.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;n>e;e++)h.find(t,this[e],i);return h(i)},filter:function(t){return h("function"==typeof t?m(this.toArray(),function(e,n){return t(n,e)}):h.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof h&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&h(i).is(t)){e.push(i);break}if(i==t){e.push(i);break}i=i.parentNode}}),h(e)},offset:function(t){var e,n,i,r,o=0,s=0;return t?this.css(t):(e=this[0],e&&(n=e.ownerDocument,i=n.documentElement,e.getBoundingClientRect&&(r=e.getBoundingClientRect(),o=r.left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:s})},push:C,sort:[].sort,splice:[].splice},i.extend(h,{extend:i.extend,makeArray:function(t){return a(t)||t.nodeType?[t]:i.toArray(t)},inArray:p,isArray:i.isArray,each:g,trim:f,grep:m,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!=e[i].nodeType&&e.splice(i,1);return e=1===e.length?h.find.matchesSelector(e[0],t)?[e[0]]:[]:h.find.matches(t,e)}}),g({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return y(t,"parentNode")},next:function(t){return w(t,"nextSibling",1)},prev:function(t){return w(t,"previousSibling",1)},children:function(t){return b(t.firstChild,"nextSibling",1)},contents:function(t){return i.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){h.fn[t]=function(n){var i=this,r=[];return i.each(function(){var t=e.call(r,this,n,r);t&&(h.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(T[t]||(r=h.unique(r)),0===t.indexOf("parents")&&(r=r.reverse())),r=h(r),n?r.filter(n):r}}),g({parentsUntil:function(t,e){return y(t,"parentNode",e)},nextUntil:function(t,e){return b(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return b(t,"previousSibling",1,e).slice(1)}},function(t,e){h.fn[t]=function(n,i){var r=this,o=[];return r.each(function(){var t=e.call(o,this,n,o);t&&(h.isArray(t)?o.push.apply(o,t):o.push(t))}),this.length>1&&(o=h.unique(o),(0===t.indexOf("parents")||"prevUntil"===t)&&(o=o.reverse())),o=h(o),i?o.filter(i):o}}),h.fn.is=function(t){return!!t&&this.filter(t).length>0},h.fn.init.prototype=h.fn,h.overrideDefaults=function(t){function e(i,r){return n=n||t(),0===arguments.length&&(i=n.element),r||(r=n.context),new e.fn.init(i,r)}var n;return h.extend(e,this),e},r.ie&&r.ie<8&&(_(P,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?x:e},size:function(t){var e=t.size;return 20===e?x:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?x:e}}),_(P,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),r.ie&&r.ie<9&&(A["float"]="styleFloat",_(L,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),h.attrHooks=P,h.cssHooks=L,h}),i("tinymce/html/Styles",[],function(){return function(t,e){function n(t,e,n,i){function r(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+r(e)+r(n)+r(i)}var i,r,o,s,a,l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,d=/\s+$/,h={},p="﻿";for(t=t||{},e&&(s=e.getValidStyles(),a=e.getInvalidStyles()),o=("\\\" \\' \\; \\: ; : "+p).split(" "),r=0;r<o.length;r++)h[o[r]]=p+r,h[p+r]=o[r];return{toHex:function(t){return t.replace(l,n)},parse:function(e){function i(t,e,n){var i,o,s,a;if(i=b[t+"-top"+e],i&&(o=b[t+"-right"+e],o&&(s=b[t+"-bottom"+e],s&&(a=b[t+"-left"+e])))){var l=[i,o,s,a];for(r=l.length-1;r--&&l[r]===l[r+1];);r>-1&&n||(b[t+e]=-1==r?l[0]:l.join(" "),delete b[t+"-top"+e],delete b[t+"-right"+e],delete b[t+"-bottom"+e],delete b[t+"-left"+e])}}function o(t){var e,n=b[t];if(n){for(n=n.split(" "),e=n.length;e--;)if(n[e]!==n[0])return!1;return b[t]=n[0],!0}}function s(t,e,n,i){o(e)&&o(n)&&o(i)&&(b[t]=b[e]+" "+b[n]+" "+b[i],delete b[e],delete b[n],delete b[i])}function a(t){return y=!0,h[t]}function p(t,e){return y&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return h[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t}function f(e,n,i,r,o,s){if(o=o||s)return o=p(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=p(n||i||r),!t.allow_script_urls){var a=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return w&&(n=w.call(_,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var g,m,v,y,b={},w=t.url_converter,_=t.url_converter_scope||this;if(e){for(e=e.replace(/[\u0000-\u001F]/g,""),e=e.replace(/\\[\"\';:\uFEFF]/g,a).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,a)});g=c.exec(e);){if(m=g[1].replace(d,"").toLowerCase(),v=g[2].replace(d,""),v=v.replace(/\\[0-9a-f]+/g,function(t){return String.fromCharCode(parseInt(t.substr(1),16))}),m&&v.length>0){if(!t.allow_script_urls&&("behavior"==m||/expression\s*\(|\/\*|\*\//.test(v)))continue;"font-weight"===m&&"700"===v?v="bold":("color"===m||"background-color"===m)&&(v=v.toLowerCase()),v=v.replace(l,n),v=v.replace(u,f),b[m]=y?p(v,!0):v}c.lastIndex=g.index+g[0].length}i("border","",!0),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),s("border","border-width","border-style","border-color"),"medium none"===b.border&&delete b.border,"none"===b["border-image"]&&delete b["border-image"]}return b},serialize:function(t,e){function n(e){var n,r,o,a;if(n=s[e])for(r=0,o=n.length;o>r;r++)e=n[r],a=t[e],a!==i&&a.length>0&&(u+=(u.length>0?" ":"")+e+": "+a+";")}function r(t,e){var n;return n=a["*"],n&&n[t]?!1:(n=a[e],n&&n[t]?!1:!0)}var o,l,u="";if(e&&s)n("*"),n(e);else for(o in t)l=t[o],l!==i&&l.length>0&&(!a||r(o,e))&&(u+=(u.length>0?" ":"")+o+": "+l+";");return u}}}}),i("tinymce/dom/TreeWalker",[],function(){return function(t,e){function n(t,n,i,r){var o,s;
if(t){if(!r&&t[n])return t[n];if(t!=e){if(o=t[i])return o;for(s=t.parentNode;s&&s!=e;s=s.parentNode)if(o=s[i])return o}}}function i(t,n,i,r){var o,s,a;if(t){if(o=t[i],e&&o===e)return;if(o){if(!r)for(a=o[n];a;a=a[n])if(!a[n])return a;return o}if(s=t.parentNode,s&&s!==e)return s}}var r=t;this.current=function(){return r},this.next=function(t){return r=n(r,"firstChild","nextSibling",t)},this.prev=function(t){return r=n(r,"lastChild","previousSibling",t)},this.prev2=function(t){return r=i(r,"lastChild","previousSibling",t)}}}),i("tinymce/dom/Range",["tinymce/util/Tools"],function(t){function e(n){function i(){return I.createDocumentFragment()}function r(t,e){k(H,t,e)}function o(t,e){k(F,t,e)}function s(t){r(t.parentNode,U(t))}function a(t){r(t.parentNode,U(t)+1)}function l(t){o(t.parentNode,U(t))}function u(t){o(t.parentNode,U(t)+1)}function c(t){t?(L[j]=L[W],L[G]=L[z]):(L[W]=L[j],L[z]=L[G]),L.collapsed=H}function d(t){s(t),u(t)}function h(t){r(t,0),o(t,1===t.nodeType?t.childNodes.length:t.nodeValue.length)}function p(t,e){var n=L[W],i=L[z],r=L[j],o=L[G],s=e.startContainer,a=e.startOffset,l=e.endContainer,u=e.endOffset;return 0===t?x(n,i,s,a):1===t?x(r,o,s,a):2===t?x(r,o,l,u):3===t?x(n,i,l,u):void 0}function f(){C(B)}function g(){return C(N)}function m(){return C(R)}function v(t){var e,i,r=this[W],o=this[z];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(t,i):3==r.nodeType?n.insertAfter(t,r):r.appendChild(t)):o?o>=r.nodeValue.length?n.insertAfter(t,r):(e=r.splitText(o),r.parentNode.insertBefore(t,e)):r.parentNode.insertBefore(t,r)}function y(t){var e=L.extractContents();L.insertNode(t),t.appendChild(e),L.selectNode(t)}function b(){return V(new e(n),{startContainer:L[W],startOffset:L[z],endContainer:L[j],endOffset:L[G],collapsed:L.collapsed,commonAncestorContainer:L.commonAncestorContainer})}function w(t,e){var n;if(3==t.nodeType)return t;if(0>e)return t;for(n=t.firstChild;n&&e>0;)--e,n=n.nextSibling;return n?n:t}function _(){return L[W]==L[j]&&L[z]==L[G]}function x(t,e,i,r){var o,s,a,l,u,c;if(t==i)return e==r?0:r>e?-1:1;for(o=i;o&&o.parentNode!=t;)o=o.parentNode;if(o){for(s=0,a=t.firstChild;a!=o&&e>s;)s++,a=a.nextSibling;return s>=e?-1:1}for(o=t;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(s=0,a=i.firstChild;a!=o&&r>s;)s++,a=a.nextSibling;return r>s?-1:1}for(l=n.findCommonAncestor(t,i),u=t;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=i;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(a=l.firstChild;a;){if(a==u)return-1;if(a==c)return 1;a=a.nextSibling}}function k(t,e,i){var r,o;for(t?(L[W]=e,L[z]=i):(L[j]=e,L[G]=i),r=L[j];r.parentNode;)r=r.parentNode;for(o=L[W];o.parentNode;)o=o.parentNode;o==r?x(L[W],L[z],L[j],L[G])>0&&L.collapse(t):L.collapse(t),L.collapsed=_(),L.commonAncestorContainer=n.findCommonAncestor(L[W],L[j])}function C(t){var e,n,i,r,o,s,a,l=0,u=0;if(L[W]==L[j])return $(t);for(e=L[j],n=e.parentNode;n;e=n,n=n.parentNode){if(n==L[W])return M(e,t);++l}for(e=L[W],n=e.parentNode;n;e=n,n=n.parentNode){if(n==L[j])return S(e,t);++u}for(i=u-l,r=L[W];i>0;)r=r.parentNode,i--;for(o=L[j];0>i;)o=o.parentNode,i++;for(s=r.parentNode,a=o.parentNode;s!=a;s=s.parentNode,a=a.parentNode)r=s,o=a;return T(r,o,t)}function $(t){var e,n,r,o,s,a,l,u,c;if(t!=B&&(e=i()),L[z]==L[G])return e;if(3==L[W].nodeType){if(n=L[W].nodeValue,r=n.substring(L[z],L[G]),t!=R&&(o=L[W],u=L[z],c=L[G]-L[z],0===u&&c>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(u,c),L.collapse(H)),t==B)return;return r.length>0&&e.appendChild(I.createTextNode(r)),e}for(o=w(L[W],L[z]),s=L[G]-L[z];o&&s>0;)a=o.nextSibling,l=A(o,t),e&&e.appendChild(l),--s,o=a;return t!=R&&L.collapse(H),e}function M(t,e){var n,r,o,s,a,l;if(e!=B&&(n=i()),r=D(t,e),n&&n.appendChild(r),o=U(t),s=o-L[z],0>=s)return e!=R&&(L.setEndBefore(t),L.collapse(F)),n;for(r=t.previousSibling;s>0;)a=r.previousSibling,l=A(r,e),n&&n.insertBefore(l,n.firstChild),--s,r=a;return e!=R&&(L.setEndBefore(t),L.collapse(F)),n}function S(t,e){var n,r,o,s,a,l;for(e!=B&&(n=i()),o=E(t,e),n&&n.appendChild(o),r=U(t),++r,s=L[G]-r,o=t.nextSibling;o&&s>0;)a=o.nextSibling,l=A(o,e),n&&n.appendChild(l),--s,o=a;return e!=R&&(L.setStartAfter(t),L.collapse(H)),n}function T(t,e,n){var r,o,s,a,l,u,c;for(n!=B&&(o=i()),r=E(t,n),o&&o.appendChild(r),s=U(t),a=U(e),++s,l=a-s,u=t.nextSibling;l>0;)c=u.nextSibling,r=A(u,n),o&&o.appendChild(r),u=c,--l;return r=D(e,n),o&&o.appendChild(r),n!=R&&(L.setStartAfter(t),L.collapse(H)),o}function D(t,e){var n,i,r,o,s,a=w(L[j],L[G]-1),l=a!=L[j];if(a==t)return O(a,l,F,e);for(n=a.parentNode,i=O(n,F,F,e);n;){for(;a;)r=a.previousSibling,o=O(a,l,F,e),e!=B&&i.insertBefore(o,i.firstChild),l=H,a=r;if(n==t)return i;a=n.previousSibling,n=n.parentNode,s=O(n,F,F,e),e!=B&&s.appendChild(i),i=s}}function E(t,e){var n,i,r,o,s,a=w(L[W],L[z]),l=a!=L[W];if(a==t)return O(a,l,H,e);for(n=a.parentNode,i=O(n,F,H,e);n;){for(;a;)r=a.nextSibling,o=O(a,l,H,e),e!=B&&i.appendChild(o),l=H,a=r;if(n==t)return i;a=n.nextSibling,n=n.parentNode,s=O(n,F,H,e),e!=B&&s.appendChild(i),i=s}}function O(t,e,i,r){var o,s,a,l,u;if(e)return A(t,r);if(3==t.nodeType){if(o=t.nodeValue,i?(l=L[z],s=o.substring(l),a=o.substring(0,l)):(l=L[G],s=o.substring(0,l),a=o.substring(l)),r!=R&&(t.nodeValue=a),r==B)return;return u=n.clone(t,F),u.nodeValue=s,u}if(r!=B)return n.clone(t,F)}function A(t,e){return e!=B?e==R?n.clone(t,H):t:void t.parentNode.removeChild(t)}function P(){return n.create("body",null,m()).outerText}var L=this,I=n.doc,N=0,R=1,B=2,H=!0,F=!1,z="startOffset",W="startContainer",j="endContainer",G="endOffset",V=t.extend,U=n.nodeIndex;return V(L,{startContainer:I,startOffset:0,endContainer:I,endOffset:0,collapsed:H,commonAncestorContainer:I,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:s,setStartAfter:a,setEndBefore:l,setEndAfter:u,collapse:c,selectNode:d,selectNodeContents:h,compareBoundaryPoints:p,deleteContents:f,extractContents:g,cloneContents:m,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:P}),L}return e.prototype.toString=function(){return this.toStringIE()},e}),i("tinymce/html/Entities",["tinymce/util/Tools"],function(t){function e(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.textContent||e.innerText||t}function n(t,e){var n,i,o,s={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),r[i]||(o="&"+t[n+1]+";",s[i]=o,s[o]=i);return s}}var i,r,o,s=t.makeMap,a=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(t,e){return t.replace(e?a:l,function(t){return r[t]||t})},encodeAllRaw:function(t){return(""+t).replace(u,function(t){return r[t]||t})},encodeNumeric:function(t,e){return t.replace(e?a:l,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":r[t]||"&#"+t.charCodeAt(0)+";"})},encodeNamed:function(t,e,n){return n=n||i,t.replace(e?a:l,function(t){return r[t]||n[t]||t})},getEncodeFunc:function(t,e){function o(t,n){return t.replace(n?a:l,function(t){return r[t]||e[t]||"&#"+t.charCodeAt(0)+";"||t})}function u(t,n){return h.encodeNamed(t,n,e)}return e=n(e)||i,t=s(t.replace(/\+/g,",")),t.named&&t.numeric?o:t.named?e?u:h.encodeNamed:t.numeric?h.encodeNumeric:h.encodeRaw},decode:function(t){return t.replace(c,function(t,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n)):o[t]||i[t]||e(t)})}};return h}),i("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(t,e){return function(n,i){function r(t){n.getElementsByTagName("head")[0].appendChild(t)}function o(i,o,u){function c(){for(var t=b.passed,e=t.length;e--;)t[e]();b.status=2,b.passed=[],b.failed=[]}function d(){for(var t=b.failed,e=t.length;e--;)t[e]();b.status=3,b.passed=[],b.failed=[]}function h(){var t=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&t[1]<536)}function p(t,n){t()||((new Date).getTime()-y<s?e.setTimeout(n):d())}function f(){p(function(){for(var t,e,i=n.styleSheets,r=i.length;r--;)if(t=i[r],e=t.ownerNode?t.ownerNode:t.owningElement,e&&e.id===m.id)return c(),!0},f)}function g(){p(function(){try{var t=v.sheet.cssRules;return c(),!!t}catch(e){}},g)}var m,v,y,b;if(i=t._addCacheSuffix(i),l[i]?b=l[i]:(b={passed:[],failed:[]},l[i]=b),o&&b.passed.push(o),u&&b.failed.push(u),1!=b.status){if(2==b.status)return void c();if(3==b.status)return void d();if(b.status=1,m=n.createElement("link"),m.rel="stylesheet",m.type="text/css",m.id="u"+a++,m.async=!1,m.defer=!1,y=(new Date).getTime(),"onload"in m&&!h())m.onload=f,m.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return v=n.createElement("style"),v.textContent='@import "'+i+'"',g(),void r(v);f()}r(m),m.href=i}}var s,a=0,l={};i=i||{},s=i.maxLoadTime||5e3,this.load=o}}),i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(t,n,i,r,o,s,a,l,u,c){function d(t,e){var n,i={},r=e.keep_values;return n={set:function(n,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||t,i,r,n[0])),n.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(t,e){return null!==e&&"object"==typeof e?void t.css(e):(r&&t.attr("data-mce-style",e),void t.attr("style",e))},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serializeStyle(t.parseStyle(n),e[0].nodeName)}}},r&&(i.href=i.src=n),i}function h(t,e){var n=e.attr("style");n=t.serializeStyle(t.parseStyle(n),e[0].nodeName),n||(n=null),e.attr("data-mce-style",n)}function p(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!=i||i!=n&&t.nodeValue.length)&&(r++,n=i);return r}function f(t,e){var o,s=this;s.doc=t,s.win=window,s.files={},s.counter=0,s.stdMode=!b||t.documentMode>=8,s.boxModel=!b||"CSS1Compat"==t.compatMode||s.stdMode,s.styleSheetLoader=new c(t),s.boundEvents=[],s.settings=e=e||{},s.schema=e.schema,s.styles=new i({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),s.fixDoc(t),s.events=e.ownEvents?new r(e.proxy):r.Event,s.attrHooks=d(s,e),o=e.schema?e.schema.getBlockElements():{},s.$=n.overrideDefaults(function(){return{context:t,element:s.getRoot()}}),s.isBlock=function(t){if(!t)return!1;var e=t.nodeType;return e?!(1!==e||!o[t.nodeName]):!!o[t]}}var g=u.each,m=u.is,v=u.grep,y=u.trim,b=l.ie,w=/^([a-z0-9],?)+$/i,_=/^[ \t\r\n]*$/;return f.prototype={$$:function(t){return"string"==typeof t&&(t=this.get(t)),this.$(t)},root:null,fixDoc:function(t){var e,n=this.settings;if(b&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)});for(e in n.schema.getCustomElements())t.createElement(e)}},clone:function(t,e){var n,i,r=this;return!b||1!==t.nodeType||e?t.cloneNode(e):(i=r.doc,e?n.firstChild:(n=i.createElement(t.nodeName),g(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),n))},getRoot:function(){var t=this;return t.settings.root_element||t.doc.body},getViewPort:function(t){var e,n;return t=t?t:this.win,e=t.document,n=this.boxModel?e.documentElement:e.body,{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(t){var e,n,i=this;return t=i.get(t),e=i.getPos(t),n=i.getSize(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:function(t){var e,n,i=this;return t=i.get(t),e=i.getStyle(t,"width"),n=i.getStyle(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},getParent:function(t,e,n){return this.getParents(t,e,n,!1)},getParents:function(t,n,i,r){var o,s=this,a=[];for(t=s.get(t),r=r===e,i=i||("BODY"!=s.getRoot().nodeName?s.getRoot().parentNode:null),m(n,"string")&&(o=n,n="*"===n?function(t){return 1==t.nodeType}:function(t){return s.is(t,o)});t&&t!=i&&t.nodeType&&9!==t.nodeType;){if(!n||n(t)){if(!r)return t;a.push(t)}t=t.parentNode}return r?a:null},get:function(t){var e;return t&&this.doc&&"string"==typeof t&&(e=t,t=this.doc.getElementById(t),t&&t.id!==e)?this.doc.getElementsByName(e)[1]:t},getNext:function(t,e){return this._findSib(t,e,"nextSibling")},getPrev:function(t,e){return this._findSib(t,e,"previousSibling")},select:function(e,n){var i=this;return t(e,i.get(n)||i.settings.root_element||i.doc,[])},is:function(n,i){var r;if(n.length===e){if("*"===i)return 1==n.nodeType;if(w.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return t(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(t,e,n,i,r){var o=this;return this.run(t,function(t){var s;return s=m(e,"string")?o.doc.createElement(e):e,o.setAttribs(s,n),i&&(i.nodeType?s.appendChild(i):o.setHTML(s,i)),r?s:t.appendChild(s)})},create:function(t,e,n){return this.add(this.doc.createElement(t),t,e,n,1)},createHTML:function(t,e,n){var i,r="";r+="<"+t;for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(r+=" "+i+'="'+this.encode(e[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(t){var e,n,i,r=this.doc;for(i=r.createElement("div"),e=r.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},remove:function(t,e){return t=this.$$(t),e?t.each(function(){for(var t;t=this.firstChild;)3==t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():t.remove(),t.length>1?t.toArray():t[0]},setStyle:function(t,e,n){t=this.$$(t).css(e,n),this.settings.update_styles&&h(this,t)},getStyle:function(t,n,i){return t=this.$$(t),i?t.css(n):(n=n.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"float"==n&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),t[0]&&t[0].style?t[0].style[n]:e)},setStyles:function(t,e){t=this.$$(t).css(e),this.settings.update_styles&&h(this,t)},removeAllAttribs:function(t){return this.run(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:function(t,e,n){var i,r,o=this,s=o.settings;""===n&&(n=null),t=o.$$(t),i=t.attr(e),t.length&&(r=o.attrHooks[e],r&&r.set?r.set(t,n,e):t.attr(e,n),i!=n&&s.onSetAttrib&&s.onSetAttrib({attrElm:t,attrName:e,attrValue:n}))},setAttribs:function(t,e){var n=this;n.$$(t).each(function(t,i){g(e,function(t,e){n.setAttrib(i,e,t)})})},getAttrib:function(t,e,n){var i,r,o=this;return t=o.$$(t),t.length&&(i=o.attrHooks[e],r=i&&i.get?i.get(t,e):t.attr(e)),"undefined"==typeof r&&(r=n||""),r},getPos:function(t,e){var i,r,o=this,s=0,a=0,l=o.doc,u=l.body;if(t=o.get(t),e=e||u,t){if(e===u&&t.getBoundingClientRect&&"static"===n(u).css("position"))return r=t.getBoundingClientRect(),e=o.boxModel?l.documentElement:u,s=r.left+(l.documentElement.scrollLeft||u.scrollLeft)-e.clientLeft,a=r.top+(l.documentElement.scrollTop||u.scrollTop)-e.clientTop,{x:s,y:a};for(i=t;i&&i!=e&&i.nodeType;)s+=i.offsetLeft||0,a+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!=e&&i.nodeType;)s-=i.scrollLeft||0,a-=i.scrollTop||0,i=i.parentNode}return{x:s,y:a}},parseStyle:function(t){return this.styles.parse(t)},serializeStyle:function(t,e){return this.styles.serialize(t,e)},addStyle:function(t){var e,n,i=this,r=i.doc;if(i!==f.DOM&&r===document){var o=f.DOM.addedStyles;if(o=o||[],o[t])return;o[t]=!0,f.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",e=r.getElementsByTagName("head")[0],e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(r.createTextNode(t))},loadCSS:function(t){var e,n=this,i=n.doc;return n!==f.DOM&&i===document?void f.DOM.loadCSS(t):(t||(t=""),e=i.getElementsByTagName("head")[0],void g(t.split(","),function(t){var r;t=u._addCacheSuffix(t),n.files[t]||(n.files[t]=!0,r=n.create("link",{rel:"stylesheet",href:t}),b&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),e.appendChild(r))}))},addClass:function(t,e){this.$$(t).addClass(e)},removeClass:function(t,e){this.toggleClass(t,e,!1)},hasClass:function(t,e){return this.$$(t).hasClass(e)},toggleClass:function(t,e,i){this.$$(t).toggleClass(e,i).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(t){this.$$(t).show()},hide:function(t){this.$$(t).hide()},isHidden:function(t){return"none"==this.$$(t).css("display")},uniqueId:function(t){return(t?t:"mce_")+this.counter++},setHTML:function(t,e){t=this.$$(t),b?t.each(function(t,i){if(i.canHaveHTML!==!1){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br>"+e,i.removeChild(i.firstChild)}catch(r){n("<div>").html("<br>"+e).contents().slice(1).appendTo(i)}return e}}):t.html(e)},getOuterHTML:function(t){return t=this.get(t),1==t.nodeType&&"outerHTML"in t?t.outerHTML:n("<div>").append(n(t).clone()).html()},setOuterHTML:function(t,e){var i=this;i.$$(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}i.remove(n(this).html(e),!0)})},decode:a.decode,encode:a.encodeAllRaw,insertAfter:function(t,e){return e=this.get(e),this.run(t,function(t){var n,i;return n=e.parentNode,i=e.nextSibling,i?n.insertBefore(t,i):n.appendChild(t),t})},replace:function(t,e,n){var i=this;return i.run(e,function(e){return m(e,"array")&&(t=t.cloneNode(!0)),n&&g(v(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),g(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return this.styles.toHex(u.trim(t))},run:function(t,e,n){var i,r=this;return"string"==typeof t&&(t=r.get(t)),t?(n=n||this,t.nodeType||!t.length&&0!==t.length?e.call(n,t):(i=[],g(t,function(t,o){t&&("string"==typeof t&&(t=r.get(t)),i.push(e.call(n,t,o)))}),i)):!1},getAttribs:function(t){var e;if(t=this.get(t),!t)return[];if(b){if(e=[],"OBJECT"==t.nodeName)return t.attributes;"OPTION"===t.nodeName&&this.getAttrib(t,"selected")&&e.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return t.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(t){e.push({specified:1,nodeName:t})}),e}return t.attributes},isEmpty:function(t,e){var n,i,r,s,a,l=this,u=0;if(t=t.firstChild){s=new o(t,t.parentNode),e=e||(l.schema?l.schema.getNonEmptyElements():null);do{if(r=t.nodeType,1===r){if(t.getAttribute("data-mce-bogus"))continue;if(a=t.nodeName.toLowerCase(),e&&e[a]){if("br"===a){u++;continue}return!1}for(i=l.getAttribs(t),n=i.length;n--;)if(a=i[n].nodeName,"name"===a||"data-mce-bookmark"===a)return!1}if(8==r)return!1;if(3===r&&!_.test(t.nodeValue))return!1}while(t=s.next())}return 1>=u},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new s(this)},nodeIndex:p,split:function(t,e,n){function i(t){function e(t){var e=t.previousSibling&&"SPAN"==t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"==t.nextSibling.nodeName;return e&&n}var n,r=t.childNodes,o=t.nodeType;if(1!=o||"bookmark"!=t.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&t.nodeValue.length>0){var s=y(t.nodeValue).length;if(!a.isBlock(t.parentNode)||s>0||0===s&&e(t))return}else if(1==o&&(r=t.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(r[0],t),r.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;a.remove(t)}return t}}var r,o,s,a=this,l=a.createRng();return t&&e?(l.setStart(t.parentNode,a.nodeIndex(t)),l.setEnd(e.parentNode,a.nodeIndex(e)),r=l.extractContents(),l=a.createRng(),l.setStart(e.parentNode,a.nodeIndex(e)+1),l.setEnd(t.parentNode,a.nodeIndex(t)+1),o=l.extractContents(),s=t.parentNode,s.insertBefore(i(r),t),n?s.insertBefore(n,t):s.insertBefore(e,t),s.insertBefore(i(o),t),a.remove(t),n||e):void 0},bind:function(t,e,n,i){var r=this;if(u.isArray(t)){for(var o=t.length;o--;)t[o]=r.bind(t[o],e,n,i);return t}return!r.settings.collect||t!==r.doc&&t!==r.win||r.boundEvents.push([t,e,n,i]),r.events.bind(t,e,n,i||r)},unbind:function(t,e,n){var i,r=this;if(u.isArray(t)){for(i=t.length;i--;)t[i]=r.unbind(t[i],e,n);return t}if(r.boundEvents&&(t===r.doc||t===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];t!=o[0]||e&&e!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(t,e,n)},fire:function(t,e,n){return this.events.fire(t,e,n)},getContentEditable:function(t){var e;return t&&1==t.nodeType?(e=t.getAttribute("data-mce-contenteditable"),e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null):null},getContentEditableParent:function(t){for(var e=this.getRoot(),n=null;t&&t!==e&&(n=this.getContentEditable(t),null===n);t=t.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var n=e.boundEvents.length;n--;){var i=e.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}e.boundEvents=null}t.setDocument&&t.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},_findSib:function(t,e,n){var i=this,r=e;if(t)for("string"==typeof r&&(r=function(t){return i.is(t,e)}),t=t[n];t;t=t[n])if(r(t))return t;return null}},f.DOM=new f(document),f.nodeIndex=p,f}),i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e){function n(){function t(t,n){function r(){l.remove(a),s&&(s.onreadystatechange=s.onload=s=null),n()}function o(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var s,a,l=i;a=l.uniqueId(),s=document.createElement("script"),s.id=a,s.type="text/javascript",s.src=e._addCacheSuffix(t),"onreadystatechange"in s?s.onreadystatechange=function(){/loaded|complete/.test(s.readyState)&&r()}:s.onload=r,s.onerror=o,(document.getElementsByTagName("head")[0]||document.body).appendChild(s)}var n,s=0,a=1,l=2,u={},c=[],d={},h=[],p=0;this.isDone=function(t){return u[t]==l},this.markDone=function(t){u[t]=l},this.add=this.load=function(t,e,i){var r=u[t];r==n&&(c.push(t),u[t]=s),e&&(d[t]||(d[t]=[]),d[t].push({func:e,scope:i||this}))},this.loadQueue=function(t,e){this.loadScripts(c,t,e)},this.loadScripts=function(e,i,s){function c(t){r(d[t],function(t){t.func.call(t.scope)}),d[t]=n}var f;h.push({func:i,scope:s||this}),(f=function(){var n=o(e);e.length=0,r(n,function(e){return u[e]==l?void c(e):void(u[e]!=a&&(u[e]=a,p++,t(e,function(){u[e]=l,p--,c(e),f()})))}),p||(r(h,function(t){t.func.call(t.scope)}),h.length=0)})()}}var i=t.DOM,r=e.each,o=e.grep;return n.ScriptLoader=new n,n}),i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(t,n){function i(){var t=this;t.items=[],t.urls={},t.lookup={}}var r=n.each;return i.prototype={get:function(t){return this.lookup[t]?this.lookup[t].instance:e},dependencies:function(t){var e;return this.lookup[t]&&(e=this.lookup[t].dependencies),e||[]},requireLangPack:function(e,n){var r=i.language;if(r&&i.languageLoad!==!1){if(n)if(n=","+n+",",-1!=n.indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==n.indexOf(","+r+","))return;t.ScriptLoader.add(this.urls[e]+"/langs/"+r+".js")}},add:function(t,e,n){return this.items.push(e),this.lookup[t]={instance:e,dependencies:n},e},createUrl:function(t,e){return"object"==typeof e?e:{prefix:t.prefix,resource:e,suffix:t.suffix}},addComponents:function(e,n){var i=this.urls[e];r(n,function(e){t.ScriptLoader.add(i+"/"+e)})},load:function(n,o,s,a){function l(){var i=u.dependencies(n);r(i,function(t){var n=u.createUrl(o,t);u.load(n.resource,n,e,e)}),s&&s.call(a?a:t)}var u=this,c=o;u.urls[n]||("object"==typeof o&&(c=o.prefix+o.resource+o.suffix),0!==c.indexOf("/")&&-1==c.indexOf("://")&&(c=i.baseURL+"/"+c),u.urls[n]=c.substring(0,c.lastIndexOf("/")),u.lookup[n]?l():t.ScriptLoader.add(c,l,a))}},i.PluginManager=new i,i.ThemeManager=new i,i}),i("tinymce/dom/NodeType",[],function(){function t(t){return function(e){return!!e&&e.nodeType==t}}function e(t){return t=t.toLowerCase().split(" "),function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}}function n(t,e){return e=e.toLowerCase().split(" "),function(n){var i,r;if(a(n))for(i=0;i<e.length;i++)if(r=getComputedStyle(n,null).getPropertyValue(t),r===e[i])return!0;return!1}}function i(t,e){return function(n){return a(n)&&n[t]===e}}function r(t,e){return function(n){return a(n)&&n.getAttribute(t)===e}}function o(t){return a(t)&&t.hasAttribute("data-mce-bogus")}function s(t){return function(e){if(a(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}var a=t(1);return{isText:t(3),isElement:a,isComment:t(8),isBr:e("br"),isContentEditableTrue:s("true"),isContentEditableFalse:s("false"),matchNodeNames:e,hasPropValue:i,hasAttributeValue:r,matchStyleValues:n,isBogus:o}}),i("tinymce/text/Zwsp",[],function(){function t(t){return t==n}function e(t){return t.replace(new RegExp(n,"g"),"")}var n="​";return{isZwsp:t,ZWSP:n,trim:e}}),i("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(t,e){function n(t){return d(t)&&(t=t.parentNode),c(t)&&t.hasAttribute("data-mce-caret")}function i(t){return d(t)&&e.isZwsp(t.data)}function r(t){return n(t)||i(t)}function o(t,n){var i,o,s,a;if(i=t.ownerDocument,s=i.createTextNode(e.ZWSP),a=t.parentNode,n){if(o=t.previousSibling,d(o)){if(r(o))return o;if(u(o))return o.splitText(o.data.length-1)}a.insertBefore(s,t)}else{if(o=t.nextSibling,d(o)){if(r(o))return o;if(l(o))return o.splitText(1),o}t.nextSibling?a.insertBefore(s,t.nextSibling):a.appendChild(s)}return s}function s(t,e,n){var i,r,o;return i=e.ownerDocument,r=i.createElement(t),r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(i.createTextNode(" ")),o=e.parentNode,n?o.insertBefore(r,e):e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r),r}function a(t){var n;c(t)&&r(t)&&("&nbsp;"!=t.innerHTML?t.removeAttribute("data-mce-caret"):t.parentNode&&t.parentNode.removeChild(t)),d(t)&&(n=e.trim(t.data),0===n.length&&t.parentNode&&t.parentNode.removeChild(t),t.nodeValue=n)}function l(t){return d(t)&&t.data[0]==e.ZWSP}function u(t){return d(t)&&t.data[t.data.length-1]==e.ZWSP}var c=t.isElement,d=t.isText;return{isCaretContainer:r,isCaretContainerBlock:n,isCaretContainerInline:i,insertInline:o,insertBlock:s,remove:a,startsWithCaretContainer:l,endsWithCaretContainer:u}}),i("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretContainer"],function(t,e,n,i){function r(t,e){var n=t.childNodes;return e--,e>n.length-1?e=n.length-1:0>e&&(e=0),n[e]||t}function o(t){this.walk=function(e,n){function i(t){var e;return e=t[0],3===e.nodeType&&e===m&&v>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===b&&t.length>0&&e===y&&3===e.nodeType&&t.splice(t.length-1,1),t}function o(t,e,n){for(var i=[];t&&t!=n;t=t[e])i.push(t);return i}function s(t,e){do{if(t.parentNode==e)return t;t=t.parentNode}while(t)}function l(t,e,r){var s=r?"nextSibling":"previousSibling";for(h=t,p=h.parentNode;h&&h!=e;h=p)p=h.parentNode,f=o(h==t?h:h[s],s),f.length&&(r||f.reverse(),n(i(f)))}var u,c,d,h,p,f,g,m=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(g=t.select("td[data-mce-selected],th[data-mce-selected]"),g.length>0)return void a(g,function(t){n([t])});if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[v]),1==y.nodeType&&y.hasChildNodes()&&(y=r(y,b)),m==y)return n(i([m]));for(u=t.findCommonAncestor(m,y),h=m;h;h=h.parentNode){if(h===y)return l(m,u,!0);if(h===u)break}for(h=y;h;h=h.parentNode){if(h===m)return l(y,u);if(h===u)break}c=s(m,u)||m,d=s(y,u)||y,l(m,c,!0),f=o(c==m?c:c.nextSibling,"nextSibling",d==y?d.nextSibling:d),f.length&&n(i(f)),l(y,d)},this.split=function(t){function e(t,e){return t.splitText(e)}var n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=e(n,i),n=r.previousSibling,o>i?(o-=i,n=r=e(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=e(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=e(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(n){function i(i){function s(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function a(n,i){for(var r=new e(n,t.getParent(n.parentNode,t.isBlock)||w);n=r[i?"prev":"next"]();)if("BR"===n.nodeName)return!0
}function c(t){for(;t&&t!=w;){if(l(t))return!0;t=t.parentNode}return!1}function d(t,e){return t.previousSibling&&t.previousSibling.nodeName==e}function h(n,i){var s,a,l;if(i=i||p,l=t.getParent(i.parentNode,t.isBlock)||w,n&&"BR"==i.nodeName&&b&&t.isEmpty(l))return p=i.parentNode,f=t.nodeIndex(i),void(r=!0);for(s=new e(i,l);m=s[n?"prev":"next"]();){if("false"===t.getContentEditableParent(m)||u(m))return;if(3===m.nodeType&&m.nodeValue.length>0)return p=m,f=n?m.nodeValue.length:0,void(r=!0);if(t.isBlock(m)||v[m.nodeName.toLowerCase()])return;a=m}o&&a&&(p=a,r=!0,f=0)}var p,f,g,m,v,y,b,w=t.getRoot();if(p=n[(i?"start":"end")+"Container"],f=n[(i?"start":"end")+"Offset"],b=1==p.nodeType&&f===p.childNodes.length,v=t.schema.getNonEmptyElements(),y=i,!u(p)){if(1==p.nodeType&&f>p.childNodes.length-1&&(y=!1),9===p.nodeType&&(p=t.getRoot(),f=0),p===w){if(y&&(m=p.childNodes[f>0?f-1:0])){if(u(m))return;if(v[m.nodeName]||"TABLE"==m.nodeName)return}if(p.hasChildNodes()){if(f=Math.min(!y&&f>0?f-1:f,p.childNodes.length-1),p=p.childNodes[f],f=0,c(p)||u(p))return;if(p.hasChildNodes()&&!/TABLE/.test(p.nodeName)){m=p,g=new e(p,w);do{if(l(m)||u(m)){r=!1;break}if(3===m.nodeType&&m.nodeValue.length>0){f=y?0:m.nodeValue.length,p=m,r=!0;break}if(v[m.nodeName.toLowerCase()]&&!s(m)){f=t.nodeIndex(m),p=m.parentNode,"IMG"!=m.nodeName||y||f++,r=!0;break}}while(m=y?g.next():g.prev())}}}o&&(3===p.nodeType&&0===f&&h(!0),1===p.nodeType&&(m=p.childNodes[f],m||(m=p.childNodes[f-1]),!m||"BR"!==m.nodeName||d(m,"A")||a(m)||a(m,!0)||h(!0,m))),y&&!o&&3===p.nodeType&&f===p.nodeValue.length&&h(!1),r&&n["set"+(i?"Start":"End")](p,f)}}var r,o;return o=n.collapsed,i(!0),o||i(),r&&o&&n.collapse(!0),r}}function s(e,n,i){var r,o,s;if(r=i.elementFromPoint(e,n),o=i.body.createTextRange(),"HTML"==r.tagName&&(r=i.body),o.moveToElementText(r),s=t.toArray(o.getClientRects()),s=s.sort(function(t,e){return t=Math.abs(Math.max(t.top-n,t.bottom-n)),e=Math.abs(Math.max(e.top-n,e.bottom-n)),t-e}),s.length>0){n=(s[0].bottom+s[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(a){}}return null}var a=t.each,l=n.isContentEditableFalse,u=i.isCaretContainer;return o.compareRanges=function(t,e){if(t&&e){if(!t.item&&!t.duplicate)return t.startContainer==e.startContainer&&t.startOffset==e.startOffset;if(t.item&&e.item&&t.item(0)===e.item(0))return!0;if(t.isEqual&&e.isEqual&&e.isEqual(t))return!0}return!1},o.getCaretRangeFromPoint=function(t,e,n){var i,r;if(n.caretPositionFromPoint)r=n.caretPositionFromPoint(t,e),i=n.createRange(),i.setStart(r.offsetNode,r.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(o){i=s(t,e,n)}}return i},o.getSelectedNode=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset==n+1?e.childNodes[n]:null},o.getNode=function(t,e){return 1==t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},o}),i("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,n){return function(i){function r(t){var e,n;if(n=i.$(t).parentsUntil(i.getBody()).add(t),n.length===s.length){for(e=n.length;e>=0&&n[e]===s[e];e--);if(-1===e)return s=n,!0}return s=n,!1}var o,s=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(e){var n,r;n=i.selection.getRng(),r={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=e.type&&t.compareRanges(r,o)||i.fire("SelectionChange"),o=r}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var t=i.selection.getStart(!0);(e.range||!i.selection.isCollapsed())&&!r(t)&&i.dom.isChildOf(t,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(t){t.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?n.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(t){var e,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),e=o.getStart()||r,e.ownerDocument==i.getDoc()&&i.dom.isChildOf(e,r)||(e=r),"IMG"==e.nodeName&&o.isCollapsed()&&(e=e.parentNode),n=[],i.dom.getParent(e,function(t){return t===r?!0:void n.push(t)}),t=t||{},t.element=e,t.parents=n,i.fire("NodeChange",t))}}}),i("tinymce/html/Node",[],function(){function t(t,e,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[s])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[s])return i}}function e(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return e.prototype={replace:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},attr:function(t,e){var n,i,r,o=this;if("string"!=typeof t){for(i in t)o.attr(i,t[i]);return o}if(n=o.attributes){if(e!==r){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),o;return o}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,o}return n.map[t]}},clone:function(){var t,n,i,r,o,s=this,a=new e(s.name,s.type);if(i=s.attributes){for(o=[],o.map={},t=0,n=i.length;n>t;t++)r=i[t],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);a.attributes=o}return a.value=s.value,a.shortEnded=s.shortEnded,a},wrap:function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},unwrap:function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},remove:function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},append:function(t){var e,n=this;return t.parent&&t.remove(),e=n.lastChild,e?(e.next=t,t.prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},insert:function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},getAll:function(e){var n,i=this,r=[];for(n=i.firstChild;n;n=t(n,i))n.name===e&&r.push(n);return r},empty:function(){var e,n,i,r=this;if(r.firstChild){for(e=[],i=r.firstChild;i;i=t(i,r))e.push(i);for(n=e.length;n--;)i=e[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e){var i,r,o=this,s=o.firstChild;if(s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(e[s.name])return!1;for(i=s.attributes.length;i--;)if(r=s.attributes[i].name,"name"===r||0===r.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!n.test(s.value))return!1}while(s=t(s,o));return!0},walk:function(e){return t(this,null,e)}},e.create=function(t,n){var r,o;if(r=new e(t,i[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e}),i("tinymce/html/Schema",["tinymce/util/Tools"],function(t){function e(t,e){return t?t.split(e||" "):[]}function n(t){function n(t,n,i){function r(t,e){var n,i,r={};for(n=0,i=t.length;i>n;n++)r[t[n]]=e||{};return r}var a,l,u,c=arguments;for(i=i||[],n=n||"","string"==typeof i&&(i=e(i)),l=3;l<c.length;l++)"string"==typeof c[l]&&(c[l]=e(c[l])),i.push.apply(i,c[l]);for(t=e(t),a=t.length;a--;)u=[].concat(s,e(n)),p[t[a]]={attributes:r(u),attributesOrder:u,children:r(i,o)}}function i(t,n){var i,r,o,s;for(t=e(t),i=t.length,n=e(n);i--;)for(r=p[t[i]],o=0,s=n.length;s>o;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var s,l,u,c,d,h,p={};return r[t]?r[t]:(s=e("id accesskey class dir lang style tabindex title"),l=e("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),u=e("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=t&&(s.push.apply(s,e("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,e("article aside details dialog figure header footer hgroup section nav")),u.push.apply(u,e("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=t&&(s.push("xml:lang"),h=e("acronym applet basefont big font strike tt"),u.push.apply(u,h),a(h,function(t){n(t,"",u)}),d=e("center dir isindex noframes"),l.push.apply(l,d),c=[].concat(l,u),a(d,function(t){n(t,"",c)})),c=c||[].concat(l,u),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),n("address dt dd div caption","",c),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),n("blockquote","cite",c),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",c),n("dl","","dt dd"),n("a","href target rel media hreflang type",u),n("q","cite",u),n("ins del","cite datetime",c),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",c),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",c,"param"),n("param","name value"),n("map","name",c,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",c),n("th","colspan rowspan headers scope abbr",c),n("form","accept-charset action autocomplete enctype method name novalidate target",c),n("fieldset","disabled form name",c,"legend"),n("label","form for",u),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?c:u),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",c,"li"),n("noscript","",c),"html4"!=t&&(n("wbr"),n("ruby","",u,"rt rp"),n("figcaption","",c),n("mark rt rp summary bdi","",u),n("canvas","width height",c),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",c,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",c,"track source"),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",u,"option"),n("article section nav aside header footer","",c),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",c,"figcaption"),n("time","datetime",u),n("dialog","open",c),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",u),n("progress","value max",u),n("meter","value min max low high optimum",u),n("details","open",c,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=t&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),a(e("a form meter progress dfn"),function(t){p[t]&&delete p[t].children[t]}),delete p.caption.children.table,delete p.script,r[t]=p,p)}function i(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),a(t,function(t,i){n[i]=n[i.toUpperCase()]="map"==e?s(t,/[, ]/):u(t,/[, ]/)})),n}var r={},o={},s=t.makeMap,a=t.each,l=t.extend,u=t.explode,c=t.inArray;return function(t){function o(e,n,i){var o=t[e];return o?o=s(o,/[, ]/,s(o.toUpperCase(),/[, ]/)):(o=r[e],o||(o=s(n," ",s(n.toUpperCase()," ")),o=l(o,i),r[e]=o)),o}function d(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")}function h(t){var n,i,r,o,a,l,u,h,p,f,g,m,v,y,b,w,_,x,k,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,$=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,M=/[*?+]/;if(t)for(t=e(t,","),O["@"]&&(w=O["@"].attributes,_=O["@"].attributesOrder),n=0,i=t.length;i>n;n++)if(a=C.exec(t[n])){if(y=a[1],p=a[2],b=a[3],h=a[5],m={},v=[],l={attributes:m,attributesOrder:v},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===a[4]&&(l.removeEmptyAttrs=!0),w){for(x in w)m[x]=w[x];v.push.apply(v,_)}if(h)for(h=e(h,"|"),r=0,o=h.length;o>r;r++)if(a=$.exec(h[r])){if(u={},g=a[1],f=a[2].replace(/::/g,":"),y=a[3],k=a[4],"!"===g&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(f),u.required=!0),"-"===g){delete m[f],v.splice(c(v,f),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:f,value:k}),u.defaultValue=k),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:f,value:k}),u.forcedValue=k),"<"===y&&(u.validValues=s(k,"?"))),M.test(f)?(l.attributePatterns=l.attributePatterns||[],u.pattern=d(f),l.attributePatterns.push(u)):(m[f]||v.push(f),m[f]=u)}w||"@"!=p||(w=m,_=v),b&&(l.outputName=p,O[b]=l),M.test(p)?(l.pattern=d(p),P.push(l)):O[p]=l}}function p(t){O={},P=[],h(t),a(b,function(t,e){A[e]=t.children})}function f(t){var n=/^(~)?(.+)$/;t&&(r.text_block_elements=r.block_elements=null,a(e(t,","),function(t){var e=n.exec(t),i="~"===e[1],r=i?"span":"div",o=e[2];if(A[o]=A[r],L[o]=r,i||($[o.toUpperCase()]={},$[o]={}),!O[o]){var s=O[r];s=l({},s),delete s.removeEmptyAttrs,delete s.removeEmpty,O[o]=s}a(A,function(t,e){t[r]&&(A[e]=t=l({},A[e]),t[o]=t[r])})}))}function g(n){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;r[t.schema]=null,n&&a(e(n,","),function(t){var n,r,o=i.exec(t);o&&(r=o[1],n=r?A[o[2]]:A[o[2]]={"#comment":{}},n=A[o[2]],a(e(o[3],"|"),function(t){"-"===r?delete n[t]:n[t]={}}))})}function m(t){var e,n=O[t];if(n)return n;for(e=P.length;e--;)if(n=P[e],n.pattern.test(t))return n}var v,y,b,w,_,x,k,C,$,M,S,T,D,E=this,O={},A={},P=[],L={},I={};t=t||{},b=n(t.schema),t.verify_html===!1&&(t.valid_elements="*[*]"),v=i(t.valid_styles),y=i(t.invalid_styles,"map"),C=i(t.valid_classes,"map"),w=o("whitespace_elements","pre script noscript style textarea video audio iframe object"),_=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),M=o("non_empty_elements","td th iframe video audio object script",x),S=o("move_caret_before_on_enter_elements","table",M),T=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),$=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",T),D=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),a((t.special||"script noscript style textarea").split(" "),function(t){I[t]=new RegExp("</"+t+"[^>]*>","gi")}),t.valid_elements?p(t.valid_elements):(a(b,function(t,e){O[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},A[e]=t.children}),"html5"!=t.schema&&a(e("strong/b em/i"),function(t){t=e(t,"/"),O[t[1]].outputName=t[0]}),a(e("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){O[t]&&(O[t].removeEmpty=!0)}),a(e("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(t){O[t].paddEmpty=!0}),a(e("span"),function(t){O[t].removeEmptyAttrs=!0})),f(t.custom_elements),g(t.valid_children),h(t.extended_valid_elements),g("+ol[ul|ol],+ul[ul|ol]"),t.invalid_elements&&a(u(t.invalid_elements),function(t){O[t]&&delete O[t]}),m("span")||h("span[!data-mce-type|*]"),E.children=A,E.getValidStyles=function(){return v},E.getInvalidStyles=function(){return y},E.getValidClasses=function(){return C},E.getBoolAttrs=function(){return k},E.getBlockElements=function(){return $},E.getTextBlockElements=function(){return T},E.getTextInlineElements=function(){return D},E.getShortEndedElements=function(){return x},E.getSelfClosingElements=function(){return _},E.getNonEmptyElements=function(){return M},E.getMoveCaretBeforeOnEnterElements=function(){return S},E.getWhiteSpaceElements=function(){return w},E.getSpecialElements=function(){return I},E.isValidChild=function(t,e){var n=A[t];return!(!n||!n[e])},E.isValid=function(t,e){var n,i,r=m(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},E.getElementRule=m,E.getCustomElements=function(){return L},E.addValidElements=h,E.setValidElements=p,E.addCustomElements=f,E.addValidChildren=g,E.elements=O}}),i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(t,e,n){function i(t,e,n){var i,r,o,s,a=1;for(s=t.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])a--;else if(!r[1]){if(r[2]in s)continue;a++}if(0===a)break}return i}function r(r,s){function a(){}var l=this;r=r||{},l.schema=s=s||new t,r.fix_self_closing!==!1&&(r.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),function(t){t&&(l[t]=r[t]||a)}),l.parse=function(t){function o(t){var e,n;for(e=H.length;e--&&H[e].name!==t;);if(e>=0){for(n=H.length-1;n>=e;n--)t=H[n],t.valid&&R.end(t.name);H.length=e}}function a(t,e,n,i,o){var s,a,l=/[\s\u0000-\u001F]+/g;if(e=e.toLowerCase(),n=e in y?e:z(n||i||o||""),w&&!g&&0!==e.indexOf("data-")){if(s=$[e],!s&&M){for(a=M.length;a--&&(s=M[a],!s.pattern.test(e)););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(n in s.validValues))return}if(W[e]&&!r.allow_script_urls){var u=n.replace(l,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(j.test(u))return;if(!r.allow_html_data_urls&&G.test(u)&&!/^data:image\//i.test(u))return}d.map[e]=n,d.push({name:e,value:n})}var l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D,E,O,A,P,L,I,N,R=this,B=0,H=[],F=0,z=e.decode,W=n.makeMap("src,href,data,background,formaction,poster"),j=/((java|vb)script|mhtml):/i,G=/^data:/i;for(A=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),P=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=s.getShortEndedElements(),O=r.self_closing_elements||s.getSelfClosingElements(),y=s.getBoolAttrs(),w=r.validate,m=r.remove_internals,N=r.fix_self_closing,L=s.getSpecialElements();l=A.exec(t);){if(B<l.index&&R.text(z(t.substr(B,l.index-B))),u=l[6])u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),o(u);else if(u=l[7]){if(u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),b=u in v,N&&O[u]&&H.length>0&&H[H.length-1].name===u&&o(u),!w||(_=s.getElementRule(u))){if(x=!0,w&&($=_.attributes,M=_.attributePatterns),(C=l[8])?(g=-1!==C.indexOf("data-mce-type"),g&&m&&(x=!1),d=[],d.map={},C.replace(P,a)):(d=[],d.map={}),w&&!g){if(S=_.attributesRequired,T=_.attributesDefault,D=_.attributesForced,E=_.removeEmptyAttrs,E&&!d.length&&(x=!1),D)for(h=D.length;h--;)k=D[h],f=k.name,I=k.value,"{$uid}"===I&&(I="mce_"+F++),d.map[f]=I,d.push({name:f,value:I});if(T)for(h=T.length;h--;)k=T[h],f=k.name,f in d.map||(I=k.value,"{$uid}"===I&&(I="mce_"+F++),d.map[f]=I,d.push({name:f,value:I}));if(S){for(h=S.length;h--&&!(S[h]in d.map););-1===h&&(x=!1)}if(k=d.map["data-mce-bogus"]){if("all"===k){B=i(s,t,A.lastIndex),A.lastIndex=B;continue}x=!1}}x&&R.start(u,d,b)}else x=!1;if(c=L[u]){c.lastIndex=B=l.index+l[0].length,(l=c.exec(t))?(x&&(p=t.substr(B,l.index-B)),B=l.index+l[0].length):(p=t.substr(B),B=t.length),x&&(p.length>0&&R.text(p,!0),R.end(u)),A.lastIndex=B;continue}b||(C&&C.indexOf("/")==C.length-1?x&&R.end(u):H.push({name:u,valid:x}))}else(u=l[1])?(">"===u.charAt(0)&&(u=" "+u),r.allow_conditional_comments||"[if"!==u.substr(0,3)||(u=" "+u),R.comment(u)):(u=l[2])?R.cdata(u):(u=l[3])?R.doctype(u):(u=l[4])&&R.pi(u,l[5]);B=l.index+l[0].length}for(B<t.length&&R.text(z(t.substr(B))),h=H.length-1;h>=0;h--)u=H[h],u.valid&&R.end(u.name)}}var o=n.each;return r.findEndTag=i,r}),i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(t,e,n,i){var r=i.makeMap,o=i.each,s=i.explode,a=i.extend;return function(i,l){function u(e){var n,i,o,s,a,u,d,h,p,f,g,m,v,y,b;for(g=r("tr,td,th,tbody,thead,tfoot,table"),f=l.getNonEmptyElements(),m=l.getTextBlockElements(),v=l.getSpecialElements(),n=0;n<e.length;n++)if(i=e[n],i.parent&&!i.fixed)if(m[i.name]&&"li"==i.parent.name){for(y=i.next;y&&m[y.name];)y.name="li",y.fixed=!0,i.parent.insert(y,i.parent),y=y.next;i.unwrap(i)}else{for(s=[i],o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!g[o.name];o=o.parent)s.push(o);if(o&&s.length>1){for(s.reverse(),a=u=c.filterNode(s[0].clone()),p=0;p<s.length-1;p++){for(l.isValidChild(u.name,s[p].name)?(d=c.filterNode(s[p].clone()),u.append(d)):d=u,h=s[p].firstChild;h&&h!=s[p+1];)b=h.next,d.append(h),h=b;u=d}a.isEmpty(f)?o.insert(i,s[0],!0):(o.insert(a,s[0],!0),o.insert(i,a)),o=s[0],(o.isEmpty(f)||o.firstChild===o.lastChild&&"br"===o.firstChild.name)&&o.empty().remove()}else if(i.parent){if("li"===i.name){if(y=i.prev,y&&("ul"===y.name||"ul"===y.name)){y.append(i);continue}if(y=i.next,y&&("ul"===y.name||"ul"===y.name)){y.insert(i,y.firstChild,!0);continue}i.wrap(c.filterNode(new t("ul",1)));continue}l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)?i.wrap(c.filterNode(new t("div",1))):v[i.name]?i.empty().remove():i.unwrap()}}}var c=this,d={},h=[],p={},f={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",c.schema=l=l||new e,c.filterNode=function(t){var e,n,i;n in d&&(i=p[n],i?i.push(t):p[n]=[t]),e=h.length;for(;e--;)n=h[e].name,n in t.attributes.map&&(i=f[n],i?i.push(t):f[n]=[t]);return t},c.addNodeFilter=function(t,e){o(s(t),function(t){var n=d[t];n||(d[t]=n=[]),n.push(e)})},c.addAttributeFilter=function(t,e){o(s(t),function(t){var n;for(n=0;n<h.length;n++)if(h[n].name===t)return void h[n].callbacks.push(e);h.push({name:t,callbacks:[e]})})},c.parse=function(e,o){function s(){function t(t){t&&(r=t.firstChild,r&&3==r.type&&(r.value=r.value.replace(D,"")),r=t.lastChild,r&&3==r.type&&(r.value=r.value.replace(O,"")))}var e,n,r=y.firstChild;if(l.isValidChild(y.name,R.toLowerCase())){for(;r;)e=r.next,3==r.type||1==r.type&&"p"!==r.name&&!T[r.name]&&!r.attr("data-mce-type")?n?n.append(r):(n=c(R,1),n.attr(i.forced_root_block_attrs),y.insert(n,r),n.append(r)):(t(n),n=null),r=e;t(n)}}function c(e,n){var i,r=new t(e,n);return e in d&&(i=p[e],i?i.push(r):p[e]=[r]),r}function g(t){var e,n,i,r,o=l.getBlockElements();for(e=t.prev;e&&3===e.type;){if(i=e.value.replace(O,""),i.length>0)return void(e.value=i);if(n=e.next){if(3==n.type&&n.value.length){e=e.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){e=e.prev;continue}}r=e.prev,e.remove(),e=r}}function m(t){var e,n={};for(e in t)"li"!==e&&"p"!=e&&(n[e]=t[e]);return n}var v,y,b,w,_,x,k,C,$,M,S,T,D,E,O,A,P,L,I,N,R,B=[];if(o=o||{},p={},f={},T=a(r("script,style,head,html,body,title,meta,param"),l.getBlockElements()),N=l.getNonEmptyElements(),I=l.children,S=i.validate,R="forced_root_block"in o?o.forced_root_block:i.forced_root_block,L=l.getWhiteSpaceElements(),D=/^[ \t\r\n]+/,O=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,v=new n({validate:S,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:m(l.getSelfClosingElements()),cdata:function(t){b.append(c("#cdata",4)).value=t},text:function(t,e){var n;E||(t=t.replace(A," "),b.lastChild&&T[b.lastChild.name]&&(t=t.replace(D,""))),0!==t.length&&(n=c("#text",3),n.raw=!!e,b.append(n).value=t)},comment:function(t){b.append(c("#comment",8)).value=t},pi:function(t,e){b.append(c(t,7)).value=e,g(b)},doctype:function(t){var e;e=b.append(c("#doctype",10)),e.value=t,g(b)},start:function(t,e,n){var i,r,o,s,a;if(o=S?l.getElementRule(t):{}){for(i=c(o.outputName||t,1),i.attributes=e,i.shortEnded=n,b.append(i),a=I[b.name],a&&I[i.name]&&!a[i.name]&&B.push(i),r=h.length;r--;)s=h[r].name,s in e.map&&($=f[s],$?$.push(i):f[s]=[i]);T[t]&&g(i),n||(b=i),!E&&L[t]&&(E=!0)}},end:function(e){var n,i,r,o,s;if(i=S?l.getElementRule(e):{}){if(T[e]&&!E){if(n=b.firstChild,n&&3===n.type)if(r=n.value.replace(D,""),r.length>0)n.value=r,n=n.next;else for(o=n.next,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.next,(0===r.length||P.test(r))&&(n.remove(),n=o),n=o;if(n=b.lastChild,n&&3===n.type)if(r=n.value.replace(O,""),r.length>0)n.value=r,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.prev,(0===r.length||P.test(r))&&(n.remove(),n=o),n=o}if(E&&L[e]&&(E=!1),(i.removeEmpty||i.paddEmpty)&&b.isEmpty(N))if(i.paddEmpty)b.empty().append(new t("#text","3")).value=" ";else if(!b.attributes.map.name&&!b.attributes.map.id)return s=b.parent,T[b.name]?b.empty().remove():b.unwrap(),void(b=s);b=b.parent}}},l),y=b=new t(o.context||i.root_name,11),v.parse(e),S&&B.length&&(o.context?o.invalid=!0:u(B)),R&&("body"==y.name||o.isRootContent)&&s(),!o.invalid){for(M in p){for($=d[M],w=p[M],k=w.length;k--;)w[k].parent||w.splice(k,1);for(_=0,x=$.length;x>_;_++)$[_](w,M,o)}for(_=0,x=h.length;x>_;_++)if($=h[_],$.name in f){for(w=f[$.name],k=w.length;k--;)w[k].parent||w.splice(k,1);for(k=0,C=$.callbacks.length;C>k;k++)$.callbacks[k](w,$.name,o)}}return y},i.remove_trailing_brs&&c.addNodeFilter("br",function(e){var n,i,r,o,s,u,c,d,h=e.length,p=a({},l.getBlockElements()),f=l.getNonEmptyElements();for(p.body=1,n=0;h>n;n++)if(i=e[n],r=i.parent,p[i.parent.name]&&i===r.lastChild){for(s=i.prev;s;){if(u=s.name,"span"!==u||"bookmark"!==s.attr("data-mce-type")){if("br"!==u)break;if("br"===u){i=null;break}}s=s.prev}i&&(i.remove(),r.isEmpty(f)&&(c=l.getElementRule(r.name),c&&(c.removeEmpty?r.remove():c.paddEmpty&&(r.empty().append(new t("#text",3)).value=" "))))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!p[r.name]);)r=r.parent;o===r&&(d=new t("#text",3),d.value=" ",i.replace(d))}}),i.allow_html_in_named_anchor||c.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if(r=t[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do n=e.prev,i.insert(e,r),e=n;while(e)}}),i.validate&&l.getValidClasses()&&c.addAttributeFilter("class",function(t){for(var e,n,i,r,o,s,a,u=t.length,c=l.getValidClasses();u--;){for(e=t[u],n=e.attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],a=!1,s=c["*"],s&&s[r]&&(a=!0),s=c[e.name],!a&&s&&s[r]&&(a=!0),a&&(o&&(o+=" "),o+=r);o.length||(o=null),e.attr("class",o)}})}}),i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(t,e){var n=e.makeMap;return function(e){var i,r,o,s,a,l=[];return e=e||{},i=e.indent,r=n(e.indent_before||""),o=n(e.indent_after||""),s=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"==e.element_format,{start:function(t,e,n){var u,c,d,h;if(i&&r[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n")),l.push("<",t),e)for(u=0,c=e.length;c>u;u++)d=e[u],l.push(" ",d.name,'="',s(d.value,!0),'"');l[l.length]=!n||a?">":" />",n&&i&&o[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n"))},end:function(t){var e;l.push("</",t,">"),i&&o[t]&&l.length>0&&(e=l[l.length-1],e.length>0&&"\n"!==e&&l.push("\n"))},text:function(t,e){t.length>0&&(l[l.length]=e?t:s(t))},cdata:function(t){l.push("<![CDATA[",t,"]]>")},comment:function(t){l.push("<!--",t,"-->")},pi:function(t,e){e?l.push("<?",t," ",s(e),"?>"):l.push("<?",t,"?>"),i&&l.push("\n")},doctype:function(t){l.push("<!DOCTYPE",t,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(t,e){return function(n,i){var r=this,o=new t(n);n=n||{},n.validate="validate"in n?n.validate:!0,r.schema=i=i||new e,r.writer=o,r.serialize=function(t){function e(t){var n,a,l,u,c,d,h,p,f,g=r[t.type];if(g)g(t);else{if(n=t.name,a=t.shortEnded,l=t.attributes,s&&l&&l.length>1&&(d=[],d.map={},f=i.getElementRule(t.name))){for(h=0,p=f.attributesOrder.length;p>h;h++)u=f.attributesOrder[h],u in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(h=0,p=l.length;p>h;h++)u=l[h].name,u in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(o.start(t.name,l,a),!a){if(t=t.firstChild)do e(t);while(t=t.next);o.end(n)}}}var r,s;return s=n.validate,r={3:function(t){o.text(t.value,t.raw)},8:function(t){o.comment(t.value)},7:function(t){o.pi(t.name,t.value)},10:function(t){o.doctype(t.value)},4:function(t){o.cdata(t.value)},11:function(t){if(t=t.firstChild)do e(t);while(t=t.next)}},o.reset(),1!=t.type||n.inner?r[11](t):e(t),o.getContent()}}}),i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(t,e,n,i,r,o,s,a,l,u){function c(t){function e(t){return t&&"br"===t.name}var n,i;n=t.lastChild,e(n)&&(i=n.prev,e(i)&&(n.remove(),i.remove()))}var d=l.each,h=l.trim,p=t.DOM,f=["data-mce-selected"];return function(t,o){function g(t){var e=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[​﻿]+<\\/span>","\\s?("+f.join("|")+')="[^"]+"'].join("|"),"gi");return t=u.trim(t.replace(e,""))}function m(){var t,e,i,r,s,a=o.getBody().innerHTML,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=o.schema;for(a=g(a),s=u.getShortEndedElements();r=l.exec(a);)e=l.lastIndex,i=r[0].length,t=s[r[1]]?e:n.findEndTag(u,a,e),a=a.substring(0,e-i)+a.substring(t),l.lastIndex=e-i;
return h(a)}function v(t){-1===l.inArray(f,t)&&(w.addAttributeFilter(t,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),f.push(t))}var y,b,w;return o&&(y=o.dom,b=o.schema),y=y||p,b=b||new s(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0,w=new e(t,b),w.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)n=t[i],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),w.addAttributeFilter("src,href,style",function(e,n){for(var i,r,o,s=e.length,a="data-mce-"+n,l=t.url_converter,u=t.url_converter_scope;s--;)i=e[s],r=i.attributes.map[a],r!==o?(i.attr(n,r.length>0?r:null),i.attr(a,null)):(r=i.attributes.map[n],"style"===n?r=y.serializeStyle(y.parseStyle(r),i.name):l&&(r=l.call(u,r,n,i.name)),i.attr(n,r.length>0?r:null))}),w.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("class"),n&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),w.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)i=t[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),w.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)e=t[n].firstChild,e&&(e.value=i.decode(e.value))}),w.addNodeFilter("script,style",function(t,e){function n(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o,s=t.length;s--;)i=t[s],r=i.firstChild?i.firstChild.value:"","script"===e?(o=i.attr("type"),o&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),w.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)e=t[n],0===e.value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),w.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)n=t[i],7===n.type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),t.fix_list_elements&&w.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.parent,("ul"===n.name||"ol"===n.name)&&e.prev&&"li"===e.prev.name&&e.prev.append(e)}),w.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),{schema:b,addNodeFilter:w.addNodeFilter,addAttributeFilter:w.addAttributeFilter,serialize:function(e,n){var i,o,s,l,p,f,g=this;return a.ie&&y.select("script,style,select,map").length>0?(p=e.innerHTML,e=e.cloneNode(!1),y.setHTML(e,p)):e=e.cloneNode(!0),i=e.ownerDocument.implementation,i.createHTMLDocument&&(o=i.createHTMLDocument(""),d("BODY"==e.nodeName?e.childNodes:[e],function(t){o.body.appendChild(o.importNode(t,!0))}),e="BODY"!=e.nodeName?o.body.firstChild:o.body,s=y.doc,y.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=e,g.onPreProcess(n)),f=w.parse(h(n.getInner?e.innerHTML:y.getOuterHTML(e)),n),c(f),l=new r(t,b),n.content=l.serialize(f),n.cleanup||(n.content=u.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||g.onPostProcess(n),s&&(y.doc=s),n.node=null,n.content},addRules:function(t){b.addValidElements(t)},setRules:function(t){b.setValidElements(t)},onPreProcess:function(t){o&&o.fire("PreProcess",t)},onPostProcess:function(t){o&&o.fire("PostProcess",t)},addTempAttr:v,trimHtml:g,getTrimmedContent:m}}}),i("tinymce/dom/TridentSelection",[],function(){function t(t){function e(e,n){var i,r,o,s,a,l,u,c,d=0,h=-1;if(i=e.duplicate(),i.collapse(n),c=i.parentElement(),c.ownerDocument===t.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(s=c.children,r=s.length-1;r>=d;)if(u=Math.floor((d+r)/2),a=s[u],i.moveToElementText(a),h=i.compareEndPoints(n?"StartToStart":"EndToEnd",e),h>0)r=u-1;else{if(!(0>h))return{node:a};d=u+1}if(0>h)for(a?i.collapse(!1):(i.moveToElementText(c),i.collapse(!0),a=c,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",1)&&c==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",-1)&&c==i.parentElement();)l++;return{node:a,position:h,offset:l,inside:o}}}function n(){function n(t){var n,i,r,o,s,a=e(c,t),l=0;if(n=a.node,i=a.offset,a.inside&&!n.hasChildNodes())return void d[t?"setStart":"setEnd"](n,0);if(i===o)return void d[t?"setStartBefore":"setEndAfter"](n);if(a.position<0){if(r=a.inside?n.firstChild:n.nextSibling,!r)return void d[t?"setStartAfter":"setEndAfter"](n);if(!i)return void(3==r.nodeType?d[t?"setStart":"setEnd"](r,0):d[t?"setStartBefore":"setEndBefore"](r));for(;r;){if(3==r.nodeType&&(s=r.nodeValue,l+=s.length,l>=i)){n=r,l-=i,l=s.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[t?"setStartBefore":"setEndBefore"](n);if(!i)return void(3==n.nodeType?d[t?"setStart":"setEnd"](r,n.nodeValue.length):d[t?"setStartAfter":"setEndAfter"](r));for(;r;){if(3==r.nodeType&&(l+=r.nodeValue.length,l>=i)){n=r,l-=i;break}r=r.previousSibling}}d[t?"setStart":"setEnd"](n,l)}var o,s,a,l,u,c=t.getRng(),d=r.createRng();if(o=c.item?c.item(0):c.parentElement(),o.ownerDocument!=r.doc)return d;if(s=t.isCollapsed(),c.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),s||n()}catch(h){if(-2147024809!=h.number)throw h;u=i.getBookmark(2),a=c.duplicate(),a.collapse(!0),o=a.parentElement(),s||(a=c.duplicate(),a.collapse(!1),l=a.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(u),c=t.getRng(),n(!0),s||n()}return d}var i=this,r=t.dom,o=!1;this.getBookmark=function(n){function i(t){var e,n,i,o,s=[];for(e=t.parentNode,n=r.getRoot().parentNode;e!=n&&9!==e.nodeType;){for(i=e.children,o=i.length;o--;)if(t===i[o]){s.push(o);break}t=e,e=e.parentNode}return s}function o(t){var n;return n=e(s,t),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var s=t.getRng(),a={};return 2===n&&(s.item?a.start={ctrl:!0,indexes:i(s.item(0))}:(a.start=o(!0),t.isCollapsed()||(a.end=o()))),a},this.moveToBookmark=function(t){function e(t){var e,n,i,o;for(e=r.getRoot(),n=t.length-1;n>=0;n--)o=e.children,i=t[n],i<=o.length-1&&(e=o[i]);return e}function n(n){var r,s,a,l,u=t[n?"start":"end"];u&&(r=u.position>0,s=o.createTextRange(),s.moveToElementText(e(u.indexes)),l=u.offset,l!==a?(s.collapse(u.inside||r),s.moveStart("character",r?-l:l)):s.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",s),n&&i.collapse(!0))}var i,o=r.doc.body;t.start&&(t.start.ctrl?(i=o.createControlRange(),i.addElement(e(t.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(e){function n(t){var e,n,s,d,h;s=r.create("a"),e=t?a:u,n=t?l:c,d=i.duplicate(),(e==f||e==f.documentElement)&&(e=g,n=0),3==e.nodeType?(e.parentNode.insertBefore(s,e),d.moveToElementText(s),d.moveStart("character",n),r.remove(s),i.setEndPoint(t?"StartToStart":"EndToEnd",d)):(h=e.childNodes,h.length?(n>=h.length?r.insertAfter(s,h[h.length-1]):e.insertBefore(s,h[n]),d.moveToElementText(s)):e.canHaveHTML&&(e.innerHTML="<span>&#xFEFF;</span>",s=e.firstChild,d.moveToElementText(s),d.collapse(o)),i.setEndPoint(t?"StartToStart":"EndToEnd",d),r.remove(s))}var i,s,a,l,u,c,d,h,p,f=t.dom.doc,g=f.body;if(a=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset,i=g.createTextRange(),a==u&&1==a.nodeType){if(l==c&&!a.hasChildNodes()){if(a.canHaveHTML)return d=a.previousSibling,d&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,a.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(a.lastChild),i.select(),r.doc.selection.clear(),a.innerHTML="",void(d&&(d.innerHTML=""));l=r.nodeIndex(a),a=a.parentNode}if(l==c-1)try{if(p=a.childNodes[l],s=g.createControlRange(),s.addElement(p),s.select(),h=t.getRng(),h.item&&p===h.item(0))return}catch(m){}}n(!0),n(),i.select()},this.getRangeAt=n}return t}),i("tinymce/util/VK",["tinymce/Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(t,e,n,i,r){var o=r.isContentEditableFalse;return function(r,s){function a(t){var e=s.settings.object_resizing;return e===!1||i.iOS?!1:("string"!=typeof e&&(e="table,img,div"),"false"===t.getAttribute("data-mce-resize")?!1:t==s.getBody()?!1:s.dom.is(t,e))}function l(e){var n,i,r,o,a;n=e.screenX-D,i=e.screenY-E,R=n*S[2]+P,B=i*S[3]+L,R=5>R?5:R,B=5>B?5:B,r="IMG"==k.nodeName&&s.settings.resize_img_proportional!==!1?!t.modifierPressed(e):t.modifierPressed(e)||"IMG"==k.nodeName&&S[2]*S[3]!==0,r&&(U(n)>U(i)?(B=q(R*I),R=q(B/I)):(R=q(B/I),B=q(R*I))),z.setStyles(C,{width:R,height:B}),o=S.startPos.x+n,a=S.startPos.y+i,o=o>0?o:0,a=a>0?a:0,z.setStyles($,{left:o,top:a,display:"block"}),$.innerHTML=R+" &times; "+B,S[2]<0&&C.clientWidth<=R&&z.setStyle(C,"left",O+(P-R)),S[3]<0&&C.clientHeight<=B&&z.setStyle(C,"top",A+(L-B)),n=Y.scrollWidth-H,i=Y.scrollHeight-F,n+i!==0&&z.setStyles($,{left:o-n,top:a-i}),N||(s.fire("ObjectResizeStart",{target:k,width:P,height:L}),N=!0)}function u(){function t(t,e){e&&(k.style[t]||!s.schema.isValid(k.nodeName.toLowerCase(),t)?z.setStyle(k,t,e):z.setAttrib(k,t,e))}N=!1,t("width",R),t("height",B),z.unbind(j,"mousemove",l),z.unbind(j,"mouseup",u),G!=j&&(z.unbind(G,"mousemove",l),z.unbind(G,"mouseup",u)),z.remove(C),z.remove($),V&&"TABLE"!=k.nodeName||c(k),s.fire("ObjectResized",{target:k,width:R,height:B}),z.setAttrib(k,"style",z.getAttrib(k,"style")),s.nodeChanged()}function c(t,e,n){var r,o,c,h,p;d(),b(),r=z.getPos(t,Y),O=r.x,A=r.y,p=t.getBoundingClientRect(),o=p.width||p.right-p.left,c=p.height||p.bottom-p.top,k!=t&&(y(),k=t,R=B=0),h=s.fire("ObjectSelected",{target:t}),a(t)&&!h.isDefaultPrevented()?W(M,function(t,r){function s(e){D=e.screenX,E=e.screenY,P=k.clientWidth,L=k.clientHeight,I=L/P,S=t,t.startPos={x:o*t[0]+O,y:c*t[1]+A},H=Y.scrollWidth,F=Y.scrollHeight,C=k.cloneNode(!0),z.addClass(C,"mce-clonedresizable"),z.setAttrib(C,"data-mce-bogus","all"),C.contentEditable=!1,C.unSelectabe=!0,z.setStyles(C,{left:O,top:A,margin:0}),C.removeAttribute("data-mce-selected"),Y.appendChild(C),z.bind(j,"mousemove",l),z.bind(j,"mouseup",u),G!=j&&(z.bind(G,"mousemove",l),z.bind(G,"mouseup",u)),$=z.add(Y,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},P+" &times; "+L)}var a;return e?void(r==e&&s(n)):(a=z.get("mceResizeHandle"+r),a&&z.remove(a),a=z.add(Y,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),i.ie&&(a.contentEditable=!1),z.bind(a,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),s(t)}),t.elm=a,void z.setStyles(a,{left:o*t[0]+O-a.offsetWidth/2,top:c*t[1]+A-a.offsetHeight/2}))}):d(),k.setAttribute("data-mce-selected","1")}function d(){var t,e;b(),k&&k.removeAttribute("data-mce-selected");for(t in M)e=z.get("mceResizeHandle"+t),e&&(z.unbind(e),z.remove(e))}function h(t){function e(t,e){if(t)do if(t===e)return!0;while(t=t.parentNode)}var n,i;if(!N&&!s.removed)return W(z.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),i="mousedown"==t.type?t.target:r.getNode(),i=z.$(i).closest(V?"table":"table,img,hr")[0],e(i,Y)&&(w(),n=r.getStart(!0),e(n,i)&&e(r.getEnd(!0),i)&&(!V||i!=n&&"IMG"!==n.nodeName))?void c(i):void d()}function p(t,e,n){t&&t.attachEvent&&t.attachEvent("on"+e,n)}function f(t,e,n){t&&t.detachEvent&&t.detachEvent("on"+e,n)}function g(t){var e,n,i,r,o,a,l,u=t.srcElement;e=u.getBoundingClientRect(),a=T.clientX-e.left,l=T.clientY-e.top;for(n in M)if(i=M[n],r=u.offsetWidth*i[0],o=u.offsetHeight*i[1],U(r-a)<8&&U(o-l)<8){S=i;break}N=!0,s.fire("ObjectResizeStart",{target:k,width:k.clientWidth,height:k.clientHeight}),s.getDoc().selection.empty(),c(u,n,T)}function m(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function v(t){var e=t.srcElement;if(o(e))return void m(t);if(e!=k){if(s.fire("ObjectSelected",{target:e}),y(),0===e.id.indexOf("mceResizeHandle"))return void(t.returnValue=!1);("IMG"==e.nodeName||"TABLE"==e.nodeName)&&(d(),k=e,p(e,"resizestart",g))}}function y(){f(k,"resizestart",g)}function b(){for(var t in M){var e=M[t];e.elm&&(z.unbind(e.elm),delete e.elm)}}function w(){try{s.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}}function _(t){var e;if(V){e=j.body.createControlRange();try{return e.addElement(t),e.select(),!0}catch(n){}}}function x(){k=C=null,V&&(y(),f(Y,"controlselect",v))}var k,C,$,M,S,T,D,E,O,A,P,L,I,N,R,B,H,F,z=s.dom,W=e.each,j=s.getDoc(),G=document,V=i.ie&&i.ie<11,U=Math.abs,q=Math.round,Y=s.getBody();M={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var K=".mce-content-body";return s.contentStyles.push(K+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+K+" .mce-resizehandle:hover {background: #000}"+K+" img[data-mce-selected],"+K+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+K+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+K+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),s.on("init",function(){V?(s.on("ObjectResized",function(t){"TABLE"!=t.target.nodeName&&(d(),_(t.target))}),p(Y,"controlselect",v),s.on("mousedown",function(t){T=t})):(w(),i.ie>=11&&(s.on("mousedown click",function(t){var e=t.target.nodeName;!N&&/^(TABLE|IMG|HR)$/.test(e)&&(s.selection.select(t.target,"TABLE"==e),"mousedown"==t.type&&s.nodeChanged())}),s.dom.bind(Y,"mscontrolselect",function(t){function e(t){n.setEditorTimeout(s,function(){s.selection.select(t)})}return o(t.target)?(t.preventDefault(),void e(t.target)):void(/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"==t.target.tagName&&e(t.target)))})));var t=n.throttle(function(t){s.composing||h(t)});s.on("nodechange ResizeEditor ResizeWindow drop",t),s.on("keyup compositionend",function(e){k&&"TABLE"==k.nodeName&&t(e)}),s.on("hide blur",d)}),s.on("remove",b),{isResizable:a,showResizeRect:c,hideResizeRect:d,updateResizeRect:h,controlSelect:_,destroy:x}}}),i("tinymce/util/Fun",[],function(){function t(t){return function(){return t}}function e(t){return function(e){return!t(e)}}function n(t,e){return function(n){return t(e(n))}}function i(){var t=s.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}function r(){var t=s.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}function o(t){var e=s.call(arguments);return e.length-1>=t.length?t.apply(this,e.slice(1)):function(){var t=e.concat([].slice.call(arguments));return o.apply(this,t)}}var s=[].slice;return{constant:t,negate:e,and:r,or:i,curry:o,compose:n}}),i("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(t,e,n){function i(t){return g(t)?!1:d(t)?h(t.parentNode)?!1:!0:p(t)||c(t)||f(t)||u(t)}function r(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode){if(u(t))return!1;if(l(t))return!0}return!0}function o(t){return u(t)?e.reduce(t.getElementsByTagName("*"),function(t,e){return t||l(e)},!1)!==!0:!1}function s(t){return p(t)||o(t)}function a(t,e){return i(t)&&r(t,e)}var l=t.isContentEditableTrue,u=t.isContentEditableFalse,c=t.isBr,d=t.isText,h=t.matchNodeNames("script style textarea"),p=t.matchNodeNames("img input textarea hr iframe video audio object"),f=t.matchNodeNames("table"),g=n.isCaretContainer;return{isCaretCandidate:i,isInEditable:r,isAtomic:s,isEditableCaretCandidate:a}}),i("tinymce/geom/ClientRect",[],function(){function t(t){return t?{left:c(t.left),top:c(t.top),bottom:c(t.bottom),right:c(t.right),width:c(t.width),height:c(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function e(e,n){return e=t(e),n?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e}function n(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right}function i(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2}function r(t,e){return t.bottom<e.top?!0:t.top>e.bottom?!1:i(e.top-t.bottom,t,e)}function o(t,e){return t.top>e.bottom?!0:t.bottom<e.top?!1:i(e.bottom-t.top,t,e)}function s(t,e){return t.left<e.left}function a(t,e){return t.right>e.right}function l(t,e){return r(t,e)?-1:o(t,e)?1:s(t,e)?-1:a(t,e)?1:0}function u(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}var c=Math.round;return{clone:t,collapse:e,isEqual:n,isAbove:r,isBelow:o,isLeft:s,isRight:a,compare:l,containsXY:u}}),i("tinymce/text/ExtendingChar",[],function(){function t(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}var e=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]");return{isExtendingChar:t}}),i("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(t,e,n,i,r,o,s){function a(t){return t&&/[\r\n\t ]/.test(t)}function l(t){var e,n=t.startContainer,i=t.startOffset;return a(t.toString())&&m(n.parentNode)&&(e=n.data,a(e[i-1])||a(e[i+1]))?!0:!1}function u(t){function e(t){var e,n=t.ownerDocument,i=n.createRange(),r=n.createTextNode(" "),s=t.parentNode;return s.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=o.clone(i.getBoundingClientRect()),s.removeChild(r),e}function n(t){var n,i;return i=t.getClientRects(),n=o.clone(i.length>0?i[0]:t.getBoundingClientRect()),y(t)&&0===n.left?e(t):n}function i(t,e){return t=o.collapse(t,e),t.width=1,t.right=t.left+1,t}function r(t){0!==t.height&&(h.length>0&&o.isEqual(t,h[h.length-1])||h.push(t))}function a(t,e){var o=t.ownerDocument.createRange();if(e<t.data.length){if(s.isExtendingChar(t.data[e]))return h;if(s.isExtendingChar(t.data[e-1])&&(o.setStart(t,e),o.setEnd(t,e+1),!l(o)))return r(i(n(o),!1)),h}e>0&&(o.setStart(t,e-1),o.setEnd(t,e),l(o)||r(i(n(o),!1))),e<t.data.length&&(o.setStart(t,e),o.setEnd(t,e+1),l(o)||r(i(n(o),!0)))}var u,c,h=[];if(v(t.container()))return a(t.container(),t.offset()),h;if(d(t.container()))if(t.isAtEnd())c=w(t.container(),t.offset()),v(c)&&a(c,c.data.length),g(c)&&!y(c)&&r(i(n(c),!1));else{if(c=w(t.container(),t.offset()),v(c)&&a(c,0),g(c)&&t.isAtEnd())return r(i(n(c),!1)),h;u=w(t.container(),t.offset()-1),g(u)&&!y(u)&&(p(u)||p(c)||!g(c))&&r(i(n(u),!1)),g(c)&&r(i(n(c),!0))}return h}function c(e,n,i){function r(){return v(e)?0===n:0===n}function o(){return v(e)?n>=e.data.length:n>=e.childNodes.length}function s(){var t;return t=e.ownerDocument.createRange(),t.setStart(e,n),t.setEnd(e,n),t}function a(){return i||(i=u(new c(e,n))),i}function l(){return a().length>0}function d(t){return t&&e===t.container()&&n===t.offset()}function h(t){return w(e,t?n-1:n)}return{container:t.constant(e),offset:t.constant(n),toRange:s,getClientRects:a,isVisible:l,isAtStart:r,isAtEnd:o,isEqual:d,getNode:h}}var d=e.isElement,h=r.isCaretCandidate,p=e.matchStyleValues("display","block table"),f=e.matchStyleValues("float","left right"),g=t.and(d,h,t.negate(f)),m=t.negate(e.matchStyleValues("white-space","pre pre-line pre-wrap")),v=e.isText,y=e.isBr,b=n.nodeIndex,w=i.getNode;return c.fromRangeStart=function(t){return new c(t.startContainer,t.startOffset)},c.fromRangeEnd=function(t){return new c(t.endContainer,t.endOffset)},c.after=function(t){return new c(t.parentNode,b(t)+1)},c.before=function(t){return new c(t.parentNode,b(t))},c}),i("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(t,e,n,i,r){function o(t){var e=t.parentNode;return v(e)?o(e):e}function s(t){return t?i.reduce(t.childNodes,function(t,e){return v(e)&&"BR"!=e.nodeName?t=t.concat(s(e)):t.push(e),t},[]):[]}function a(t,e){for(;(t=t.previousSibling)&&m(t);)e+=t.data.length;return e}function l(t){return function(e){return t===e}}function u(e){var n,r,a;return n=s(o(e)),r=i.findIndex(n,l(e),e),n=n.slice(0,r+1),a=i.reduce(n,function(t,e,i){return m(e)&&m(n[i-1])&&t++,t},0),n=i.filter(n,t.matchNodeNames(e.nodeName)),r=i.findIndex(n,l(e),e),r-a}function c(t){var e;return e=m(t)?"text()":t.nodeName.toLowerCase(),e+"["+u(t)+"]"}function d(t,e,n){var i=[];for(e=e.parentNode;e!=t&&(!n||!n(e));e=e.parentNode)i.push(e);return i}function h(e,r){var o,s,l,u,h,p=[];return o=r.container(),s=r.offset(),m(o)?l=a(o,s):(u=o.childNodes,s>=u.length?(l="after",s=u.length-1):l="before",o=u[s]),p.push(c(o)),h=d(e,o),h=i.filter(h,n.negate(t.isBogus)),p=p.concat(i.map(h,function(t){return c(t)})),p.reverse().join("/")+","+l}function p(e,n,r){var o=s(e);return o=i.filter(o,function(t,e){return!m(t)||!m(o[e-1])}),o=i.filter(o,t.matchNodeNames(n)),o[r]}function f(t,e){for(var n,i=t,o=0;m(i);){if(n=i.data.length,e>=o&&o+n>=e){t=i,e-=o;break}if(!m(i.nextSibling)){t=i,e=n;break}o+=n,i=i.nextSibling}return e>t.data.length&&(e=t.data.length),new r(t,e)}function g(t,e){var n,o,s;return e?(n=e.split(","),e=n[0].split("/"),s=n.length>1?n[1]:"before",o=i.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),p(t,e[1],parseInt(e[2],10))):null},t),o?m(o)?f(o,parseInt(s,10)):(s="after"===s?y(o)+1:y(o),new r(o.parentNode,s)):null):null}var m=t.isText,v=t.isBogus,y=e.nodeIndex;return{create:h,resolve:g}}),i("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType"],function(t,e,n,i,r,o){function s(s){var l=s.dom;this.getBookmark=function(t,u){function c(t,n){var i=0;return e.each(l.select(t),function(t){return"all"!==t.getAttribute("data-mce-bogus")?t==n?!1:void i++:void 0}),i}function d(t){function e(e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(e?i:i-1,r.length-1)],n&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i)))}return e(!0),e(),t}function h(t){function e(t,e){var i,r,o=t[e?"startContainer":"endContainer"],s=t[e?"startOffset":"endOffset"],a=[],c=0;if(3==o.nodeType){if(u)for(i=o.previousSibling;i&&3==i.nodeType;i=i.previousSibling)s+=i.nodeValue.length;a.push(s)}else r=o.childNodes,s>=r.length&&r.length&&(c=1,s=Math.max(0,r.length-1)),a.push(l.nodeIndex(r[s],u)+c);for(;o&&o!=n;o=o.parentNode)a.push(l.nodeIndex(o,u));return a}var n=l.getRoot(),i={};return i.start=e(t,!0),s.isCollapsed()||(i.end=e(t)),i}function p(t){function e(t){var e;if(n.isCaretContainer(t)){if(o.isText(t)&&n.isCaretContainerBlock(t)&&(t=t.parentNode),e=t.previousSibling,a(e))return e;if(e=t.nextSibling,a(e))return e}}return e(t.startContainer)||e(t.endContainer)}var f,g,m,v,y,b,w,_="&#xFEFF;";if(2==t)return b=s.getNode(),y=b?b.nodeName:null,f=s.getRng(),a(b)||"IMG"==y?{name:y,index:c(y,b)}:s.tridentSel?s.tridentSel.getBookmark(t):(b=p(f),b?(y=b.tagName,{name:y,index:c(y,b)}):h(f));if(3==t)return f=s.getRng(),{start:i.create(l.getRoot(),r.fromRangeStart(f)),end:i.create(l.getRoot(),r.fromRangeEnd(f))};if(t)return{rng:s.getRng()};if(f=s.getRng(),m=l.uniqueId(),v=s.isCollapsed(),w="overflow:hidden;line-height:0px",f.duplicate||f.item){if(f.item)return b=f.item(0),y=b.nodeName,{name:y,index:c(y,b)};g=f.duplicate();try{f.collapse(),f.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_start" style="'+w+'">'+_+"</span>"),v||(g.collapse(!1),f.moveToElementText(g.parentElement()),0===f.compareEndPoints("StartToEnd",g)&&g.move("character",-1),g.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_end" style="'+w+'">'+_+"</span>"))}catch(x){return null}}else{if(b=s.getNode(),y=b.nodeName,"IMG"==y)return{name:y,index:c(y,b)};g=d(f.cloneRange()),v||(g.collapse(!1),g.insertNode(l.create("span",{"data-mce-type":"bookmark",id:m+"_end",style:w},_))),f=d(f),f.collapse(!0),f.insertNode(l.create("span",{"data-mce-type":"bookmark",id:m+"_start",style:w},_))}return s.moveToBookmark({id:m,keep:1}),{id:m}},this.moveToBookmark=function(n){function r(t){var e,i,r,o,s=n[t?"start":"end"];if(s){for(r=s[0],i=d,e=s.length-1;e>=1;e--){if(o=i.childNodes,s[e]>o.length-1)return;i=o[s[e]]}3===i.nodeType&&(r=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(r=Math.min(s[0],i.childNodes.length)),t?c.setStart(i,r):c.setEnd(i,r)}return!0}function o(i){var r,o,s,a,u=l.get(n.id+"_"+i),c=n.keep;if(u&&(r=u.parentNode,"start"==i?(c?(r=u.firstChild,o=1):o=l.nodeIndex(u),h=p=r,f=g=o):(c?(r=u.firstChild,o=1):o=l.nodeIndex(u),p=r,g=o),!c)){for(a=u.previousSibling,s=u.nextSibling,e.each(e.grep(u.childNodes),function(t){3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});u=l.get(n.id+"_"+i);)l.remove(u,1);a&&s&&a.nodeType==s.nodeType&&3==a.nodeType&&!t.opera&&(o=a.nodeValue.length,a.appendData(s.nodeValue),l.remove(s),"start"==i?(h=p=a,f=g=o):(p=a,g=o))}}function a(e){return!l.isBlock(e)||e.innerHTML||t.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}function u(){var t,e;return t=l.createRng(),e=i.resolve(l.getRoot(),n.start),t.setStart(e.container(),e.offset()),e=i.resolve(l.getRoot(),n.end),t.setEnd(e.container(),e.offset()),t}var c,d,h,p,f,g;if(n)if(e.isArray(n.start)){if(c=l.createRng(),d=l.getRoot(),s.tridentSel)return s.tridentSel.moveToBookmark(n);r(!0)&&r()&&s.setRng(c)}else"string"==typeof n.start?s.setRng(u(n)):n.id?(o("start"),o("end"),h&&(c=l.createRng(),c.setStart(a(h),f),c.setEnd(a(p),g),s.setRng(c))):n.name?s.select(l.select(n.name)[n.index]):n.rng&&s.setRng(n.rng)}}var a=o.isContentEditableFalse;return s.isBookmarkNode=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},s}),i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools"],function(t,n,i,r,o,s,a,l){function u(t,e,r,s){var a=this;a.dom=t,a.win=e,a.serializer=r,a.editor=s,a.bookmarkManager=new o(a),a.controlSelection=new i(a,s),a.win.getSelection||(a.tridentSel=new n(a))}var c=l.each,d=l.trim,h=a.ie;return u.prototype={setCursorLocation:function(t,e){var n=this,i=n.dom.createRng();t?(i.setStart(t,e),i.setEnd(t,e),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(t){var n,i,r,o=this,s=o.getRng(),a=o.dom.create("body"),l=o.getSel();return t=t||{},n=i="",t.get=!0,t.format=t.format||"html",t.selection=!0,o.editor.fire("BeforeGetContent",t),"text"==t.format?o.isCollapsed()?"":s.text||(l.toString?l.toString():""):(s.cloneContents?(r=s.cloneContents(),r&&a.appendChild(r)):s.item!==e||s.htmlText!==e?(a.innerHTML="<br>"+(s.item?s.item(0).outerHTML:s.htmlText),a.removeChild(a.firstChild)):a.innerHTML=s.toString(),/^\s/.test(a.innerHTML)&&(n=" "),/\s+$/.test(a.innerHTML)&&(i=" "),t.getInner=!0,t.content=o.isCollapsed()?"":n+o.serializer.serialize(a,t)+i,o.editor.fire("GetContent",t),t.content)},setContent:function(t,e){var n,i,r,o=this,s=o.getRng(),a=o.win.document;if(e=e||{format:"html"},e.set=!0,e.selection=!0,e.content=t,e.no_events||o.editor.fire("BeforeSetContent",e),t=e.content,s.insertNode){t+='<span id="__caret">_</span>',s.startContainer==a&&s.endContainer==a?a.body.innerHTML=t:(s.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=t:s.createContextualFragment?s.insertNode(s.createContextualFragment(t)):(i=a.createDocumentFragment(),r=a.createElement("div"),i.appendChild(r),r.outerHTML=t,s.insertNode(i))),n=o.dom.get("__caret"),s=a.createRange(),s.setStartBefore(n),s.setEndBefore(n),o.setRng(s),o.dom.remove("__caret");try{o.setRng(s)}catch(l){}}else s.item&&(a.execCommand("Delete",!1,null),s=o.getRng()),/^\s+/.test(t)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+t),o.dom.remove("__mce_tmp")):s.pasteHTML(t);e.no_events||o.editor.fire("SetContent",e)},getStart:function(t){var e,n,i,r,o=this,s=o.getRng();if(s.duplicate||s.item){if(s.item)return s.item(0);for(i=s.duplicate(),i.collapse(1),e=i.parentElement(),e.ownerDocument!==o.dom.doc&&(e=o.dom.getRoot()),n=r=s.parentElement();r=r.parentNode;)if(r==e){e=n;break}return e}return e=s.startContainer,1==e.nodeType&&e.hasChildNodes()&&(t&&s.collapsed||(e=e.childNodes[Math.min(e.childNodes.length-1,s.startOffset)])),e&&3==e.nodeType?e.parentNode:e},getEnd:function(t){var e,n,i=this,r=i.getRng();return r.duplicate||r.item?r.item?r.item(0):(r=r.duplicate(),r.collapse(0),e=r.parentElement(),e.ownerDocument!==i.dom.doc&&(e=i.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=r.endContainer,n=r.endOffset,1==e.nodeType&&e.hasChildNodes()&&(t&&r.collapsed||(e=e.childNodes[n>0?n-1:n])),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(t,e){return this.bookmarkManager.getBookmark(t,e)},moveToBookmark:function(t){return this.bookmarkManager.moveToBookmark(t)},select:function(t,e){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,t){if(!e&&i.controlSelection.controlSelect(t))return;n=r.nodeIndex(t),o.setStart(t.parentNode,n),o.setEnd(t.parentNode,n+1),e&&(i._moveEndPoint(o,t,!0),i._moveEndPoint(o,t)),i.setRng(o)}return t},isCollapsed:function(){var t=this,e=t.getRng(),n=t.getSel();return!e||e.item?!1:e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!n||e.collapsed},collapse:function(t){var e,n=this,i=n.getRng();i.item&&(e=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(e)),i.collapse(!!t),n.setRng(i)},getSel:function(){var t=this.win;return t.getSelection?t.getSelection():t.document.selection},getRng:function(t){function e(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(i){return-1}}var n,i,r,o,s,a,l=this;if(!l.win)return null;if(o=l.win.document,!t&&l.lastFocusBookmark){var u=l.lastFocusBookmark;return u.startContainer?(i=o.createRange(),i.setStart(u.startContainer,u.startOffset),i.setEnd(u.endContainer,u.endOffset)):i=u,i}if(t&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(c){}if(a=l.editor.fire("GetSelectionRange",{range:i}),a.range!==i)return a.range;if(h&&i&&i.setStart&&o.selection){try{s=o.selection.createRange()}catch(c){}s&&s.item&&(r=s.item(0),i=o.createRange(),i.setStartBefore(r),i.setEndAfter(r))}return i||(i=o.createRange?o.createRange():o.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=l.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),l.selectedRange&&l.explicitRange&&(0===e(i.START_TO_START,i,l.selectedRange)&&0===e(i.END_TO_END,i,l.selectedRange)?i=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),i
},setRng:function(t,e){var n,i,r,o=this;if(t)if(t.select){o.explicitRange=null;try{t.select()}catch(s){}}else if(o.tridentSel){if(t.cloneRange)try{o.tridentSel.addRange(t)}catch(s){}}else{if(n=o.getSel(),r=o.editor.fire("SetSelectionRange",{range:t}),t=r.range,n){o.explicitRange=t;try{n.removeAllRanges(),n.addRange(t)}catch(s){}e===!1&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),o.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!=t.endContainer||!n.setBaseAndExtent||a.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(i=t.startContainer.childNodes[t.startOffset],i&&"IMG"==i.tagName&&o.getSel().setBaseAndExtent(i,0,i,1))}},setNode:function(t){var e=this;return e.setContent(e.dom.getOuterHTML(t)),t},getNode:function(){function t(t,e){for(var n=t;t&&3===t.nodeType&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}var e,n,i,r,o,s=this,a=s.getRng(),l=s.dom.getRoot();return a?(n=a.startContainer,i=a.endContainer,r=a.startOffset,o=a.endOffset,a.setStart?(e=a.commonAncestorContainer,!a.collapsed&&(n==i&&2>o-r&&n.hasChildNodes()&&(e=n.childNodes[r]),3===n.nodeType&&3===i.nodeType&&(n=n.length===r?t(n.nextSibling,!0):n.parentNode,i=0===o?t(i.previousSibling,!1):i.parentNode,n&&n===i))?n:e&&3==e.nodeType?e.parentNode:e):(e=a.item?a.item(0):a.parentElement(),e.ownerDocument!==s.win.document&&(e=l),e)):l},getSelectedBlocks:function(e,n){var i,r,o=this,s=o.dom,a=[];if(r=s.getRoot(),e=s.getParent(e||o.getStart(),s.isBlock),n=s.getParent(n||o.getEnd(),s.isBlock),e&&e!=r&&a.push(e),e&&n&&e!=n){i=e;for(var l=new t(e,r);(i=l.next())&&i!=n;)s.isBlock(i)&&a.push(i)}return n&&e!=n&&n!=r&&a.push(n),a},isForward:function(){var t,e,n=this.dom,i=this.getSel();return i&&i.anchorNode&&i.focusNode?(t=n.createRng(),t.setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),e=n.createRng(),e.setStart(i.focusNode,i.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0):!0},normalize:function(){var t=this,e=t.getRng();return a.range&&new r(t.dom).normalize(e)&&t.setRng(e,t.isForward()),e},selectorChanged:function(t,e){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(t){var e=t.element,r=i.dom,o=r.getParents(e,null,r.getRoot()),s={};c(i.selectorChangedData,function(t,e){c(o,function(i){return r.is(i,e)?(n[e]||(c(t,function(t){t(!0,{node:i,selector:e,parents:o})}),n[e]=t),s[e]=t,!1):void 0})}),c(n,function(t,i){s[i]||(delete n[i],c(t,function(t){t(!1,{node:e,selector:i,parents:o})}))})})),i.selectorChangedData[t]||(i.selectorChangedData[t]=[]),i.selectorChangedData[t].push(e),i},getScrollContainer:function(){for(var t,e=this.dom.getRoot();e&&"BODY"!=e.nodeName;){if(e.scrollHeight>e.clientHeight){t=e;break}e=e.parentNode}return t},scrollIntoView:function(t,e){function n(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}}var i,r,o,a,l=this,u=l.dom,c=u.getRoot(),d=0;if(s.isElement(t)){if(e===!1&&(d=t.offsetHeight),"BODY"!=c.nodeName){var h=l.getScrollContainer();if(h)return i=n(t).y-n(h).y+d,a=h.clientHeight,o=h.scrollTop,void((o>i||i+25>o+a)&&(h.scrollTop=o>i?i:i-a+25))}r=u.getViewPort(l.editor.getWin()),i=u.getPos(t).y+d,o=r.y,a=r.h,(i<r.y||i+25>o+a)&&l.editor.getWin().scrollTo(0,o>i?i:i-a+25)}},placeCaretAt:function(t,e){this.setRng(r.getCaretRangeFromPoint(t,e,this.editor.getDoc()))},_moveEndPoint:function(e,n,i){var r=n,o=new t(n,r),s=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==d(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"==n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(a.ie&&a.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"==r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},u}),i("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(t,e){function n(e){this.compare=function(n,r){function o(t){var n={};return i(e.getAttribs(t),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&"data-mce-style"!==r&&"data-mce-fragment"!=r&&(n[r]=e.getAttrib(t,r))}),n}function s(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(n=e[i],"undefined"==typeof n)return!1;if(t[i]!=n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0}return n.nodeName!=r.nodeName?!1:s(o(n),o(r))&&s(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(r,"style")))?!t.isBookmarkNode(n)&&!t.isBookmarkNode(r):!1}}var i=e.each;return n}),i("tinymce/fmt/Preview",["tinymce/util/Tools"],function(t){function e(t,e){function i(t){return t.replace(/%(\w+)/g,"")}var r,o,s,a,l=t.dom,u="";if(a=t.settings.preview_styles,a===!1)return"";if(a||(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(e=t.formatter.get(e),!e)return;e=e[0]}return r=e.block||e.inline||"span",o=l.create(r),n(e.styles,function(t,e){t=i(t),t&&l.setStyle(o,e,t)}),n(e.attributes,function(t,e){t=i(t),t&&l.setAttrib(o,e,t)}),n(e.classes,function(t){t=i(t),l.hasClass(o,t)||l.addClass(o,t)}),t.fire("PreviewFormats"),l.setStyles(o,{position:"absolute",left:-65535}),t.getBody().appendChild(o),s=l.getStyle(t.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,n(a.split(" "),function(e){var n=l.getStyle(o,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=l.getStyle(t.getBody(),e,!0),"#ffffff"==l.toHex(n).toLowerCase())||"color"==e&&"#000000"==l.toHex(n).toLowerCase())){if("font-size"==e&&/em|%$/.test(n)){if(0===s)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*s+"px"}"border"==e&&n&&(u+="padding:0 2px;"),u+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),l.remove(o),u}var n=t.each;return{getCssText:e}}),i("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(t,e,n){function i(t,e){var n=o[t];n||(o[t]=n=[]),o[t].push(e)}function r(t,e){a(o[t],function(t){t(e)})}var o=[],s=t.filter,a=t.each;return i("pre",function(i){function r(e){return l(e.previousSibling)&&-1!=t.indexOf(u,e.previousSibling)}function o(t,e){n(e).remove(),n(t).append("<br><br>").append(e.childNodes)}var l,u,c=i.selection.getRng();l=e.matchNodeNames("pre"),c.collapsed||(u=i.selection.getSelectedBlocks(),a(s(s(u,l),r),function(t){o(t.previousSibling,t)}))}),{postProcess:r}}),i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(t,e,n,i,r,o,s){return function(a){function l(t){return t.nodeType&&(t=t.nodeName),!!a.schema.getTextBlockElements()[t.toLowerCase()]}function u(t){return/^(TH|TD)$/.test(t.nodeName)}function c(t){return t&&/^(IMG)$/.test(t.nodeName)}function d(t,e){return Z.getParents(t,e,Z.getRoot())}function h(t){return 1===t.nodeType&&"_mce_caret"===t.id}function p(){m({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,e,n){ce(n,function(e,n){Z.setAttrib(t,n,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),ce("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){m(t,{block:t,remove:"all"})}),m(a.settings.formats)}function f(){a.addShortcut("meta+b","bold_desc","Bold"),a.addShortcut("meta+i","italic_desc","Italic"),a.addShortcut("meta+u","underline_desc","Underline");for(var t=1;6>=t;t++)a.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);a.addShortcut("access+7","",["FormatBlock",!1,"p"]),a.addShortcut("access+8","",["FormatBlock",!1,"div"]),a.addShortcut("access+9","",["FormatBlock",!1,"address"])}function g(t){return t?X[t]:X}function m(t,e){t&&("string"!=typeof t?ce(t,function(t,e){m(e,t)}):(e=e.length?e:[e],ce(e,function(t){t.deep===q&&(t.deep=!t.selector),t.split===q&&(t.split=!t.selector||t.inline),t.remove===q&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),X[t]=e))}function v(t){return t&&X[t]&&delete X[t],X}function y(t,e){var n=g(e);if(n)for(var i=0;i<n.length;i++)if(n[i].inherit===!1&&Z.is(t,n[i].selector))return!0;return!1}function b(t){var e;return a.dom.getParent(t,function(t){return e=a.dom.getStyle(t,"text-decoration"),e&&"none"!==e}),e}function w(t){var e;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(e=b(t.parentNode),a.dom.getStyle(t,"color")&&e?a.dom.setStyle(t,"text-decoration",e):a.dom.getStyle(t,"text-decoration")===e&&a.dom.setStyle(t,"text-decoration",null))}function _(e,n,i){function r(t,e){if(e=e||f,t){if(e.onformat&&e.onformat(t,e,n,i),ce(e.styles,function(e,i){Z.setStyle(t,i,L(e,n))}),e.styles){var r=Z.getAttrib(t,"style");r&&t.setAttribute("data-mce-style",r)}ce(e.attributes,function(e,i){Z.setAttrib(t,i,L(e,n))}),ce(e.classes,function(e){e=L(e,n),Z.hasClass(t,e)||Z.addClass(t,e)})}}function o(){function e(e,n){var r=new t(n);for(i=r.prev2();i;i=r.prev2()){if(3==i.nodeType&&i.data.length>0)return i;if(i.childNodes.length>1||i==e||"BR"==i.tagName)return i}}var n=a.selection.getRng(),r=n.startContainer,o=n.endContainer;if(r!=o&&0===n.endOffset){var s=e(r,o),l=3==s.nodeType?s.data.length:s.childNodes.length;n.setEnd(s,l)}return n}function u(t,i,o){var s,a,u=[],c=!0;s=f.inline||f.block,a=Z.create(s),r(a),Q.walk(t,function(t){function i(t){var g,v,y,b,w;return w=c,g=t.nodeName.toLowerCase(),v=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&le(t)&&(w=c,c="true"===le(t),b=!0),O(g,"br")?(d=0,void(f.block&&Z.remove(t))):f.wrapper&&C(t,e,n)?void(d=0):c&&!b&&f.block&&!f.wrapper&&l(g)&&te(v,s)?(t=Z.rename(t,s),r(t),u.push(t),void(d=0)):f.selector&&(ce(p,function(e){return"collapsed"in e&&e.collapsed!==m?void 0:Z.is(t,e.selector)&&!h(t)?(r(t,e),y=!0,!1):void 0}),!f.inline||y)?void(d=0):void(!c||b||!te(s,g)||!te(v,s)||!o&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||h(t)||f.inline&&ee(t)?(d=0,ce(de(t.childNodes),i),b&&(c=w),d=0):(d||(d=Z.clone(a,se),t.parentNode.insertBefore(d,t),u.push(d)),d.appendChild(t)))}var d;ce(t,i)}),f.links===!0&&ce(u,function(t){function e(t){"A"===t.nodeName&&r(t,f),ce(de(t.childNodes),e)}e(t)}),ce(u,function(t){function i(t){var e=0;return ce(t.childNodes,function(t){I(t)||ue(t)||e++}),e}function o(t){var e,n;return ce(t.childNodes,function(t){return 1!=t.nodeType||ue(t)||h(t)?void 0:(e=t,se)}),e&&!ue(e)&&E(e,f)&&(n=Z.clone(e,se),r(n),Z.replace(n,t,ae),Z.remove(e,1)),n||t}var s;if(s=i(t),(u.length>1||!ee(t))&&0===s)return void Z.remove(t,1);if(f.inline||f.wrapper){if(f.exact||1!==s||(t=o(t)),ce(p,function(e){ce(Z.select(e.inline,t),function(t){ue(t)||H(e,n,t,e.exact?t:null)})}),C(t.parentNode,e,n))return Z.remove(t,1),t=0,ae;f.merge_with_parents&&Z.getParent(t.parentNode,function(i){return C(i,e,n)?(Z.remove(t,1),t=0,ae):void 0}),t&&f.merge_siblings!==!1&&(t=W(z(t),t),t=W(t,z(t,ae)))}})}var c,d,p=g(e),f=p[0],m=!i&&J.isCollapsed();if("false"!==le(J.getNode())){if(f){if(i)i.nodeType?(d=Z.createRng(),d.setStartBefore(i),d.setEndAfter(i),u(R(d,p),null,!0)):u(i,null,!0);else if(m&&f.inline&&!Z.select("td[data-mce-selected],th[data-mce-selected]").length)G("apply",e,n);else{var v=a.selection.getNode();ne||!p[0].defaultBlock||Z.getParent(v,Z.isBlock)||_(p[0].defaultBlock),a.selection.setRng(o()),c=J.getBookmark(),u(R(J.getRng(ae),p),c),f.styles&&(f.styles.color||f.styles.textDecoration)&&(he(v,w,"childNodes"),w(v)),J.moveToBookmark(c),V(J.getRng(ae)),a.nodeChanged()}s.postProcess(e,a)}}else{i=J.getNode();for(var y=0,b=p.length;b>y;y++)if(p[y].ceFalseOverride&&Z.is(i,p[y].selector))return void r(i,p[y])}}function x(t,e,n,i){function r(t){var n,i,o,s,a;if(1===t.nodeType&&le(t)&&(s=y,y="true"===le(t),a=!0),n=de(t.childNodes),y&&!a)for(i=0,o=m.length;o>i&&!H(m[i],e,t,t);i++);if(v.deep&&n.length){for(i=0,o=n.length;o>i;i++)r(n[i]);a&&(y=s)}}function o(n){var r;return ce(d(n.parentNode).reverse(),function(n){var o;r||"_start"==n.id||"_end"==n.id||(o=C(n,t,e,i),o&&o.split!==!1&&(r=n))}),r}function s(t,n,i,r){var o,s,a,l,u,c;if(t){for(c=t.parentNode,o=n.parentNode;o&&o!=c;o=o.parentNode){for(s=Z.clone(o,se),u=0;u<m.length;u++)if(H(m[u],e,s,s)){s=0;break}s&&(a&&s.appendChild(a),l||(l=s),a=s)}!r||v.mixed&&ee(t)||(n=Z.split(t,n)),a&&(i.parentNode.insertBefore(a,i),l.appendChild(i))}return n}function l(t){return s(o(t),t,t,!0)}function c(t){var e=Z.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return ue(n)&&(n=n[t?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),Z.remove(e,!0),n}function h(t){var e,n,i=t.commonAncestorContainer;if(t=R(t,m,ae),v.split){if(e=j(t,ae),n=j(t),e!=n){if(/^(TR|TH|TD)$/.test(e.nodeName)&&e.firstChild&&(e="TR"==e.nodeName?e.firstChild.firstChild||e:e.firstChild||e),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&u(n)&&n.firstChild&&(n=n.firstChild||n),Z.isChildOf(e,n)&&!ee(n)&&!u(e)&&!u(n))return e=N(e,"span",{id:"_start","data-mce-type":"bookmark"}),l(e),void(e=c(ae));e=N(e,"span",{id:"_start","data-mce-type":"bookmark"}),n=N(n,"span",{id:"_end","data-mce-type":"bookmark"}),l(e),l(n),e=c(ae),n=c()}else e=n=l(e);t.startContainer=e.parentNode?e.parentNode:e,t.startOffset=ie(e),t.endContainer=n.parentNode?n.parentNode:n,t.endOffset=ie(n)+1}Q.walk(t,function(t){ce(t,function(t){r(t),1===t.nodeType&&"underline"===a.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===b(t.parentNode)&&H({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})}var p,f,m=g(t),v=m[0],y=!0;if(n)return void(n.nodeType?(f=Z.createRng(),f.setStartBefore(n),f.setEndAfter(n),h(f)):h(n));if("false"!==le(J.getNode()))J.isCollapsed()&&v.inline&&!Z.select("td[data-mce-selected],th[data-mce-selected]").length?G("remove",t,e,i):(p=J.getBookmark(),h(J.getRng(ae)),J.moveToBookmark(p),v.inline&&$(t,e,J.getStart())&&V(J.getRng(!0)),a.nodeChanged());else{n=J.getNode();for(var w=0,_=m.length;_>w&&(!m[w].ceFalseOverride||!H(m[w],e,n,n));w++);}}function k(t,e,n){var i=g(t);!$(t,e,n)||"toggle"in i[0]&&!i[0].toggle?_(t,e,n):x(t,e,n)}function C(t,e,n,i){function r(t,e,r){var o,s,a,l=e[r];if(e.onmatch)return e.onmatch(t,e,r);if(l)if(l.length===q){for(o in l)if(l.hasOwnProperty(o)){if(s="attributes"===r?Z.getAttrib(t,o):A(t,o),i&&!s&&!e.exact)return;if((!i||e.exact)&&!O(s,P(L(l[o],n),o)))return}}else for(a=0;a<l.length;a++)if("attributes"===r?Z.getAttrib(t,l[a]):A(t,l[a]))return e;return e}var o,s,a,l=g(e);if(l&&t)for(s=0;s<l.length;s++)if(o=l[s],E(t,o)&&r(t,o,"attributes")&&r(t,o,"styles")){if(a=o.classes)for(s=0;s<a.length;s++)if(!Z.hasClass(t,a[s]))return;return o}}function $(t,e,n){function i(n){var i=Z.getRoot();return n===i?!1:(n=Z.getParent(n,function(n){return y(n,t)?!0:n.parentNode===i||!!C(n,t,e,!0)}),C(n,t,e))}var r;return n?i(n):(n=J.getNode(),i(n)?ae:(r=J.getStart(),r!=n&&i(r)?ae:se))}function M(t,e){var n,i=[],r={};return n=J.getStart(),Z.getParent(n,function(n){var o,s;for(o=0;o<t.length;o++)s=t[o],!r[s]&&C(n,s,e)&&(r[s]=!0,i.push(s))},Z.getRoot()),i}function S(t){var e,n,i,r,o,s=g(t);if(s)for(e=J.getStart(),n=d(e),r=s.length-1;r>=0;r--){if(o=s[r].selector,!o||s[r].defaultBlock)return ae;for(i=n.length-1;i>=0;i--)if(Z.is(n[i],o))return ae}return se}function T(t,e,n){var i;return U||(U={},i={},a.on("NodeChange",function(t){var e=d(t.element),n={};e=r.grep(e,function(t){return 1==t.nodeType&&!t.getAttribute("data-mce-bogus")}),ce(U,function(t,r){ce(e,function(o){return C(o,r,{},t.similar)?(i[r]||(ce(t,function(t){t(!0,{node:o,format:r,parents:e})}),i[r]=t),n[r]=t,!1):y(o,r)?!1:void 0})}),ce(i,function(r,o){n[o]||(delete i[o],ce(r,function(n){n(!1,{node:t.element,format:o,parents:e})}))})})),ce(t.split(","),function(t){U[t]||(U[t]=[],U[t].similar=n),U[t].push(e)}),this}function D(t){return o.getCssText(a,t)}function E(t,e){return O(t,e.inline)?ae:O(t,e.block)?ae:e.selector?1==t.nodeType&&Z.is(t,e.selector):void 0}function O(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()==e.toLowerCase()}function A(t,e){return P(Z.getStyle(t,e),e)}function P(t,e){return("color"==e||"backgroundColor"==e)&&(t=Z.toHex(t)),"fontWeight"==e&&700==t&&(t="bold"),"fontFamily"==e&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t}function L(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t}function I(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)}function N(t,e,n){var i=Z.create(e,n);return t.parentNode.insertBefore(i,t),i.appendChild(t),i}function R(e,n,i){function r(t){function e(t){return"BR"==t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling}var i,r,o,s,a;if(i=r=t?m:y,s=t?"previousSibling":"nextSibling",a=Z.getRoot(),3==i.nodeType&&!I(i)&&(t?v>0:b<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&ee(r))return r;for(o=r[s];o;o=o[s])if(!ue(o)&&!I(o)&&!e(o))return r;if(r==a||r.parentNode==a){i=r;break}r=r.parentNode}return i}function o(t,e){for(e===q&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)t=t.childNodes[e],t&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}}function s(t){for(var e=t;e;){if(1===e.nodeType&&le(e))return"false"===le(e)?e:t;e=e.parentNode}return t}function u(e,n,r){function o(t,e){var n,o,s=t.nodeValue;return"undefined"==typeof e&&(e=r?s.length:0),r?(n=s.lastIndexOf(" ",e),o=s.lastIndexOf(" ",e),n=n>o?n:o,-1===n||i||n++):(n=s.indexOf(" ",e),o=s.indexOf(" ",e),n=-1!==n&&(-1===o||o>n)?n:o),n}var s,l,u,c;if(3===e.nodeType){if(u=o(e,n),-1!==u)return{container:e,offset:u};c=e}for(s=new t(e,Z.getParent(e,ee)||a.getBody());l=s[r?"prev":"next"]();)if(3===l.nodeType){if(c=l,u=o(l),-1!==u)return{container:l,offset:u}}else if(ee(l))break;return c?(n=r?0:c.length,{container:c,offset:n}):void 0}function c(t,i){var r,o,s,a;for(3==t.nodeType&&0===t.nodeValue.length&&t[i]&&(t=t[i]),r=d(t),o=0;o<r.length;o++)for(s=0;s<n.length;s++)if(a=n[s],!("collapsed"in a&&a.collapsed!==e.collapsed)&&Z.is(r[o],a.selector))return r[o];return t}function h(t,e){var i,r=Z.getRoot();if(n[0].wrapper||(i=Z.getParent(t,n[0].block,r)),i||(i=Z.getParent(3==t.nodeType?t.parentNode:t,function(t){return t!=r&&l(t)})),i&&n[0].wrapper&&(i=d(i,"ul,ol").reverse()[0]||i),!i)for(i=t;i[e]&&!ee(i[e])&&(i=i[e],!O(i,"br")););return i||t}var p,f,g,m=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(p=m.childNodes.length-1,m=m.childNodes[v>p?p:v],3==m.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(p=y.childNodes.length-1,y=y.childNodes[b>p?p:b-1],3==y.nodeType&&(b=y.nodeValue.length)),m=s(m),y=s(y),(ue(m.parentNode)||ue(m))&&(m=ue(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(v=0)),(ue(y.parentNode)||ue(y))&&(y=ue(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(e.collapsed&&(g=u(m,v,!0),g&&(m=g.container,v=g.offset),g=u(y,b),g&&(y=g.container,b=g.offset)),f=o(y,b),f.node)){for(;f.node&&0===f.offset&&f.node.previousSibling;)f=o(f.node.previousSibling);f.node&&f.offset>0&&3===f.node.nodeType&&" "===f.node.nodeValue.charAt(f.offset-1)&&f.offset>1&&(y=f.node,y.splitText(f.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==m.nodeType&&0!==v||(m=r(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=r())),n[0].selector&&n[0].expand!==se&&!n[0].inline&&(m=c(m,"previousSibling"),y=c(y,"nextSibling")),(n[0].block||n[0].selector)&&(m=h(m,"previousSibling"),y=h(y,"nextSibling"),n[0].block&&(ee(m)||(m=r(!0)),ee(y)||(y=r()))),1==m.nodeType&&(v=ie(m),m=m.parentNode),1==y.nodeType&&(b=ie(y)+1,y=y.parentNode),{startContainer:m,startOffset:v,endContainer:y,endOffset:b}}function B(t,e){return e.links&&"A"==t.tagName}function H(t,e,n,i){var r,o,s;if(!E(n,t)&&!B(n,t))return se;if("all"!=t.remove)for(ce(t.styles,function(r,o){r=P(L(r,e),o),"number"==typeof o&&(o=r,i=0),(t.remove_similar||!i||O(A(i,o),r))&&Z.setStyle(n,o,""),s=1}),s&&""===Z.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),ce(t.attributes,function(t,r){var o;if(t=L(t,e),"number"==typeof r&&(r=t,i=0),!i||O(Z.getAttrib(i,r),t)){if("class"==r&&(t=Z.getAttrib(n,r),t&&(o="",ce(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)}),o)))return void Z.setAttrib(n,r,o);"class"==r&&n.removeAttribute("className"),oe.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),ce(t.classes,function(t){t=L(t,e),(!i||Z.hasClass(i,t))&&Z.removeClass(n,t)}),o=Z.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return se;return"none"!=t.remove?(F(n,t),ae):void 0}function F(t,e){function n(t,e,n){return t=z(t,e,n),!t||"BR"==t.nodeName||ee(t)}var i,r=t.parentNode;e.block&&(ne?r==Z.getRoot()&&(e.list_block&&O(t,e.list_block)||ce(de(t.childNodes),function(t){te(ne,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=N(t,ne),Z.setAttribs(i,a.settings.forced_root_block_attrs)):i=0})):ee(t)&&!ee(r)&&(n(t,se)||n(t.firstChild,ae,1)||t.insertBefore(Z.create("br"),t.firstChild),n(t,ae)||n(t.lastChild,se,1)||t.appendChild(Z.create("br")))),e.selector&&e.inline&&!O(e.inline,t)||Z.remove(t,1)}function z(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1==t.nodeType||!I(t))return t}function W(t,e){function n(t,e){for(r=t;r;r=r[e]){if(3==r.nodeType&&0!==r.nodeValue.length)return t;if(1==r.nodeType&&!ue(r))return r}return t}var r,o,s=new i(Z);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),s.compare(t,e))){for(r=t.nextSibling;r&&r!=e;)o=r,r=r.nextSibling,t.appendChild(o);return Z.remove(e),ce(de(e.childNodes),function(e){t.appendChild(e)}),t}return e}function j(e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],1==i.nodeType&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),3===i.nodeType&&n&&r>=i.nodeValue.length&&(i=new t(i,a.getBody()).next()||i),3!==i.nodeType||n||0!==r||(i=new t(i,a.getBody()).prev()||i),i}function G(e,n,i,r){function o(t){var e=Z.create("span",{id:m,"data-mce-bogus":!0,style:v?"color:red":""});return t&&e.appendChild(a.getDoc().createTextNode(re)),e}function s(t,e){for(;t;){if(3===t.nodeType&&t.nodeValue!==re||t.childNodes.length>1)return!1;e&&1===t.nodeType&&e.push(t),t=t.firstChild}return!0}function u(t){for(;t;){if(t.id===m)return t;t=t.parentNode}}function c(e){var n;if(e)for(n=new t(e,e),e=n.current();e;e=n.next())if(3===e.nodeType)return e}function d(t,e){var n,i;if(t)i=J.getRng(!0),s(t)?(e!==!1&&(i.setStartBefore(t),i.setEndBefore(t)),Z.remove(t)):(n=c(t),n.nodeValue.charAt(0)===re&&(n.deleteData(0,1),i.startContainer==n&&i.startOffset>0&&i.setStart(n,i.startOffset-1),i.endContainer==n&&i.endOffset>0&&i.setEnd(n,i.endOffset-1)),Z.remove(t,1)),J.setRng(i);else if(t=u(J.getStart()),!t)for(;t=Z.get(m);)d(t,!1)}function h(){var t,e,r,s,a,l,d;t=J.getRng(!0),s=t.startOffset,l=t.startContainer,d=l.nodeValue,e=u(J.getStart()),e&&(r=c(e)),d&&s>0&&s<d.length&&/\w/.test(d.charAt(s))&&/\w/.test(d.charAt(s-1))?(a=J.getBookmark(),t.collapse(!0),t=R(t,g(n)),t=Q.split(t),_(n,i,t),J.moveToBookmark(a)):(e&&r.nodeValue===re?_(n,i,e):(e=o(!0),r=e.firstChild,t.insertNode(e),s=1,_(n,i,e)),J.setCursorLocation(r,s))}function p(){var t,e,s,a,u,c,d,h,p=J.getRng(!0),f=[];for(t=p.startContainer,e=p.startOffset,u=t,3==t.nodeType&&(e!=t.nodeValue.length&&(a=!0),u=u.parentNode);u;){if(C(u,n,i,r)){c=u;break}u.nextSibling&&(a=!0),f.push(u),u=u.parentNode}if(c)if(a)s=J.getBookmark(),p.collapse(!0),p=R(p,g(n),!0),p=Q.split(p),x(n,i,p),J.moveToBookmark(s);else{for(h=o(),u=h,d=f.length-1;d>=0;d--)u.appendChild(Z.clone(f[d],!1)),u=u.firstChild;u.appendChild(Z.doc.createTextNode(re)),u=u.firstChild;var m=Z.getParent(c,l);m&&Z.isEmpty(m)?c.parentNode.replaceChild(h,c):Z.insertAfter(h,c),J.setCursorLocation(u,1),Z.isEmpty(c)&&Z.remove(c)}}function f(){var t;t=u(J.getStart()),t&&!Z.isEmpty(t)&&he(t,function(t){1!=t.nodeType||t.id===m||Z.isEmpty(t)||Z.setAttrib(t,"data-mce-bogus",null)},"childNodes")}var m="_mce_caret",v=a.settings.caret_debug;a._hasCaretEvents||(K=function(){var t,e=[];if(s(u(J.getStart()),e))for(t=e.length;t--;)Z.setAttrib(e[t],"data-mce-bogus","1")},Y=function(t){var e=t.keyCode;d(),8==e&&J.isCollapsed()&&J.getStart().innerHTML==re&&d(u(J.getStart())),(37==e||39==e)&&d(u(J.getStart())),f()},a.on("SetContent",function(t){t.selection&&f()}),a._hasCaretEvents=!0),"apply"==e?h():p()}function V(e){var n,i,r,o,s,a=e.startContainer,l=e.startOffset;if((e.startContainer!=e.endContainer||!c(e.startContainer.childNodes[e.startOffset]))&&(3==a.nodeType&&l>=a.nodeValue.length&&(l=ie(a),a=a.parentNode,n=!0),1==a.nodeType))for(o=a.childNodes,a=o[Math.min(l,o.length-1)],i=new t(a,Z.getParent(a,Z.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!I(r))return s=Z.create("a",{"data-mce-bogus":"all"},re),r.parentNode.insertBefore(s,r),e.setStart(r,0),J.setRng(e),void Z.remove(s)}var U,q,Y,K,X={},Z=a.dom,J=a.selection,Q=new e(Z),te=a.schema.isValidChild,ee=Z.isBlock,ne=a.settings.forced_root_block,ie=Z.nodeIndex,re="﻿",oe=/^(src|href|style)$/,se=!1,ae=!0,le=Z.getContentEditable,ue=n.isBookmarkNode,ce=r.each,de=r.grep,he=r.walk,pe=r.extend;pe(this,{get:g,register:m,unregister:v,apply:_,remove:x,toggle:k,match:$,matchAll:M,matchNode:C,canApply:S,formatChanged:T,getCssText:D}),p(),f(),a.on("BeforeGetContent",function(t){K&&"raw"!=t.format&&K()}),a.on("mouseup keydown",function(t){Y&&Y(t)})}}),i("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env"],function(t,e){return function(t){function n(){return t.serializer.getTrimmedContent()}function i(e){t.setDirty(e)}function r(t){a.typing=!1,a.add({},t)}var o,s,a=this,l=0,u=[],c=0;return t.on("init",function(){a.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!=e&&"Redo"!=e&&"mceRepaint"!=e&&a.beforeChange()}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!=e&&"Redo"!=e&&"mceRepaint"!=e&&r(t)}),t.on("ObjectResizeStart Cut",function(){a.beforeChange()}),t.on("SaveContent ObjectResized blur",r),t.on("DragEnd",r),t.on("KeyUp",function(o){var l=o.keyCode;o.isDefaultPrevented()||((l>=33&&36>=l||l>=37&&40>=l||45==l||13==l||o.ctrlKey)&&(r(),t.nodeChanged()),(46==l||8==l||e.mac&&(91==l||93==l))&&t.nodeChanged(),s&&a.typing&&(t.isDirty()||(i(u[0]&&n()!=u[0].content),t.isDirty()&&t.fire("change",{level:u[0],lastLevel:null})),t.fire("TypingUndo"),s=!1,t.nodeChanged()))}),t.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented()){if(e>=33&&36>=e||e>=37&&40>=e||45==e)return void(a.typing&&r(t));var n=t.ctrlKey&&!t.altKey||t.metaKey;!(16>e||e>20)||224==e||91==e||a.typing||n||(a.beforeChange(),a.typing=!0,a.add({},t),s=!0)}}),t.on("MouseDown",function(t){a.typing&&r(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),a={data:u,typing:!1,beforeChange:function(){c||(o=t.selection.getBookmark(2,!0))},add:function(e,r){var s,a,d=t.settings;if(e=e||{},e.content=n(),c||t.removed)return null;if(a=u[l],t.fire("BeforeAddUndo",{level:e,lastLevel:a,originalEvent:r}).isDefaultPrevented())return null;if(a&&a.content==e.content)return null;if(u[l]&&(u[l].beforeBookmark=o),d.custom_undo_redo_levels&&u.length>d.custom_undo_redo_levels){for(s=0;s<u.length-1;s++)u[s]=u[s+1];u.length--,l=u.length}e.bookmark=t.selection.getBookmark(2,!0),l<u.length-1&&(u.length=l+1),u.push(e),l=u.length-1;var h={level:e,lastLevel:a,originalEvent:r};return t.fire("AddUndo",h),l>0&&(i(!0),t.fire("change",h)),e},undo:function(){var e;return a.typing&&(a.add(),a.typing=!1),l>0&&(e=u[--l],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.beforeBookmark),i(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return l<u.length-1&&(e=u[++l],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.bookmark),i(!0),t.fire("redo",{level:e})),e},clear:function(){u=[],l=0,a.typing=!1,t.fire("ClearUndos")},hasUndo:function(){return l>0||a.typing&&u[0]&&n()!=u[0].content},hasRedo:function(){return l<u.length-1&&!this.typing},transact:function(t){a.beforeChange();try{c++,t()}finally{c--}a.add()}}}}),i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(t,e,n){var i=n.ie&&n.ie<11;return function(r){function o(o){function p(t){return t&&s.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==s.getContentEditable(t)}function f(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function g(t){var e;s.isBlock(t)&&(e=a.getRng(),t.appendChild(s.create("span",null," ")),a.select(t),t.lastChild.outerHTML="",a.setRng(e))}function m(t){var e,n=t,i=[];if(n){for(;n=n.firstChild;){if(s.isBlock(n))return;1!=n.nodeType||d[n.nodeName.toLowerCase()]||i.push(n)}for(e=i.length;e--;)n=i[e],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?s.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&s.remove(n)}}function v(e){function i(t){for(;t;){if(1==t.nodeType||3==t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}var r,o,l,u,c=e;if(e){if(n.ie&&n.ie<9&&L&&L.firstChild&&L.firstChild==L.lastChild&&"BR"==L.firstChild.tagName&&s.remove(L.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var d=i(e.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&e.insertBefore(s.doc.createTextNode(" "),e.firstChild)
}if(l=s.createRng(),n.ie||e.normalize(),e.hasChildNodes()){for(r=new t(e,e);o=r.current();){if(3==o.nodeType){l.setStart(o,0),l.setEnd(o,0);break}if(h[o.nodeName.toLowerCase()]){l.setStartBefore(o),l.setEndBefore(o);break}c=o,o=r.next()}o||(l.setStart(c,0),l.setEnd(c,0))}else"BR"==e.nodeName?e.nextSibling&&s.isBlock(e.nextSibling)?((!I||9>I)&&(u=s.create("br"),e.parentNode.insertBefore(u,e)),l.setStartBefore(e),l.setEndBefore(e)):(l.setStartAfter(e),l.setEndAfter(e)):(l.setStart(e,0),l.setEnd(e,0));a.setRng(l),s.remove(u),a.scrollIntoView(e)}}function y(t){var e=l.forced_root_block;e&&e.toLowerCase()===t.tagName.toLowerCase()&&s.setAttribs(t,l.forced_root_block_attrs)}function b(t){t.innerHTML=i?"":'<br data-mce-bogus="1">'}function w(t){var e,n,r,o=A,a=c.getTextInlineElements();if(t||"TABLE"==F?(e=s.create(t||W),y(e)):e=L.cloneNode(!1),r=e,l.keep_styles!==!1)do if(a[o.nodeName]){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),s.setAttrib(n,"id",""),e.hasChildNodes()?(n.appendChild(e.firstChild),e.appendChild(n)):(r=n,e.appendChild(n))}while((o=o.parentNode)&&o!=O);return i||(r.innerHTML='<br data-mce-bogus="1">'),e}function _(e){var n,i,r;if(3==A.nodeType&&(e?P>0:P<A.nodeValue.length))return!1;if(A.parentNode==L&&j&&!e)return!0;if(e&&1==A.nodeType&&A==L.firstChild)return!0;if("TABLE"===A.nodeName||A.previousSibling&&"TABLE"==A.previousSibling.nodeName)return j&&!e||!j&&e;for(n=new t(A,L),3==A.nodeType&&(e&&0===P?n.prev():e||P!=A.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),d[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;e?n.prev():n.next()}return!0}function x(t,e){var n,i,o,a,l,u,d=W||"P";if(i=s.getParent(t,s.isBlock),!i||!p(i)){if(i=i||O,u=i==r.getBody()||f(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return n=s.create(d),y(n),i.appendChild(n),D.setStart(n,0),D.setEnd(n,0),n;for(a=t;a.parentNode!=i;)a=a.parentNode;for(;a&&!s.isBlock(a);)o=a,a=a.previousSibling;if(o&&c.isValidChild(u,d.toLowerCase())){for(n=s.create(d),y(n),o.parentNode.insertBefore(n,o),a=o;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;D.setStart(t,e),D.setEnd(t,e)}}return t}function k(){function t(t){for(var e=H[t?"firstChild":"lastChild"];e&&1!=e.nodeType;)e=e[t?"nextSibling":"previousSibling"];return e===L}function e(){var t=H.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:H}if(H!=r.getBody()){var n=H.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(W="LI"),R=W?w(W):s.create("BR"),t(!0)&&t()?"LI"==n?s.insertAfter(R,e()):s.replace(R,H):t(!0)?"LI"==n?(s.insertAfter(R,e()),R.appendChild(s.doc.createTextNode(" ")),R.appendChild(H)):H.parentNode.insertBefore(R,H):t()?(s.insertAfter(R,e()),g(R)):(H=e(),E=D.cloneRange(),E.setStartAfter(L),E.setEndAfter(H),B=E.extractContents(),"LI"==W&&"LI"==B.firstChild.nodeName?(R=B.firstChild,s.insertAfter(B,H)):(s.insertAfter(B,H),s.insertAfter(R,H))),s.remove(L),v(R),u.add()}}function C(){r.execCommand("InsertLineBreak",!1,o)}function $(t){do 3===t.nodeType&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)}function M(t){var e,n,i=s.getRoot();for(e=t;e!==i&&"false"!==s.getContentEditable(e);)"true"===s.getContentEditable(e)&&(n=e),e=e.parentNode;return e!==i?n:i}function S(t){var e;i||(t.normalize(),e=t.lastChild,(!e||/^(left|right)$/gi.test(s.getStyle(e,"float",!0)))&&s.add(t,"br"))}function T(){R=/^(H[1-6]|PRE|FIGURE)$/.test(F)&&"HGROUP"!=z?w(W):w(),l.end_container_on_empty_block&&p(H)&&s.isEmpty(L)?R=s.split(H,L):s.insertAfter(R,L),v(R)}var D,E,O,A,P,L,I,N,R,B,H,F,z,W,j;if(D=a.getRng(!0),!o.isDefaultPrevented()){if(!D.collapsed)return void r.execCommand("Delete");if(new e(s).normalize(D),A=D.startContainer,P=D.startOffset,W=(l.force_p_newlines?"p":"")||l.forced_root_block,W=W?W.toUpperCase():"",I=s.doc.documentMode,N=o.shiftKey,1==A.nodeType&&A.hasChildNodes()&&(j=P>A.childNodes.length-1,A=A.childNodes[Math.min(P,A.childNodes.length-1)]||A,P=j&&3==A.nodeType?A.nodeValue.length:0),O=M(A)){if(u.beforeChange(),!s.isBlock(O)&&O!=s.getRoot())return void((!W||N)&&C());if((W&&!N||!W&&N)&&(A=x(A,P)),L=s.getParent(A,s.isBlock),H=L?s.getParent(L.parentNode,s.isBlock):null,F=L?L.nodeName.toUpperCase():"",z=H?H.nodeName.toUpperCase():"","LI"!=z||o.ctrlKey||(L=H,F=z),/^(LI|DT|DD)$/.test(F)){if(!W&&N)return void C();if(s.isEmpty(L))return void k()}if("PRE"==F&&l.br_in_pre!==!1){if(!N)return void C()}else if(!W&&!N&&"LI"!=F||W&&N)return void C();W&&L===r.getBody()||(W=W||"P",_()?T():_(!0)?(R=L.parentNode.insertBefore(w(),L),g(R),v(L)):(E=D.cloneRange(),E.setEndAfter(L),B=E.extractContents(),$(B),R=B.firstChild,s.insertAfter(B,L),m(R),S(L),s.isEmpty(L)&&b(L),R.normalize(),s.isEmpty(R)?(s.remove(R),T()):v(R)),s.setAttrib(R,"id",""),r.fire("NewBlock",{newBlock:R}),u.add())}}}var s=r.dom,a=r.selection,l=r.settings,u=r.undoManager,c=r.schema,d=c.getNonEmptyElements(),h=c.getMoveCaretBeforeOnEnterElements();r.on("keydown",function(t){13==t.keyCode&&o(t)!==!1&&t.preventDefault()})}}),i("tinymce/ForceBlocks",[],function(){return function(t){function e(){var e,a,l,u,c,d,h,p,f,g,m,v,y=r.getStart(),b=t.getBody(),w=-16777215;if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(s[y.nodeName])return;y=y.parentNode}if(e=r.getRng(),e.setStart){a=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset;try{f=t.getDoc().activeElement===b}catch(_){}}else e.item&&(y=e.item(0),e=t.getDoc().body.createTextRange(),e.moveToElementText(y)),f=e.parentElement().ownerDocument===t.getDoc(),g=e.duplicate(),g.collapse(!0),l=-1*g.move("character",w),g.collapsed||(g=e.duplicate(),g.collapse(!1),c=-1*g.move("character",w)-l);for(y=b.firstChild,m=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!s[y.nodeName])&&o.isValidChild(m,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){h=y,y=y.nextSibling,i.remove(h);continue}d||(d=i.create(v,t.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),p=!0),h=y,y=y.nextSibling,d.appendChild(h)}else d=null,y=y.nextSibling;if(p&&f){if(e.setStart)e.setStart(a,l),e.setEnd(u,c),r.setRng(e);else try{e=t.getDoc().body.createTextRange(),e.moveToElementText(b),e.collapse(!0),e.moveStart("character",l),c>0&&e.moveEnd("character",c),e.select()}catch(_){}t.nodeChanged()}}}var n=t.settings,i=t.dom,r=t.selection,o=t.schema,s=o.getBlockElements();n.forced_root_block&&t.on("NodeChange",e)}}),i("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(t,e,n,i,r,o){function s(t){return t>0}function a(t){return 0>t}function l(t,n,i,r,o){var l=new e(t,r);if(a(n)){if(w(t)&&(t=l.prev(!0),i(t)))return t;for(;t=l.prev(o);)if(i(t))return t}if(s(n)){if(w(t)&&(t=l.next(!0),i(t)))return t;for(;t=l.next(o);)if(i(t))return t}return null}function u(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode)if(b(t))return t;return e}function c(t,e){for(;t&&t!=e;){if(_(t))return t;t=t.parentNode}return null}function d(t,e,n){return c(t.container(),n)==c(e.container(),n)}function h(t,e,n){return u(t.container(),n)==u(e.container(),n)}function p(t,e){var n,i;return e?(n=e.container(),i=e.offset(),C(n)?n.childNodes[i+t]:null):null}function f(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n}function g(t,e,n){return c(e,t)==c(n,t)}function m(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!=e;){if(i=n[r],x(i)&&(i=i[r]),w(i)){if(g(e,i,n))return i;break}if($(i))break;n=n.parentNode}return null}function v(t,e,i){var o,s,a,l,u=k(m,!0,e),c=k(m,!1,e);if(s=i.startContainer,a=i.startOffset,r.isCaretContainerBlock(s)){if(C(s)||(s=s.parentNode),l=s.getAttribute("data-mce-caret"),"before"==l&&(o=s.nextSibling,w(o)))return M(o);if("after"==l&&(o=s.previousSibling,w(o)))return S(o)}if(!i.collapsed)return i;if(n.isText(s)){if(x(s)){if(1===t){if(o=c(s))return M(o);if(o=u(s))return S(o)}if(-1===t){if(o=u(s))return S(o);if(o=c(s))return M(o)}return i}if(r.endsWithCaretContainer(s)&&a>=s.data.length-1)return 1===t&&(o=c(s))?M(o):i;if(r.startsWithCaretContainer(s)&&1>=a)return-1===t&&(o=u(s))?S(o):i;if(a===s.data.length)return o=c(s),o?M(o):i;if(0===a)return o=u(s),o?S(o):i}return i}function y(t,e){return w(p(t,e))}var b=n.isContentEditableTrue,w=n.isContentEditableFalse,_=n.matchStyleValues("display","block table table-cell table-caption"),x=r.isCaretContainer,k=t.curry,C=n.isElement,$=o.isCaretCandidate,M=k(f,!0),S=k(f,!1);return{isForwards:s,isBackwards:a,findNode:l,getEditingHost:u,getParentBlock:c,isInSameBlock:d,isInSameEditingHost:h,isBeforeContentEditableFalse:k(y,0),isAfterContentEditableFalse:k(y,-1),normalizeRange:v}}),i("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(t,e,n,i,r,o){function s(t,e){for(var n=[];t&&t!=e;)n.push(t),t=t.parentNode;return n}function a(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function l(t,e){if(g(t)){if(v(e.previousSibling)&&!h(e.previousSibling))return n.before(e);if(h(e))return n(e,0)}if(m(t)){if(v(e.nextSibling)&&!h(e.nextSibling))return n.after(e);if(h(e))return n(e,e.data.length)}return m(t)?f(e)?n.before(e):n.after(e):n.before(e)}function u(e,r){var o;return t.isBr(e)?(o=c(1,n.after(e),r),o?!i.isInSameBlock(n.before(e),n.before(o),r):!1):!1}function c(t,e,f){var w,_,x,k,C,$,M;if(!p(f)||!e)return null;if(M=e,w=M.container(),_=M.offset(),h(w)){if(m(t)&&_>0)return n(w,--_);if(g(t)&&_<w.length)return n(w,++_);x=w}else{if(m(t)&&_>0&&(k=a(w,_-1),v(k)))return!y(k)&&(C=i.findNode(k,t,b,k))?h(C)?n(C,C.data.length):n.after(C):h(k)?n(k,k.data.length):n.before(k);if(g(t)&&_<w.childNodes.length&&(k=a(w,_),v(k)))return u(k,f)?c(t,n.after(k),f):!y(k)&&(C=i.findNode(k,t,b,k))?h(C)?n(C,0):n.before(C):h(k)?n(k,0):n.after(k);x=M.getNode()}return(g(t)&&M.isAtEnd()||m(t)&&M.isAtStart())&&(x=i.findNode(x,t,o.constant(!0),f,!0),b(x))?l(t,x):(k=i.findNode(x,t,b,f),$=r.last(r.filter(s(w,f),d)),!$||k&&$.contains(k)?k?l(t,k):null:M=g(t)?n.after($):n.before($))}var d=t.isContentEditableFalse,h=t.isText,p=t.isElement,f=t.isBr,g=i.isForwards,m=i.isBackwards,v=e.isCaretCandidate,y=e.isAtomic,b=e.isEditableCaretCandidate;return function(t){return{next:function(e){return c(1,e,t)},prev:function(e){return c(-1,e,t)}}}}),i("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools","tinymce/dom/ElementUtils","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/NodeType"],function(t,n,i,r,o,s,a,l,u){var c=i.each,d=i.extend,h=i.map,p=i.inArray,f=i.explode,g=n.ie,m=n.ie&&n.ie<11,v=!0,y=!1,b=u.matchNodeNames("td th");return function(u){function w(t,e,n,i){var r,o,s=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||i&&i.skip_focus||u.focus(),i=u.fire("BeforeExecCommand",{command:t,ui:e,value:n}),i.isDefaultPrevented())return!1;if(o=t.toLowerCase(),r=B.exec[o])return r(o,e,n),u.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(c(u.plugins,function(i){return i.execCommand&&i.execCommand(t,e,n)?(u.fire("ExecCommand",{command:t,ui:e,value:n}),s=!0,!1):void 0}),s)return s;if(u.theme&&u.theme.execCommand&&u.theme.execCommand(t,e,n))return u.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{s=u.getDoc().execCommand(t,e,n)}catch(a){}return s?(u.fire("ExecCommand",{command:t,ui:e,value:n}),!0):!1}function _(t){var e;if(!u.quirks.isHidden()){if(t=t.toLowerCase(),e=B.state[t])return e(t);try{return u.getDoc().queryCommandState(t)}catch(n){}return!1}}function x(t){var e;if(!u.quirks.isHidden()){if(t=t.toLowerCase(),e=B.value[t])return e(t);try{return u.getDoc().queryCommandValue(t)}catch(n){}}}function k(t,e){e=e||"exec",c(t,function(t,n){c(n.toLowerCase().split(","),function(n){B[e][n]=t})})}function C(t,e,n){t=t.toLowerCase(),B.exec[t]=function(t,i,r,o){return e.call(n||u,i,r,o)}}function $(t){if(t=t.toLowerCase(),B.exec[t])return!0;try{return u.getDoc().queryCommandSupported(t)}catch(e){}return!1}function M(t,e,n){t=t.toLowerCase(),B.state[t]=function(){return e.call(n||u)}}function S(t,e,n){t=t.toLowerCase(),B.value[t]=function(){return e.call(n||u)}}function T(t){return t=t.toLowerCase(),!!B.exec[t]}function D(t,n,i){return n===e&&(n=y),i===e&&(i=null),u.getDoc().execCommand(t,n,i)}function E(t){return N.match(t)}function O(t,n){N.toggle(t,n?{value:n}:e),u.nodeChanged()}function A(t){R=I.getBookmark(t)}function P(){I.moveToBookmark(R)}var L,I,N,R,B={state:{},exec:{},value:{}},H=u.settings;u.on("PreInit",function(){L=u.dom,I=u.selection,H=u.settings,N=u.formatter}),d(this,{execCommand:w,queryCommandState:_,queryCommandValue:x,queryCommandSupported:$,addCommands:k,addCommand:C,addQueryStateHandler:M,addQueryValueHandler:S,hasCustomCommand:T}),k({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){u.undoManager.add()},"Cut,Copy,Paste":function(t){var e,i=u.getDoc();try{D(t)}catch(r){e=v}if("paste"!==t||i.queryCommandEnabled(t)||(e=!0),e||!i.queryCommandSupported(t)){var o=u.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");n.mac&&(o=o.replace(/Ctrl\+/g,"⌘+")),u.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(I.isCollapsed()){var t=I.getNode();return void("A"==t.tagName&&u.dom.remove(t,!0))}N.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"==e&&(e="justify"),c("left,center,right,justify".split(","),function(t){e!=t&&N.remove("align"+t)}),"none"!=e&&O("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var e,n;D(t),e=L.getParent(I.getNode(),"ol,ul"),e&&(n=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(A(),L.split(n,e),P()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){O(t)},"ForeColor,HiliteColor,FontName":function(t,e,n){O(t,n)},FontSize:function(t,e,n){var i,r;n>=1&&7>=n&&(r=f(H.font_size_style_values),i=f(H.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),O(t,n)},RemoveFormat:function(t){N.remove(t)},mceBlockQuote:function(){O("blockquote")},FormatBlock:function(t,e,n){return O(n||"p")},mceCleanup:function(){var t=I.getBookmark();u.setContent(u.getContent({cleanup:v}),{cleanup:v}),I.moveToBookmark(t)},mceRemoveNode:function(t,e,n){var i=n||I.getNode();i!=u.getBody()&&(A(),u.dom.remove(i,v),P())},mceSelectNodeDepth:function(t,e,n){var i=0;L.getParent(I.getNode(),function(t){return 1==t.nodeType&&i++==n?(I.select(t),y):void 0},u.getBody())},mceSelectNode:function(t,e,n){I.select(n)},mceInsertContent:function(e,n,o){function s(t){function e(t){return i[t]&&3==i[t].nodeType}var n,i,r;return n=I.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):e("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<i.length?t=t.replace(/&nbsp;(<br>|)$/," "):e("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}function d(){var t,e,n;t=I.getRng(!0),e=t.startContainer,n=t.startOffset,3==e.nodeType&&t.collapsed&&(" "===e.data[n]?(e.deleteData(n,1),/[\u00a0| ]$/.test(o)||(o+=" ")):" "===e.data[n-1]&&(e.deleteData(n-1,1),/[\u00a0| ]$/.test(o)||(o=" "+o)))}function h(t){if(A)for(D=t.firstChild;D;D=D.walk(!0))N[D.name]&&D.attr("data-mce-new","true")}function p(){if(A){var t=u.getBody(),e=new r(L);c(L.select("*[data-mce-new]"),function(n){n.removeAttribute("data-mce-new");for(var i=n.parentNode;i&&i!=t;i=i.parentNode)e.compare(i,n)&&L.remove(n,!0)})}}function f(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}function m(t){i.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})}function v(t){return!!t.getAttribute("data-mce-fragment")}function y(t){return t&&!u.schema.getShortEndedElements()[t.nodeName]}function w(t){function e(t){for(var e=u.getBody();t&&t!==e;t=t.parentNode)if("false"===u.dom.getContentEditable(t))return t;return null}function n(t){var e=l.fromRangeStart(t),n=new a(u.getBody());return e=n.next(e),e?e.toRange():void 0}var i,r,o;if(t){if(I.scrollIntoView(t),i=e(t))return L.remove(t),void I.select(i);T=L.createRng(),D=t.previousSibling,D&&3==D.nodeType?(T.setStart(D,D.nodeValue.length),g||(E=t.nextSibling,E&&3==E.nodeType&&(D.appendData(E.data),E.parentNode.removeChild(E)))):(T.setStartBefore(t),T.setEndBefore(t)),r=L.getParent(t,L.isBlock),L.remove(t),r&&L.isEmpty(r)&&(u.$(r).empty(),T.setStart(r,0),T.setEnd(r,0),b(r)||v(r)||!(o=n(T))?L.add(r,L.create("br",{"data-mce-bogus":"1"})):(T=o,L.remove(r))),I.setRng(T)}}var _,x,k,C,$,M,S,T,D,E,O,A,P,N=u.schema.getTextInlineElements();"string"!=typeof o&&(A=o.merge,P=o.data,o=o.content),/^ | $/.test(o)&&(o=s(o)),_=u.parser,x=new t({validate:H.validate},u.schema),O='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',M={content:o,format:"html",selection:!0},u.fire("BeforeSetContent",M),o=M.content,-1==o.indexOf("{$caret}")&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,O),T=I.getRng();var R=T.startContainer||(T.parentElement?T.parentElement():null),B=u.getBody();R===B&&I.isCollapsed()&&L.isBlock(B.firstChild)&&y(B.firstChild)&&L.isEmpty(B.firstChild)&&(T=L.createRng(),T.setStart(B.firstChild,0),T.setEnd(B.firstChild,0),I.setRng(T)),I.isCollapsed()||(u.selection.setRng(u.selection.getRng()),u.getDoc().execCommand("Delete",!1,null),d()),k=I.getNode();var F={context:k.nodeName.toLowerCase(),data:P};if($=_.parse(o,F),f($),h($),D=$.lastChild,"mce_marker"==D.attr("id"))for(S=D,D=D.prev;D;D=D.walk(!0))if(3==D.type||!L.isBlock(D.name)){u.schema.isValidChild(D.parent.name,"span")&&D.parent.insert(S,D,"br"===D.name);break}if(u._selectionOverrides.showBlockCaretContainer(k),F.invalid){for(I.setContent(O),k=I.getNode(),C=u.getBody(),9==k.nodeType?k=D=C:D=k;D!==C;)k=D,D=D.parentNode;o=k==C?C.innerHTML:L.getOuterHTML(k),o=x.serialize(_.parse(o.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return x.serialize($)}))),k==C?L.setHTML(C,o):L.setOuterHTML(k,o)}else o=x.serialize($),D=k.firstChild,E=k.lastChild,!D||D===E&&"BR"===D.nodeName?L.setHTML(k,o):I.setContent(o);p(),w(L.get("mce_marker")),m(u.getBody()),u.fire("SetContent",M),u.addVisual()},mceInsertRawHTML:function(t,e,n){I.setContent("tiny_mce_marker"),u.setContent(u.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(t,e,n){O(n)},mceSetContent:function(t,e,n){u.setContent(n)},"Indent,Outdent":function(t){var e,n,i;e=H.indentation,n=/[a-z%]+$/i.exec(e),e=parseInt(e,10),_("InsertUnorderedList")||_("InsertOrderedList")?D(t):(H.forced_root_block||L.getParent(I.getNode(),L.isBlock)||N.apply("div"),c(I.getSelectedBlocks(),function(r){if("false"!==L.getContentEditable(r)&&"LI"!=r.nodeName){var o=u.getParam("indent_use_margin",!1)?"margin":"padding";o+="rtl"==L.getStyle(r,"direction",!0)?"Right":"Left","outdent"==t?(i=Math.max(0,parseInt(r.style[o]||0,10)-e),L.setStyle(r,o,i?i+n:"")):(i=parseInt(r.style[o]||0,10)+e+n,L.setStyle(r,o,i))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){u.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){u.hasVisual=!u.hasVisual,u.addVisual()},mceReplaceContent:function(t,e,n){u.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,I.getContent({format:"text"})))},mceInsertLink:function(t,e,n){var i;"string"==typeof n&&(n={href:n}),i=L.getParent(I.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||N.remove("link"),n.href&&N.apply("link",n,i)},selectAll:function(){var t,e=L.getRoot();I.getRng().setStart?(t=L.createRng(),t.setStart(e,0),t.setEnd(e,e.childNodes.length),I.setRng(t)):(t=I.getRng(),t.item||(t.moveToElementText(e),t.select()))},"delete":function(){D("Delete");var t=u.getBody();L.isEmpty(t)&&(u.setContent(""),t.firstChild&&L.isBlock(t.firstChild)?u.selection.setCursorLocation(t.firstChild,0):u.selection.setCursorLocation(t,0))},mceNewDocument:function(){u.setContent("")},InsertLineBreak:function(t,e,n){function i(){for(var t,e=new s(p,g),n=u.schema.getNonEmptyElements();t=e.next();)if(n[t.nodeName.toLowerCase()]||t.length>0)return!0}var r,a,l,c=n,d=I.getRng(!0);new o(L).normalize(d);var h=d.startOffset,p=d.startContainer;if(1==p.nodeType&&p.hasChildNodes()){var f=h>p.childNodes.length-1;p=p.childNodes[Math.min(h,p.childNodes.length-1)]||p,h=f&&3==p.nodeType?p.nodeValue.length:0}var g=L.getParent(p,L.isBlock),y=g?g.nodeName.toUpperCase():"",b=g?L.getParent(g.parentNode,L.isBlock):null,w=b?b.nodeName.toUpperCase():"",_=c&&c.ctrlKey;"LI"!=w||_||(g=b,y=w),p&&3==p.nodeType&&h>=p.nodeValue.length&&(m||i()||(r=L.create("br"),d.insertNode(r),d.setStartAfter(r),d.setEndAfter(r),a=!0)),r=L.create("br"),d.insertNode(r);var x=L.doc.documentMode;return m&&"PRE"==y&&(!x||8>x)&&r.parentNode.insertBefore(L.doc.createTextNode("\r"),r),l=L.create("span",{},"&nbsp;"),r.parentNode.insertBefore(l,r),I.scrollIntoView(l),L.remove(l),a?(d.setStartBefore(r),d.setEndBefore(r)):(d.setStartAfter(r),d.setEndAfter(r)),I.setRng(d),u.undoManager.add(),v}}),k({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var e="align"+t.substring(7),n=I.isCollapsed()?[L.getParent(I.getNode(),L.isBlock)]:I.getSelectedBlocks(),i=h(n,function(t){return!!N.matchNode(t,e)});return-1!==p(i,v)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return E(t)},mceBlockQuote:function(){return E("blockquote")},Outdent:function(){var t;if(H.inline_styles){if((t=L.getParent(I.getStart(),L.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return v;if((t=L.getParent(I.getEnd(),L.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return v}return _("InsertUnorderedList")||_("InsertOrderedList")||!H.inline_styles&&!!L.getParent(I.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var e=L.getParent(I.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),k({"FontSize,FontName":function(t){var e,n=0;return(e=L.getParent(I.getNode(),"span"))&&(n="fontsize"==t?e.style.fontSize:e.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),k({Undo:function(){u.undoManager.undo()},Redo:function(){u.undoManager.redo()}})}}),i("tinymce/util/URI",["tinymce/util/Tools"],function(t){function e(t,o){var s,a,l=this;if(t=i(t),o=l.settings=o||{},s=o.base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(l.source=t);var u=0===t.indexOf("//");0!==t.indexOf("/")||u||(t=(s?s.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(a=o.base_uri?o.base_uri.path:new e(location.href).directory,""===o.base_uri.protocol?t="//mce_host"+l.toAbsPath(a,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(s&&s.protocol||"http")+"://mce_host"+l.toAbsPath(a,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(r,function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),l[e]=i}),s&&(l.protocol||(l.protocol=s.protocol),l.userInfo||(l.userInfo=s.userInfo),l.port||"mce_host"!==l.host||(l.port=s.port),l.host&&"mce_host"!==l.host||(l.host=s.host),l.source=""),u&&(l.protocol="")}var n=t.each,i=t.trim,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};return e.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var n,i=this;if("./"===t)return t;if(t=new e(t,{base_uri:i}),"mce_host"!=t.host&&i.host!=t.host&&t.host||i.port!=t.port||i.protocol!=t.protocol&&""!==t.protocol)return t.getURI();var r=i.getURI(),o=t.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,t.path),t.query&&(n+="?"+t.query),t.anchor&&(n+="#"+t.anchor),n)},toAbsolute:function(t,n){return t=new e(t,{base_uri:this}),t.getURI(n&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=o[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,s="";if(t=t.substring(0,t.lastIndexOf("/")),t=t.split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;r>i;i++)if(i>=n.length||t[i]!=n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=t.length||t[i]!=n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);r>i;i++)s+="../";for(i=o-1,r=n.length;r>i;i++)s+=i!=o-1?"/"+n[i]:n[i];return s},toAbsPath:function(t,e){var i,r,o,s=0,a=[];for(r=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),n(t,function(t){t&&a.push(t)}),t=a,i=e.length-1,a=[];i>=0;i--)0!==e[i].length&&"."!==e[i]&&(".."!==e[i]?s>0?s--:a.push(e[i]):s++);return i=t.length-s,o=0>=i?a.reverse().join("/"):t.slice(0,i).join("/")+"/"+a.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(t){var e,n=this;return(!n.source||t)&&(e="",t||(e+=n.protocol?n.protocol+"://":"//",n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},e.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),n=/data:([^;]+)/.exec(t[0]),n&&(e=n[1]),{type:e,data:t[1]}},e.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},e}),i("tinymce/util/Class",["tinymce/util/Tools"],function(t){function e(){}var n,i,r=t.each,o=t.extend;return e.extend=n=function(t){function e(){var t,e,n,r=this;if(!i&&(r.init&&r.init.apply(r,arguments),e=r.Mixins))for(t=e.length;t--;)n=e[t],n.init&&n.init.apply(r,arguments)}function s(){return this}function a(t,e){return function(){var n,i=this,r=i._super;return i._super=h[t],n=e.apply(i,arguments),i._super=r,n}}var l,u,c,d=this,h=d.prototype;i=!0,l=new d,i=!1,t.Mixins&&(r(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),h.Mixins&&(t.Mixins=h.Mixins.concat(t.Mixins))),t.Methods&&r(t.Methods.split(","),function(e){t[e]=s}),t.Properties&&r(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e,i=this;return t!==e?(i[n]=t,i):i[n]}}),t.Statics&&r(t.Statics,function(t,n){e[n]=t}),t.Defaults&&h.Defaults&&(t.Defaults=o({},h.Defaults,t.Defaults));for(u in t)c=t[u],l[u]="function"==typeof c&&h[u]?a(u,c):c;return e.prototype=l,e.constructor=e,e.extend=n,e},e}),i("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(t){function e(e){function n(){return!1}function i(){return!0}function r(t,r){var o,a,l,c;if(t=t.toLowerCase(),r=r||{},r.type=t,r.target||(r.target=u),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=i},r.stopPropagation=function(){r.isPropagationStopped=i},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=i},r.isDefaultPrevented=n,r.isPropagationStopped=n,r.isImmediatePropagationStopped=n),e.beforeFire&&e.beforeFire(r),o=h[t])for(a=0,l=o.length;l>a;a++){if(c=o[a],c.once&&s(t,c.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(c.func.call(u,r)===!1)return r.preventDefault(),r}return r}function o(e,i,r,o){var s,a,l;if(i===!1&&(i=n),i)for(i={func:i},o&&t.extend(i,o),a=e.toLowerCase().split(" "),l=a.length;l--;)e=a[l],s=h[e],s||(s=h[e]=[],c(e,!0)),r?s.unshift(i):s.push(i);return d}function s(t,e){var n,i,r,o,s;if(t)for(o=t.toLowerCase().split(" "),n=o.length;n--;){if(t=o[n],i=h[t],!t){for(r in h)c(r,!1),delete h[r];return d}if(i){if(e)for(s=i.length;s--;)i[s].func===e&&(i=i.slice(0,s).concat(i.slice(s+1)),h[t]=i);else i.length=0;i.length||(c(t,!1),delete h[t])}}else{for(t in h)c(t,!1);h={}}return d}function a(t,e,n){return o(t,e,n,{once:!0})}function l(t){return t=t.toLowerCase(),!(!h[t]||0===h[t].length)}var u,c,d=this,h={};e=e||{},u=e.scope||d,c=e.toggleEvent||n,d.fire=r,d.on=o,d.off=s,d.once=a,d.has=l}var n=t.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return e.isNative=function(t){return!!n[t.toLowerCase()]},e}),i("tinymce/data/Binding",[],function(){function t(t){this.create=t.create}return t.create=function(e,n){return new t({create:function(t,i){function r(e){t.set(i,e.value)}function o(t){e.set(n,t.value)}var s;return t.on("change:"+i,o),e.on("change:"+n,r),s=t._bindings,s||(s=t._bindings=[],t.on("destroy",function(){for(var t=s.length;t--;)s[t]()})),s.push(function(){e.off("change:"+n,r)}),e.get(n)}})},t}),i("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(t){function e(e){return e._eventDispatcher||(e._eventDispatcher=new t({scope:e,toggleEvent:function(n,i){t.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,i)}})),e._eventDispatcher}return{fire:function(t,n,i){var r=this;if(r.removed&&"remove"!==t)return n;if(n=e(r).fire(t,n,i),i!==!1&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(t,n,!1),o=o.parent();return n},on:function(t,n,i){return e(this).on(t,n,i)},off:function(t,n){return e(this).off(t,n)},once:function(t,n){return e(this).once(t,n)},hasEventListeners:function(t){return e(this).has(t)}}}),i("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(t,e,n,i){function r(t){return t.nodeType>0}function o(t,e){var n,s;if(t===e)return!0;if(null===t||null===e)return t===e;if("object"!=typeof t||"object"!=typeof e)return t===e;if(i.isArray(e)){if(t.length!==e.length)return!1;for(n=t.length;n--;)if(!o(t[n],e[n]))return!1}if(r(t)||r(e))return t===e;s={};for(n in e){if(!o(t[n],e[n]))return!1;s[n]=!0}for(n in t)if(!s[n]&&!o(t[n],e[n]))return!1;return!0}return n.extend({Mixins:[e],init:function(e){var n,i;e=e||{};for(n in e)i=e[n],i instanceof t&&(e[n]=i.create(this,n));this.data=e},set:function(e,n){var i,r,s=this.data[e];if(n instanceof t&&(n=n.create(this,e)),"object"==typeof e){for(i in e)this.set(i,e[i]);return this}return o(s,n)||(this.data[e]=n,r={target:this,name:e,value:n,oldValue:s},this.fire("change:"+e,r),this.fire("change",r)),this},get:function(t){return this.data[t]},has:function(t){return t in this.data},bind:function(e){return t.create(this,e)},destroy:function(){this.fire("destroy")}})}),i("tinymce/ui/Selector",["tinymce/util/Class"],function(t){function e(t){for(var e,n=[],i=t.length;i--;)e=t[i],e.__checked||(n.push(e),e.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var n,i=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,s=t.extend({init:function(t){function e(t){return t?(t=t.toLowerCase(),function(e){return"*"===t||e.type===t}):void 0}function n(t){return t?function(e){return e._name===t}:void 0}function s(t){return t?(t=t.split("."),function(e){for(var n=t.length;n--;)if(!e.classes.contains(t[n]))return!1;return!0}):void 0}function a(t,e,n){return t?function(i){var r=i[t]?i[t]():"";return e?"="===e?r===n:"*="===e?r.indexOf(n)>=0:"~="===e?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===e?r!=n:"^="===e?0===r.indexOf(n):"$="===e?r.substr(r.length-n.length)===n:!1:!!n}:void 0}function l(t){var e;
return t?(t=/(?:not\((.+)\))|(.+)/i.exec(t),t[1]?(e=c(t[1],[]),function(t){return!d(t,e)}):(t=t[2],function(e,n,i){return"first"===t?0===n:"last"===t?n===i-1:"even"===t?n%2===0:"odd"===t?n%2===1:e[t]?e[t]():!1})):void 0}function u(t,r,u){function c(t){t&&r.push(t)}var d;return d=i.exec(t.replace(o,"")),c(e(d[1])),c(n(d[2])),c(s(d[3])),c(a(d[4],d[5],d[6])),c(l(d[7])),r.pseudo=!!d[7],r.direct=u,r}function c(t,e){var n,i,o,s=[];do if(r.exec(""),i=r.exec(t),i&&(t=i[3],s.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&c(n,e),t=[],o=0;o<s.length;o++)">"!=s[o]&&t.push(u(s[o],[],">"===s[o-1]));return e.push(t),e}var d=this.match;this._selectors=c(t,[])},match:function(t,e){var n,i,r,o,s,a,l,u,c,d,h,p,f;for(e=e||this._selectors,n=0,i=e.length;i>n;n++){for(s=e[n],o=s.length,f=t,p=0,r=o-1;r>=0;r--)for(u=s[r];f;){if(u.pseudo)for(h=f.parent().items(),c=d=h.length;c--&&h[c]!==f;);for(a=0,l=u.length;l>a;a++)if(!u[a](f,c,d)){a=l+1;break}if(a===l){p++;break}if(r===o-1)break;f=f.parent()}if(p===o)return!0}return!1},find:function(t){function i(t,e,n){var r,o,s,l,u,c=e[n];for(r=0,o=t.length;o>r;r++){for(u=t[r],s=0,l=c.length;l>s;s++)if(!c[s](u,r,o)){s=l+1;break}if(s===l)n==e.length-1?a.push(u):u.items&&i(u.items(),e,n+1);else if(c.direct)return;u.items&&i(u.items(),e,n)}}var r,o,a=[],l=this._selectors;if(t.items){for(r=0,o=l.length;o>r;r++)i(t.items(),l[r],0);o>1&&(a=e(a))}return n||(n=s.Collection),new n(a)}});return s}),i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(t,e,n){var i,r,o=Array.prototype.push,s=Array.prototype.slice;return r={length:0,init:function(t){t&&this.add(t)},add:function(e){var n=this;return t.isArray(e)?o.apply(n,e):e instanceof i?n.add(e.toArray()):o.call(n,e),n},set:function(t){var e,n=this,i=n.length;for(n.length=0,n.add(t),e=n.length;i>e;e++)delete n[e];return n},filter:function(t){var n,r,o,s,a=this,l=[];for("string"==typeof t?(t=new e(t),s=function(e){return t.match(e)}):s=t,n=0,r=a.length;r>n;n++)o=a[n],s(o)&&l.push(o);return new i(l)},slice:function(){return new i(s.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},each:function(e){return t.each(this,e),this},toArray:function(){return t.toArray(this)},indexOf:function(t){for(var e=this,n=e.length;n--&&e[n]!==t;);return n},reverse:function(){return new i(t.toArray(this).reverse())},hasClass:function(t){return this[0]?this[0].classes.contains(t):!1},prop:function(t,e){var n,i,r=this;return e!==n?(r.each(function(n){n[t]&&n[t](e)}),r):(i=r[0],i&&i[t]?i[t]():void 0)},exec:function(e){var n=this,i=t.toArray(arguments).slice(1);return n.each(function(t){t[e]&&t[e].apply(t,i)}),n},remove:function(){for(var t=this.length;t--;)this[t].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},t.each("fire on off show hide append prepend before after reflow".split(" "),function(e){r[e]=function(){var n=t.toArray(arguments);return this.each(function(t){e in t&&t[e].apply(t,n)}),this}}),t.each("text name disabled active selected checked visible parent value data".split(" "),function(t){r[t]=function(e){return this.prop(t,e)}}),i=n.extend(r),e.Collection=i,i}),i("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(t,e){var n=0;return{id:function(){return"mceu_"+n++},create:function(n,i,r){var o=document.createElement(n);return e.DOM.setAttribs(o,i),"string"==typeof r?o.innerHTML=r:t.each(r,function(t){t.nodeType&&o.appendChild(t)}),o},createFragment:function(t){return e.DOM.createFragment(t)},getWindowSize:function(){return e.DOM.getViewPort()},getSize:function(t){var e,n;if(t.getBoundingClientRect){var i=t.getBoundingClientRect();e=Math.max(i.width||i.right-i.left,t.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,t.offsetHeight)}else e=t.offsetWidth,n=t.offsetHeight;return{width:e,height:n}},getPos:function(t,n){return e.DOM.getPos(t,n)},getViewPort:function(t){return e.DOM.getViewPort(t)},get:function(t){return document.getElementById(t)},addClass:function(t,n){return e.DOM.addClass(t,n)},removeClass:function(t,n){return e.DOM.removeClass(t,n)},hasClass:function(t,n){return e.DOM.hasClass(t,n)},toggleClass:function(t,n,i){return e.DOM.toggleClass(t,n,i)},css:function(t,n,i){return e.DOM.setStyle(t,n,i)},getRuntimeStyle:function(t,n){return e.DOM.getStyle(t,n,!0)},on:function(t,n,i,r){return e.DOM.bind(t,n,i,r)},off:function(t,n,i){return e.DOM.unbind(t,n,i)},fire:function(t,n,i){return e.DOM.fire(t,n,i)},innerHtml:function(t,n){e.DOM.setHTML(t,n)}}}),i("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(t){var e,n=10;if(t)return"number"==typeof t?(t=t||0,{top:t,left:t,bottom:t,right:t}):(t=t.split(" "),e=t.length,1===e?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseInt(t[0],n)||0,right:parseInt(t[1],n)||0,bottom:parseInt(t[2],n)||0,left:parseInt(t[3],n)||0})},measureBox:function(t,e){function n(e){var n=document.defaultView;return n?(e=e.replace(/[A-Z]/g,function(t){return"-"+t}),n.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle[e]}function i(t){var e=parseFloat(n(t),10);return isNaN(e)?0:e}return{top:i(e+"TopWidth"),right:i(e+"RightWidth"),bottom:i(e+"BottomWidth"),left:i(e+"LeftWidth")}}}}),i("tinymce/ui/ClassList",["tinymce/util/Tools"],function(t){function e(){}function n(t){this.cls=[],this.cls._map={},this.onchange=t||e,this.prefix=""}return t.extend(n.prototype,{add:function(t){return t&&!this.contains(t)&&(this.cls._map[t]=!0,this.cls.push(t),this._change()),this},remove:function(t){if(this.contains(t)){for(var e=0;e<this.cls.length&&this.cls[e]!==t;e++);this.cls.splice(e,1),delete this.cls._map[t],this._change()}return this},toggle:function(t,e){var n=this.contains(t);return n!==e&&(n?this.remove(t):this.add(t),this._change()),this},contains:function(t){return!!this.cls._map[t]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var t;if(this.clsValue)return this.clsValue;t="";for(var e=0;e<this.cls.length;e++)e>0&&(t+=" "),t+=this.prefix+this.cls[e];return t},n}),i("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(t){var e,n={};return{add:function(i){var r=i.parent();if(r){if(!r._layout||r._layout.isNative())return;n[r._id]||(n[r._id]=r),e||(e=!0,t.requestAnimationFrame(function(){var t,i;e=!1;for(t in n)i=n[t],i.state.get("rendered")&&i.reflow();n={}},document.body))}},remove:function(t){n[t._id]&&delete n[t._id]}}}),i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,n,i,r,o,s,a,l,u){function c(t){return t._eventDispatcher||(t._eventDispatcher=new n({scope:t,toggleEvent:function(e,i){i&&n.isNative(e)&&(t._nativeEvents||(t._nativeEvents={}),t._nativeEvents[e]=!0,t.state.get("rendered")&&d(t))}})),t._eventDispatcher}function d(t){function e(e){var n=t.getParentCtrl(e.target);n&&n.fire(e.type,e)}function n(){var t=u._lastHoverCtrl;t&&(t.fire("mouseleave",{target:t.getEl()}),t.parents().each(function(t){t.fire("mouseleave",{target:t.getEl()})}),u._lastHoverCtrl=null)}function i(e){var n,i,r,o=t.getParentCtrl(e.target),s=u._lastHoverCtrl,a=0;if(o!==s){if(u._lastHoverCtrl=o,i=o.parents().toArray().reverse(),i.push(o),s){for(r=s.parents().toArray().reverse(),r.push(s),a=0;a<r.length&&i[a]===r[a];a++);for(n=r.length-1;n>=a;n--)s=r[n],s.fire("mouseleave",{target:s.getEl()})}for(n=a;n<i.length;n++)o=i[n],o.fire("mouseenter",{target:o.getEl()})}}function r(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-1/40*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=t.fire("wheel",e)}var o,a,l,u,c,d;if(c=t._nativeEvents){for(l=t.parents().toArray(),l.unshift(t),o=0,a=l.length;!u&&a>o;o++)u=l[o]._eventsRoot;for(u||(u=l[l.length-1]||t),t._eventsRoot=u,a=o,o=0;a>o;o++)l[o]._eventsRoot=u;var h=u._delegates;h||(h=u._delegates={});for(d in c){if(!c)return!1;"wheel"!==d||f?("mouseenter"===d||"mouseleave"===d?u._hasMouseEnter||(s(u.getEl()).on("mouseleave",n).on("mouseover",i),u._hasMouseEnter=1):h[d]||(s(u.getEl()).on(d,e),h[d]=!0),c[d]=!1):p?s(t.getEl()).on("mousewheel",r):s(t.getEl()).on("DOMMouseScroll",r)}}}var h,p="onmousewheel"in document,f=!1,g="mce-",m=0,v={Statics:{classPrefix:g},isRtl:function(){return h.rtl},classPrefix:g,init:function(t){function n(t){var e;for(t=t.split(" "),e=0;e<t.length;e++)u.classes.add(t[e])}var r,o,u=this;u.settings=t=e.extend({},u.Defaults,t),u._id=t.id||"mceu_"+m++,u._aria={role:t.role},u._elmCache={},u.$=s,u.state=new i({visible:!0,active:!1,disabled:!1,value:""}),u.data=new i(t.data),u.classes=new l(function(){u.state.get("rendered")&&(u.getEl().className=this.toString())}),u.classes.prefix=u.classPrefix,r=t.classes,r&&(u.Defaults&&(o=u.Defaults.classes,o&&r!=o&&n(o)),n(r)),e.each("title text name visible disabled active value".split(" "),function(e){e in t&&u[e](t[e])}),u.on("click",function(){return u.disabled()?!1:void 0}),u.settings=t,u.borderBox=a.parseBox(t.border),u.paddingBox=a.parseBox(t.padding),u.marginBox=a.parseBox(t.margin),t.hidden&&u.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(t){for(var e,n=this.getRoot().controlIdLookup;t&&n&&!(e=n[t.id]);)t=t.parentNode;return e},initLayoutRect:function(){var t,e,n,i,r,s,l,u,c,d,h=this,p=h.settings,f=h.getEl();t=h.borderBox=h.borderBox||a.measureBox(f,"border"),h.paddingBox=h.paddingBox||a.measureBox(f,"padding"),h.marginBox=h.marginBox||a.measureBox(f,"margin"),d=o.getSize(f),u=p.minWidth,c=p.minHeight,r=u||d.width,s=c||d.height,n=p.width,i=p.height,l=p.autoResize,l="undefined"!=typeof l?l:!n&&!i,n=n||r,i=i||s;var g=t.left+t.right,m=t.top+t.bottom,v=p.maxWidth||65535,y=p.maxHeight||65535;return h._layoutRect=e={x:p.x||0,y:p.y||0,w:n,h:i,deltaW:g,deltaH:m,contentW:n-g,contentH:i-m,innerW:n-g,innerH:i-m,startMinWidth:u||0,startMinHeight:c||0,minW:Math.min(r,v),minH:Math.min(s,y),maxW:v,maxH:y,autoResize:l,scrollW:0},h._lastLayoutRect={},e},layoutRect:function(t){var e,n,i,r,o,s,a=this,l=a._layoutRect;return l||(l=a.initLayoutRect()),t?(i=l.deltaW,r=l.deltaH,t.x!==o&&(l.x=t.x),t.y!==o&&(l.y=t.y),t.minW!==o&&(l.minW=t.minW),t.minH!==o&&(l.minH=t.minH),n=t.w,n!==o&&(n=n<l.minW?l.minW:n,n=n>l.maxW?l.maxW:n,l.w=n,l.innerW=n-i),n=t.h,n!==o&&(n=n<l.minH?l.minH:n,n=n>l.maxH?l.maxH:n,l.h=n,l.innerH=n-r),n=t.innerW,n!==o&&(n=n<l.minW-i?l.minW-i:n,n=n>l.maxW-i?l.maxW-i:n,l.innerW=n,l.w=n+i),n=t.innerH,n!==o&&(n=n<l.minH-r?l.minH-r:n,n=n>l.maxH-r?l.maxH-r:n,l.innerH=n,l.h=n+r),t.contentW!==o&&(l.contentW=t.contentW),t.contentH!==o&&(l.contentH=t.contentH),e=a._lastLayoutRect,(e.x!==l.x||e.y!==l.y||e.w!==l.w||e.h!==l.h)&&(s=h.repaintControls,s&&s.map&&!s.map[a._id]&&(s.push(a),s.map[a._id]=!0),e.x=l.x,e.y=l.y,e.w=l.w,e.h=l.h),a):l},repaint:function(){var t,e,n,i,r,o,s,a,l,u,c=this;l=document.createRange?function(t){return t}:Math.round,t=c.getEl().style,i=c._layoutRect,a=c._lastRepaintRect||{},r=c.borderBox,o=r.left+r.right,s=r.top+r.bottom,i.x!==a.x&&(t.left=l(i.x)+"px",a.x=i.x),i.y!==a.y&&(t.top=l(i.y)+"px",a.y=i.y),i.w!==a.w&&(u=l(i.w-o),t.width=(u>=0?u:0)+"px",a.w=i.w),i.h!==a.h&&(u=l(i.h-s),t.height=(u>=0?u:0)+"px",a.h=i.h),c._hasBody&&i.innerW!==a.innerW&&(u=l(i.innerW),n=c.getEl("body"),n&&(e=n.style,e.width=(u>=0?u:0)+"px"),a.innerW=i.innerW),c._hasBody&&i.innerH!==a.innerH&&(u=l(i.innerH),n=n||c.getEl("body"),n&&(e=e||n.style,e.height=(u>=0?u:0)+"px"),a.innerH=i.innerH),c._lastRepaintRect=a,c.fire("repaint",{},!1)},updateLayoutRect:function(){var t=this;t.parent()._lastRect=null,o.css(t.getEl(),{width:"",height:""}),t._layoutRect=t._lastRepaintRect=t._lastLayoutRect=null,t.initLayoutRect()},on:function(t,e){function n(t){var e,n;return"string"!=typeof t?t:function(r){return e||i.parentsAndSelf().each(function(i){var r=i.settings.callbacks;return r&&(e=r[t])?(n=i,!1):void 0}),e?e.call(n,r):(r.action=t,void this.fire("execute",r))}}var i=this;return c(i).on(t,n(e)),i},off:function(t,e){return c(this).off(t,e),this},fire:function(t,e,n){var i=this;if(e=e||{},e.control||(e.control=i),e=c(i).fire(t,e),n!==!1&&i.parent)for(var r=i.parent();r&&!e.isPropagationStopped();)r.fire(t,e,!1),r=r.parent();return e},hasEventListeners:function(t){return c(this).has(t)},parents:function(t){var e,n=this,i=new r;for(e=n.parent();e;e=e.parent())i.add(e);return t&&(i=i.filter(t)),i},parentsAndSelf:function(t){return new r(this).add(this.parents(t))},next:function(){var t=this.parent().items();return t[t.indexOf(this)+1]},prev:function(){var t=this.parent().items();return t[t.indexOf(this)-1]},innerHtml:function(t){return this.$el.html(t),this},getEl:function(t){var e=t?this._id+"-"+t:this._id;return this._elmCache[e]||(this._elmCache[e]=s("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(t){}return this},blur:function(){return this.getEl().blur(),this},aria:function(t,e){var n=this,i=n.getEl(n.ariaTarget);return"undefined"==typeof e?n._aria[t]:(n._aria[t]=e,n.state.get("rendered")&&i.setAttribute("role"==t?t:"aria-"+t,e),n)},encode:function(t,e){return e!==!1&&(t=this.translate(t)),(t||"").replace(/[&<>"]/g,function(t){return"&#"+t.charCodeAt(0)+";"})},translate:function(t){return h.translate?h.translate(t):t},before:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e),!0),e},after:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e)),e},remove:function(){var t,e,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;)o[e].remove()}r&&r.items&&(t=[],r.items().each(function(e){e!==n&&t.push(e)}),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&s(i).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(t){return s(t).before(this.renderHtml()),this.postRender(),this},renderTo:function(t){return s(t||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var t,e,n,i,r,o=this,a=o.settings;o.$el=s(o.getEl()),o.state.set("rendered",!0);for(i in a)0===i.indexOf("on")&&o.on(i.substr(2),a[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}d(o),a.style&&(t=o.getEl(),t&&(t.setAttribute("style",a.style),t.style.cssText=a.style)),o.settings.border&&(e=o.borderBox,o.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}));var l=o.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o;for(var c in o._aria)o.aria(c,o._aria[c]);o.state.get("visible")===!1&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(t){var e,n=t.value;o.state.get("rendered")&&(o.getEl().style.display=n===!1?"none":"",o.getEl().getBoundingClientRect()),e=o.parent(),e&&(e._lastRect=null),o.fire(n?"show":"hide"),u.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(t){function e(t,e){var n,i,r=t;for(n=i=0;r&&r!=e&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,s,a,l=this.getEl(),u=l.parentNode,c=e(l,u);return n=c.x,i=c.y,r=l.offsetWidth,o=l.offsetHeight,s=u.clientWidth,a=u.clientHeight,"end"==t?(n-=s-r,i-=a-o):"center"==t&&(n-=s/2-r/2,i-=a/2-o/2),u.scrollLeft=n,u.scrollTop=i,this},getRoot:function(){for(var t,e=this,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var i=n.length;i--;)n[i].rootControl=t;return t},reflow:function(){u.remove(this);var t=this.parent();return t._layout&&!t._layout.isNative()&&t.reflow(),this}};return e.each("text title visible disabled active value".split(" "),function(t){v[t]=function(e){return 0===arguments.length?this.state.get(t):("undefined"!=typeof e&&this.state.set(t,e),this)}}),h=t.extend(v)}),i("tinymce/ui/Factory",[],function(){var t,e={};return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,i){var r,o,s;if(!t){s=tinymce.ui;for(o in s)e[o.toLowerCase()]=s[o];t=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),r=e[n],!r)throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),i("tinymce/ui/KeyboardNavigation",[],function(){return function(t){function e(t){return t&&1===t.nodeType}function n(t){return t=t||b,e(t)?t.getAttribute("role"):null}function i(t){for(var e,i=t||b;i=i.parentNode;)if(e=n(i))return e}function r(t){var n=b;return e(n)?n.getAttribute("aria-"+t):void 0}function o(t){var e=t.tagName.toUpperCase();return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e}function s(t){return o(t)&&!t.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(t))?!0:!1}function a(t){function e(t){if(1==t.nodeType&&"none"!=t.style.display){s(t)&&n.push(t);for(var i=0;i<t.childNodes.length;i++)e(t.childNodes[i])}}var n=[];return e(t||_.getEl()),n}function l(t){var e,n;t=t||w,n=t.parents().toArray(),n.unshift(t);for(var i=0;i<n.length&&(e=n[i],!e.settings.ariaRoot);i++);return e}function u(t){var e=l(t),n=a(e.getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?c(e.lastAriaIndex,n):c(0,n)}function c(t,e){return 0>t?t=e.length-1:t>=e.length&&(t=0),e[t]&&e[t].focus(),t}function d(t,e){var n=-1,i=l();e=e||a(i.getEl());for(var r=0;r<e.length;r++)e[r]===b&&(n=r);n+=t,i.lastAriaIndex=c(n,e)}function h(){var t=i();"tablist"==t?d(-1,a(b.parentNode)):w.parent().submenu?v():d(-1)}function p(){var t=n(),e=i();"tablist"==e?d(1,a(b.parentNode)):"menuitem"==t&&"menu"==e&&r("haspopup")?y():d(1)}function f(){d(-1)}function g(){var t=n(),e=i();"menuitem"==t&&"menubar"==e?y():"button"==t&&r("haspopup")?y({key:"down"}):d(1)}function m(t){var e=i();if("tablist"==e){var n=a(w.getEl("body"))[0];n&&n.focus()}else d(t.shiftKey?-1:1)}function v(){w.fire("cancel")}function y(t){t=t||{},w.fire("click",{target:b,aria:t})}var b,w,_=t.root;try{b=document.activeElement}catch(x){b=document.body}return w=_.getParentCtrl(b),_.on("keydown",function(t){function e(t,e){o(b)||"slider"!==n(b)&&e(t)!==!1&&t.preventDefault()}if(!t.isDefaultPrevented())switch(t.keyCode){case 37:e(t,h);break;case 39:e(t,p);break;case 38:e(t,f);break;case 40:e(t,g);break;case 27:v();break;case 14:case 13:case 32:e(t,y);break;case 9:m(t)!==!1&&t.preventDefault()}}),_.on("focusin",function(t){b=t.target,w=t.control}),{focusFirst:u}}}),i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,n,i,r,o,s,a,l){var u={};return t.extend({init:function(t){var n=this;n._super(t),t=n.settings,t.fixed&&n.state.set("fixed",!0),n._items=new e,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new a(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),t.containerCls&&n.classes.add(t.containerCls),n._layout=i.create((t.layout||"")+"layout"),n.add(n.settings.items?n.settings.items:n.render()),n._hasBody=!0},items:function(){return this._items},find:function(t){return t=u[t]=u[t]||new n(t),t.find(this)},add:function(t){var e=this;return e.items().add(e.create(t)).parent(e),e},focus:function(t){var e,n,i,r=this;return t&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(t){return t.settings.autofocus?(e=null,!1):void(t.canFocus&&(e=e||t))}),e&&e.focus(),r)},replace:function(t,e){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===t){i[r]=e;break}r>=0&&(n=e.getEl(),n&&n.parentNode.removeChild(n),n=t.getEl(),n&&n.parentNode.removeChild(n)),e.parent(this)},create:function(e){var n,r=this,s=[];return o.isArray(e)||(e=[e]),o.each(e,function(e){e&&(e instanceof t||("string"==typeof e&&(e={type:e}),n=o.extend({},r.settings.defaults,e),e.type=n.type=n.type||e.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),e=i.create(n)),s.push(e))}),s},renderNew:function(){var t=this;return t.items().each(function(e,n){var i;e.parent(t),e.state.get("rendered")||(i=t.getEl("body"),i.hasChildNodes()&&n<=i.childNodes.length-1?s(i.childNodes[n]).before(e.renderHtml()):s(i).append(e.renderHtml()),e.postRender(),l.add(e))}),t._layout.applyClasses(t.items().filter(":visible")),t._lastRect=null,t},append:function(t){return this.add(t).renderNew()},prepend:function(t){var e=this;return e.items().set(e.create(t).concat(e.items().toArray())),e.renderNew()},insert:function(t,e,n){var i,r,o,s=this;return t=s.create(t),i=s.items(),!n&&e<i.length-1&&(e+=1),e>=0&&e<i.length&&(r=i.slice(0,e).toArray(),o=i.slice(e).toArray(),i.set(r.concat(t,o))),s.renderNew()},fromJSON:function(t){var e=this;for(var n in t)e.find("#"+n).value(t[n]);return e},toJSON:function(){var t=this,e={};return t.find("*").each(function(t){var n=t.name(),i=t.value();n&&"undefined"!=typeof i&&(e[n]=i)}),e},renderHtml:function(){var t=this,e=t._layout,n=this.settings.role;return t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"},postRender:function(){var t,e=this;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e.state.set("rendered",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e.parent()||(e.keyboardNav=new r({root:e})),e},initLayoutRect:function(){var t=this,e=t._super();return t._layout.recalc(t),e},recalc:function(){var t=this,e=t._layoutRect,n=t._lastRect;return n&&n.w==e.w&&n.h==e.h?void 0:(t._layout.recalc(t),e=t.layoutRect(),t._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0)},reflow:function(){var e;if(l.remove(this),this.visible()){for(t.repaintControls=[],t.repaintControls.map={},this.recalc(),e=t.repaintControls.length;e--;)t.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),t.repaintControls=[]}return this}})}),i("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(t){function e(t){var e,n,i,r,o,s,a,l,u=Math.max;return e=t.documentElement,n=t.body,i=u(e.scrollWidth,n.scrollWidth),r=u(e.clientWidth,n.clientWidth),o=u(e.offsetWidth,n.offsetWidth),s=u(e.scrollHeight,n.scrollHeight),a=u(e.clientHeight,n.clientHeight),l=u(e.offsetHeight,n.offsetHeight),{width:o>i?r:i,height:l>s?a:s}}function n(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}return function(i,r){function o(){return p.getElementById(r.handle||i)}var s,a,l,u,c,d,h,p=r.document||document;r=r||{},l=function(i){var l,f,g=e(p);n(i),i.preventDefault(),a=i.button,l=o(),d=i.screenX,h=i.screenY,f=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,s=t("<div>").css({position:"absolute",top:0,left:0,width:g.width,height:g.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(p.body),t(p).on("mousemove touchmove",c).on("mouseup touchend",u),r.start(i)},c=function(t){return n(t),t.button!==a?u(t):(t.deltaX=t.screenX-d,t.deltaY=t.screenY-h,t.preventDefault(),void r.drag(t))},u=function(e){n(e),t(p).off("mousemove touchmove",c).off("mouseup touchend",u),s.remove(),r.stop&&r.stop(e)},this.destroy=function(){t(o()).off()},t(o()).on("mousedown touchstart",l)}}),i("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(t,e){return{init:function(){var t=this;t.on("repaint",t.renderScroll)},renderScroll:function(){function n(){function e(e,s,a,l,u,c){var d,h,p,f,g,m,v,y,b;if(h=r.getEl("scroll"+e)){if(y=s.toLowerCase(),b=a.toLowerCase(),t(r.getEl("absend")).css(y,r.layoutRect()[l]-1),!u)return void t(h).css("display","none");t(h).css("display","block"),d=r.getEl("body"),p=r.getEl("scroll"+e+"t"),f=d["client"+a]-2*o,f-=n&&i?h["client"+c]:0,g=d["scroll"+a],m=f/g,v={},v[y]=d["offset"+s]+o,v[b]=f,t(h).css(v),v={},v[y]=d["scroll"+s]*m,v[b]=f*m,t(p).css(v)}}var n,i,s;s=r.getEl("body"),n=s.scrollWidth>s.clientWidth,i=s.scrollHeight>s.clientHeight,e("h","Left","Width","contentW",n,"Height"),e("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,s,a,l){var u,c=r._id+"-scroll"+n,d=r.classPrefix;t(r.getEl()).append('<div id="'+c+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+c+'t" class="'+d+'scrollbar-thumb"></div></div>'),r.draghelper=new e(c+"t",{start:function(){u=r.getEl("body")["scroll"+i],t("#"+c).addClass(d+"active")},drag:function(t){var e,c,d,h,p=r.layoutRect();c=p.contentW>p.innerW,d=p.contentH>p.innerH,h=r.getEl("body")["client"+s]-2*o,h-=c&&d?r.getEl("scroll"+n)["client"+l]:0,e=h/r.getEl("body")["scroll"+s],r.getEl("body")["scroll"+i]=u+t["delta"+a]/e},stop:function(){t("#"+c).removeClass(d+"active")}})}r.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,i(),r.on("wheel",function(t){var e=r.getEl("body");e.scrollLeft+=10*(t.deltaX||0),e.scrollTop+=10*t.deltaY,n()}),t(r.getEl("body")).on("scroll",n)),n())}}}),i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(t,e){return t.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[e],renderHtml:function(){var t=this,e=t._layout,n=t.settings.html;return t.preRender(),e.preRender(t),"undefined"==typeof n?n='<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div>":("function"==typeof n&&(n=n.call(t)),t._hasBody=!1),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1" role="group">'+(t._preBodyHtml||"")+n+"</div>"}})}),i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(t){function e(e,n,i){var r,o,s,a,l,u,c,d,h,p;return h=t.getViewPort(),o=t.getPos(n),s=o.x,a=o.y,e.state.get("fixed")&&"static"==t.getRuntimeStyle(document.body,"position")&&(s-=h.x,a-=h.y),r=e.getEl(),p=t.getSize(r),l=p.width,u=p.height,p=t.getSize(n),c=p.width,d=p.height,i=(i||"").split(""),"b"===i[0]&&(a+=d),"r"===i[1]&&(s+=c),"c"===i[0]&&(a+=Math.round(d/2)),"c"===i[1]&&(s+=Math.round(c/2)),"b"===i[3]&&(a-=u),"r"===i[4]&&(s-=l),"c"===i[3]&&(a-=Math.round(u/2)),"c"===i[4]&&(s-=Math.round(l/2)),{x:s,y:a,w:l,h:u}}return{testMoveRel:function(n,i){for(var r=t.getViewPort(),o=0;o<i.length;o++){var s=e(this,n,i[o]);if(this.state.get("fixed")){if(s.x>0&&s.x+s.w<r.w&&s.y>0&&s.y+s.h<r.h)return i[o]}else if(s.x>r.x&&s.x+s.w<r.w+r.x&&s.y>r.y&&s.y+s.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(t,n){"string"!=typeof n&&(n=this.testMoveRel(t,n));var i=e(this,t,n);return this.moveTo(i.x,i.y)},moveBy:function(t,e){var n=this,i=n.layoutRect();return n.moveTo(i.x+t,i.y+e),n},moveTo:function(e,n){function i(t,e,n){return 0>t?0:t+n>e?(t=e-n,0>t?0:t):t}var r=this;if(r.settings.constrainToViewport){var o=t.getViewPort(window),s=r.layoutRect();e=i(e,o.w+o.x,s.w),n=i(n,o.h+o.y,s.h)}return r.state.get("rendered")?r.layoutRect({x:e,y:n}).repaint():(r.settings.x=e,r.settings.y=n),r.fire("move",{x:e,y:n}),r}}}),i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(t){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,n){if(1>=e||1>=n){var i=t.getWindowSize();e=1>=e?e*i.w:e,n=1>=n?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:n,w:e,h:n}).reflow()},resizeBy:function(t,e){var n=this,i=n.layoutRect();return n.resizeTo(i.w+t,i.h+e)}}}),i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(t,e,n,i,r,o){function s(t,e){for(;t;){if(t==e)return!0;t=t.parent()}}function a(t){for(var e=y.length;e--;){var n=y[e],i=n.getParentCtrl(t.target);if(n.settings.autohide){if(i&&(s(i,n)||n.parent()===i))continue;t=n.fire("autohide",{target:t.target}),t.isDefaultPrevented()||n.hide()}}}function l(){f||(f=function(t){2!=t.button&&a(t)},r(document).on("click touchstart",f))}function u(){g||(g=function(){var t;for(t=y.length;t--;)d(y[t])},r(window).on("scroll",g))}function c(){if(!m){var t=document.documentElement,e=t.clientWidth,n=t.clientHeight;m=function(){document.all&&e==t.clientWidth&&n==t.clientHeight||(e=t.clientWidth,n=t.clientHeight,w.hideAll())},r(window).on("resize",m)}}function d(t){function e(e,n){for(var i,r=0;r<y.length;r++)if(y[r]!=t)for(i=y[r].parent();i&&(i=i.parent());)i==t&&y[r].fixed(e).moveBy(0,n).repaint()}var n=i.getViewPort().y;t.settings.autofix&&(t.state.get("fixed")?t._autoFixY>n&&(t.fixed(!1).layoutRect({y:t._autoFixY}).repaint(),e(!1,t._autoFixY-n)):(t._autoFixY=t.layoutRect().y,t._autoFixY<n&&(t.fixed(!0).layoutRect({y:0}).repaint(),e(!0,n-t._autoFixY))))}function h(t,e){var n,i,o=w.zIndex||65535;if(t)b.push(e);else for(n=b.length;n--;)b[n]===e&&b.splice(n,1);if(b.length)for(n=0;n<b.length;n++)b[n].modal&&(o++,i=b[n]),b[n].getEl().style.zIndex=o,b[n].zIndex=o,o++;var s=r("#"+e.classPrefix+"modal-block",e.getContainerElm())[0];i?r(s).css("z-index",i.zIndex-1):s&&(s.parentNode.removeChild(s),v=!1),w.currentZIndex=o}function p(t){var e;for(e=y.length;e--;)y[e]===t&&y.splice(e,1);for(e=b.length;e--;)b[e]===t&&b.splice(e,1)}var f,g,m,v,y=[],b=[],w=t.extend({Mixins:[e,n],init:function(t){var e=this;e._super(t),e._eventsRoot=e,e.classes.add("floatpanel"),t.autohide&&(l(),c(),y.push(e)),t.autofix&&(u(),e.on("move",function(){d(this)})),e.on("postrender show",function(t){if(t.control==e){var n,i=e.classPrefix;e.modal&&!v&&(n=r("#"+i+"modal-block",e.getContainerElm()),n[0]||(n=r('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(e.getContainerElm())),o.setTimeout(function(){n.addClass(i+"in"),r(e.getEl()).addClass(i+"in")}),v=!0),h(!0,e)}}),e.on("show",function(){e.parents().each(function(t){return t.state.get("fixed")?(e.fixed(!0),!1):void 0})}),t.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start")),e.aria("label",t.ariaLabel),e.aria("labelledby",e._id),e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(t){var e=this;if(e.state.get("fixed")!=t){if(e.state.get("rendered")){var n=i.getViewPort();t?e.layoutRect().y-=n.y:e.layoutRect().y+=n.y}e.classes.toggle("fixed",t),e.state.set("fixed",t)}return e},show:function(){var t,e=this,n=e._super();for(t=y.length;t--&&y[t]!==e;);return-1===t&&y.push(e),n},hide:function(){return p(this),h(!1,this),this._super()},hideAll:function(){w.hideAll()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||(t.remove(),h(!1,t)),t},remove:function(){p(this),this._super()},postRender:function(){var t=this;return t.settings.bodyRole&&this.getEl("body").setAttribute("role",t.settings.bodyRole),t._super()}});return w.hideAll=function(){for(var t=y.length;t--;){var e=y[t];e&&e.settings.autohide&&(e.hide(),y.splice(t,1))}},w}),i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,n,i,r,o,s,a){function l(t){var e,n="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",r=i("meta[name=viewport]")[0];
s.overrideViewPort!==!1&&(r||(r=document.createElement("meta"),r.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(r)),e=r.getAttribute("content"),e&&"undefined"!=typeof h&&(h=e),r.setAttribute("content",t?n:h))}function u(t){for(var e=0;e<d.length;e++)if(d[e]._fullscreen)return;i([document.documentElement,document.body]).removeClass(t+"fullscreen")}function c(){function t(){var t,e,i=n.getWindowSize();for(t=0;t<d.length;t++)e=d[t].layoutRect(),d[t].moveTo(d[t].settings.x||Math.max(0,i.w/2-e.w/2),d[t].settings.y||Math.max(0,i.h/2-e.h/2))}if(!s.desktop){var e={w:window.innerWidth,h:window.innerHeight};a.setInterval(function(){var t=window.innerWidth,n=window.innerHeight;(e.w!=t||e.h!=n)&&(e={w:t,h:n},i(window).trigger("resize"))},100)}i(window).on("resize",t)}var d=[],h="",p=t.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(t){var i=this;i._super(t),i.isRtl()&&i.classes.add("rtl"),i.classes.add("window"),i.bodyClasses.add("window-body"),i.state.set("fixed",!0),t.buttons&&(i.statusbar=new e({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:i.isRtl()?"start":"end",defaults:{type:"button"},items:t.buttons}),i.statusbar.classes.add("foot"),i.statusbar.parent(i)),i.on("click",function(t){var e=i.classPrefix+"close";(n.hasClass(t.target,e)||n.hasClass(t.target.parentNode,e))&&i.close()}),i.on("cancel",function(){i.close()}),i.aria("describedby",i.describedBy||i._id+"-none"),i.aria("label",t.title),i._fullscreen=!1},recalc:function(){var t,e,i,r,o=this,s=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),t=o.layoutRect(),o.settings.title&&!o._fullscreen&&(e=t.headerW,e>t.w&&(i=t.x-Math.max(0,e/2),o.layoutRect({w:e,x:i}),r=!0)),s&&(s.layoutRect({w:o.layoutRect().innerW}).recalc(),e=s.layoutRect().minW+t.deltaW,e>t.w&&(i=t.x-Math.max(0,e-t.w),o.layoutRect({w:e,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var t,e=this,i=e._super(),r=0;if(e.settings.title&&!e._fullscreen){t=e.getEl("head");var o=n.getSize(t);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}e.statusbar&&(r+=e.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var s=n.getWindowSize();return i.x=e.settings.x||Math.max(0,s.w/2-i.w/2),i.y=e.settings.y||Math.max(0,s.h/2-i.h/2),i},renderHtml:function(){var t=this,e=t._layout,n=t._id,i=t.classPrefix,r=t.settings,o="",s="",a=r.html;return t.preRender(),e.preRender(t),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+t.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(a='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof a&&(a=e.renderHtml(t)),t.statusbar&&(s=t.statusbar.renderHtml()),'<div id="'+n+'" class="'+t.classes+'" hidefocus="1"><div class="'+t.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+t.bodyClasses+'">'+a+"</div>"+s+"</div></div>"},fullscreen:function(t){var e,r,s=this,l=document.documentElement,u=s.classPrefix;if(t!=s._fullscreen)if(i(window).on("resize",function(){var t;if(s._fullscreen)if(e)s._timer||(s._timer=a.setTimeout(function(){var t=n.getWindowSize();s.moveTo(0,0).resizeTo(t.w,t.h),s._timer=0},50));else{t=(new Date).getTime();var i=n.getWindowSize();s.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-t>50&&(e=!0)}}),r=s.layoutRect(),s._fullscreen=t,t){s._initial={x:r.x,y:r.y,w:r.w,h:r.h},s.borderBox=o.parseBox("0"),s.getEl("head").style.display="none",r.deltaH-=r.headerH+2,i([l,document.body]).addClass(u+"fullscreen"),s.classes.add("fullscreen");var c=n.getWindowSize();s.moveTo(0,0).resizeTo(c.w,c.h)}else s.borderBox=o.parseBox(s.settings.border),s.getEl("head").style.display="",r.deltaH+=r.headerH,i([l,document.body]).removeClass(u+"fullscreen"),s.classes.remove("fullscreen"),s.moveTo(s._initial.x,s._initial.y).resizeTo(s._initial.w,s._initial.h);return s.reflow()},postRender:function(){var t,e=this;setTimeout(function(){e.classes.add("in"),e.fire("open")},0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new r(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on("submit",function(t){t.isDefaultPrevented()||e.close()}),d.push(e),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var t,e=this;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),t=d.length;t--;)d[t]===e&&d.splice(t,1);l(d.length>0),u(e.classPrefix)},getContentWindow:function(){var t=this.getEl().getElementsByTagName("iframe")[0];return t?t.contentWindow:null}});return c(),p}),i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(t){var e=t.extend({init:function(t){t={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(t)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function i(t,e,n){return{type:"button",text:t,subtype:n?"primary":"",onClick:function(t){t.control.parents()[1].close(),o(e)}}}var r,o=n.callback||function(){};switch(n.buttons){case e.OK_CANCEL:r=[i("Ok",!0,!0),i("Cancel",!1)];break;case e.YES_NO:case e.YES_NO_CANCEL:r=[i("Yes",1,!0),i("No",0)],n.buttons==e.YES_NO_CANCEL&&r.push(i("Cancel",-1));break;default:r=[i("Ok",!0,!0)]}return new t({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:r,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,e.msgBox(t)},confirm:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,t.buttons=e.OK_CANCEL,e.msgBox(t)}}});return e}),i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(t,e){return function(n){function i(){return a.length?a[a.length-1]:void 0}function r(t){n.fire("OpenWindow",{win:t})}function o(t){n.fire("CloseWindow",{win:t})}var s=this,a=[];s.windows=a,n.on("remove",function(){for(var t=a.length;t--;)a[t].close()}),s.open=function(e,i){var s;return n.editorManager.setActive(n),e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body,data:e.data,callbacks:e.commands}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){s.find("form")[0].submit()}},{text:"Cancel",onclick:function(){s.close()}}]),s=new t(e),a.push(s),s.on("close",function(){for(var t=a.length;t--;)a[t]===s&&a.splice(t,1);a.length||n.focus(),o(s)}),e.data&&s.on("postRender",function(){this.find("*").each(function(t){var n=t.name();n in e.data&&t.value(e.data[n])})}),s.features=e||{},s.params=i||{},1===a.length&&n.nodeChanged(),s=s.renderTo().reflow(),r(s),s},s.alert=function(t,i,s){var a;a=e.alert(t,function(){i?i.call(s||this):n.focus()}),a.on("close",function(){o(a)}),r(a)},s.confirm=function(t,n,i){var s;s=e.confirm(t,function(t){n.call(i||this,t)}),s.on("close",function(){o(s)}),r(s)},s.close=function(){i()&&i().close()},s.getParams=function(){return i()?i().params:null},s.setParams=function(t){i()&&(i().params=t)},s.getWindows=function(){return a}}}),i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(t,e){return t.extend({Mixins:[e],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+t.encode(t.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(t,e){var n,i=t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.canFocus=!0,t.tooltip&&i.tooltips!==!1&&(e.on("mouseenter",function(n){var i=e.tooltip().moveTo(-65535);if(n.control==e){var r=i.text(t.tooltip).show().testMoveRel(e.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"==r),i.classes.toggle("tooltip-nw","bc-tl"==r),i.classes.toggle("tooltip-ne","bc-tr"==r),i.moveRel(e.getEl(),r)}else i.hide()}),e.on("mouseleave mousedown click",function(){e.tooltip().hide()})),e.aria("label",t.ariaLabel||t.tooltip)},tooltip:function(){return n||(n=new e({type:"tooltip"}),n.renderTo()),n},postRender:function(){var t=this,e=t.settings;t._super(),t.parent()||!e.width&&!e.height||(t.initLayoutRect(),t.repaint()),e.autofocus&&t.focus()},bindStates:function(){function t(t){n.aria("disabled",t),n.classes.toggle("disabled",t)}function e(t){n.aria("pressed",t),n.classes.toggle("active",t)}var n=this;return n.state.on("change:disabled",function(e){t(e.value)}),n.state.on("change:active",function(t){e(t.value)}),n.state.get("disabled")&&t(!0),n.state.get("active")&&e(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),i("tinymce/ui/Progress",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{value:0},init:function(t){var e=this;e._super(t),e.classes.add("progress"),e.settings.filter||(e.settings.filter=function(t){return Math.round(t)})},renderHtml:function(){var t=this,e=t._id,n=this.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var t=this;return t._super(),t.value(t.settings.value),t},bindStates:function(){function t(t){t=e.settings.filter(t),e.getEl().lastChild.innerHTML=t+"%",e.getEl().firstChild.firstChild.style.width=t+"%"}var e=this;return e.state.on("change:value",function(e){t(e.value)}),t(e.state.get("value")),e._super()}})}),i("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(t,e,n,i){return t.extend({Mixins:[e],Defaults:{classes:"widget notification"},init:function(t){var e=this;e._super(t),t.text&&e.text(t.text),t.icon&&(e.icon=t.icon),t.color&&(e.color=t.color),t.type&&e.classes.add("notification-"+t.type),t.timeout&&(t.timeout<0||t.timeout>0)&&!t.closeButton?e.closeButton=!1:(e.classes.add("has-close"),e.closeButton=!0),t.progressBar&&(e.progressBar=new n),e.on("click",function(t){-1!=t.target.className.indexOf(e.classPrefix+"close")&&e.close()})},renderHtml:function(){var t=this,e=t.classPrefix,n="",i="",r="",o="";return t.icon&&(n='<i class="'+e+"ico "+e+"i-"+t.icon+'"></i>'),t.color&&(o=' style="background-color: '+t.color+'"'),t.closeButton&&(i='<button type="button" class="'+e+'close" aria-hidden="true">×</button>'),t.progressBar&&(r=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+o+' role="presentation">'+n+'<div class="'+e+'notification-inner">'+t.state.get("text")+"</div>"+r+i+"</div>"},postRender:function(){var t=this;return i.setTimeout(function(){t.$el.addClass(t.classPrefix+"in")}),t._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().childNodes[1].innerHTML=e.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||t.remove(),t},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),i("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay"],function(t,e){return function(n){function i(){return l.length?l[l.length-1]:void 0}function r(){e.requestAnimationFrame(function(){o(),s()})}function o(){for(var t=0;t<l.length;t++)l[t].moveTo(0,0)}function s(){if(l.length>0){var t=l.slice(0,1)[0],e=n.inline?n.getElement():n.getContentAreaContainer();if(t.moveRel(e,"tc-tc"),l.length>1)for(var i=1;i<l.length;i++)l[i].moveRel(l[i-1].getEl(),"bc-tc")}}var a=this,l=[];a.notifications=l,n.on("remove",function(){for(var t=l.length;t--;)l[t].close()}),n.on("ResizeEditor",s),n.on("ResizeWindow",r),a.open=function(e){var i;return n.editorManager.setActive(n),i=new t(e),l.push(i),e.timeout>0&&(i.timer=setTimeout(function(){i.close()},e.timeout)),i.on("close",function(){var t=l.length;for(i.timer&&n.getWin().clearTimeout(i.timer);t--;)l[t]===i&&l.splice(t,1);s()}),i.renderTo(),s(),i},a.close=function(){i()&&i().close()},a.getNotifications=function(){return l},n.on("SkinLoaded",function(){var t=n.settings.service_message;t&&n.notificationManager.open({text:t,type:"warning",timeout:0,icon:""})})}}),i("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(t){function e(e,n,i){for(var r=[];n&&n!=e;n=n.parentNode)r.push(t.nodeIndex(n,i));return r}function n(t,e){var n,i,r;for(i=t,n=e.length-1;n>=0;n--){if(r=i.childNodes,e[n]>r.length-1)return null;i=r[e[n]]}return i}return{create:e,resolve:n}}),i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer"],function(t,e,n,i,r,o,s,a,l,u){return function(c){function d(t,e){try{c.getDoc().execCommand(t,!1,e)}catch(n){}}function h(){var t=c.getDoc().documentMode;return t?t:6}function p(t){return t.isDefaultPrevented()}function f(t){var e,n;t.dataTransfer&&(c.selection.isCollapsed()&&"IMG"==t.target.tagName&&te.select(t.target),e=c.selection.getContent(),e.length>0&&(n=ae+escape(c.id)+","+escape(e),t.dataTransfer.setData(le,n)))}function g(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(le),e&&e.indexOf(ae)>=0)?(e=e.substr(ae.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}function m(t){c.queryCommandSupported("mceInsertClipboardContent")?c.execCommand("mceInsertClipboardContent",!1,{content:t}):c.execCommand("mceInsertContent",!1,t)}function v(){function r(t){var e=x.schema.getBlockElements(),n=c.getBody();if("BR"!=t.nodeName)return!1;for(;t!=n&&!e[t.nodeName];t=t.parentNode)if(t.nextSibling)return!1;return!0}function o(t,e){var n;for(n=t.nextSibling;n&&n!=e;n=n.nextSibling)if((3!=n.nodeType||0!==X.trim(n.data).length)&&n!==e)return!1;return n===e}function s(t,e,i){var o,s,a;for(a=x.schema.getNonEmptyElements(),o=new n(i||t,t);s=o[e?"next":"prev"]();){if(a[s.nodeName]&&!r(s))return s;if(3==s.nodeType&&s.data.length>0)return s}}function u(t){var n,i,r,o,a;if(!t.collapsed&&(n=x.getParent(e.getNode(t.startContainer,t.startOffset),x.isBlock),i=x.getParent(e.getNode(t.endContainer,t.endOffset),x.isBlock),a=c.schema.getTextBlockElements(),n!=i&&a[n.nodeName]&&a[i.nodeName]&&"false"!==x.getContentEditable(n)&&"false"!==x.getContentEditable(i)))return t.deleteContents(),r=s(n,!1),o=s(i,!0),x.isEmpty(i)||X(n).append(i.childNodes),X(i).remove(),r?1==r.nodeType?"BR"==r.nodeName?(t.setStartBefore(r),t.setEndBefore(r)):(t.setStartAfter(r),t.setEndAfter(r)):(t.setStart(r,r.data.length),t.setEnd(r,r.data.length)):o&&(1==o.nodeType?(t.setStartBefore(o),t.setEndBefore(o)):(t.setStart(o,0),t.setEnd(o,0))),k.setRng(t),!0}function d(t,n){var i,r,a,l,u,d;if(!t.collapsed)return t;if(u=t.startContainer,d=t.startOffset,3==u.nodeType)if(n){if(d<u.data.length)return t}else if(d>0)return t;if(i=e.getNode(t.startContainer,t.startOffset),a=x.getParent(i,x.isBlock),r=s(c.getBody(),n,i),l=x.getParent(r,x.isBlock),!i||!r)return t;if(l&&a!=l)if(n){if(!o(a,l))return t;1==i.nodeType?"BR"==i.nodeName?t.setStartBefore(i):t.setStartAfter(i):t.setStart(i,i.data.length),1==r.nodeType?t.setEnd(r,0):t.setEndBefore(r)}else{if(!o(l,a))return t;1==r.nodeType?"BR"==r.nodeName?t.setStartBefore(r):t.setStartAfter(r):t.setStart(r,r.data.length),1==i.nodeType?t.setEnd(i,0):t.setEndBefore(i)}return t}function h(t){var e=k.getRng();return e=d(e,t),u(e)?!0:void 0}function v(t,e){function n(t,n){return g=X(n).parents().filter(function(t,e){return!!c.schema.getTextInlineElements()[e.nodeName]}),l=t.cloneNode(!1),g=a.map(g,function(t){return t=t.cloneNode(!1),l.hasChildNodes()?(t.appendChild(l.firstChild),l.appendChild(t)):l.appendChild(t),l.appendChild(t),t}),g.length?(f=x.create("br"),g[0].appendChild(f),x.replace(l,t),e.setStartBefore(f),e.setEndBefore(f),c.selection.setRng(e),f):null}function r(t){return t&&c.schema.getTextBlockElements()[t.tagName]}var o,s,l,u,d,h,p,f,g;if(e.collapsed&&(h=e.startContainer,p=e.startOffset,s=x.getParent(h,x.isBlock),r(s)))if(1==h.nodeType){if(h=h.childNodes[p],h&&"BR"!=h.tagName)return;if(d=t?s.nextSibling:s.previousSibling,x.isEmpty(s)&&r(d)&&x.isEmpty(d)&&n(s,h))return x.remove(d),!0}else if(3==h.nodeType){if(o=i.create(s,h),u=s.cloneNode(!0),h=i.resolve(u,o),t){if(p>=h.data.length)return;h.deleteData(p,1)}else{if(0>=p)return;h.deleteData(p-1,1)}if(x.isEmpty(u))return n(s,h)}}function y(t){var e,n,i;h(t)||(a.each(c.getBody().getElementsByTagName("*"),function(t){"SPAN"==t.tagName&&t.setAttribute("mce-data-marked",1),!t.hasAttribute("data-mce-style")&&t.hasAttribute("style")&&c.dom.setAttrib(t,"style",c.dom.getAttrib(t,"style"))}),e=new C(function(){}),e.observe(c.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),c.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),n=c.selection.getRng(),i=n.startContainer.parentNode,a.each(e.takeRecords(),function(t){if(x.isChildOf(t.target,c.getBody())){if("style"==t.attributeName){var e=t.target.getAttribute("data-mce-style");e?t.target.setAttribute("style",e):t.target.removeAttribute("style")}a.each(t.addedNodes,function(t){if("SPAN"==t.nodeName&&!t.getAttribute("mce-data-marked")){var e,r;t==i&&(e=n.startOffset,r=t.firstChild),x.remove(t,!0),r&&(n.setStart(r,e),n.setEnd(r,e),c.selection.setRng(n))}})}}),e.disconnect(),a.each(c.dom.select("span[mce-data-marked]"),function(t){t.removeAttribute("mce-data-marked")}))}var b,w,_=c.getDoc(),x=c.dom,k=c.selection,C=window.MutationObserver;C||(b=!0,C=function(){function t(t){var e=t.relatedNode||t.target;i.push({target:e,addedNodes:[e]})}function e(t){var e=t.relatedNode||t.target;i.push({target:e,attributeName:t.attrName})}var n,i=[];this.observe=function(i){n=i,n.addEventListener("DOMSubtreeModified",t,!1),n.addEventListener("DOMNodeInsertedIntoDocument",t,!1),n.addEventListener("DOMNodeInserted",t,!1),n.addEventListener("DOMAttrModified",e,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",t,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),n.removeEventListener("DOMNodeInserted",t,!1),n.removeEventListener("DOMAttrModified",e,!1)},this.takeRecords=function(){return i}}),c.on("keydown",function(t){var e=t.keyCode==J,n=t.ctrlKey||t.metaKey;if(!p(t)&&(e||t.keyCode==Z)){var i=c.selection.getRng(),r=i.startContainer,o=i.startOffset;if(e&&t.shiftKey)return;if(v(e,i))return void t.preventDefault();if(!n&&i.collapsed&&3==r.nodeType&&(e?o<r.data.length:o>0))return;t.preventDefault(),n&&c.selection.getSel().modify("extend",e?"forward":"backward",t.metaKey?"lineboundary":"word"),y(e)}}),c.on("keypress",function(e){if(!p(e)&&!k.isCollapsed()&&e.charCode>31&&!t.metaKeyPressed(e)){var n,i,r,o,s,a;n=c.selection.getRng(),a=String.fromCharCode(e.charCode),e.preventDefault(),i=X(n.startContainer).parents().filter(function(t,e){return!!c.schema.getTextInlineElements()[e.nodeName]}),y(!0),i=i.filter(function(t,e){return!X.contains(c.getBody(),e)}),i.length?(r=x.createFragment(),i.each(function(t,e){e=e.cloneNode(!1),r.hasChildNodes()?(e.appendChild(r.firstChild),r.appendChild(e)):(s=e,r.appendChild(e)),r.appendChild(e)}),s.appendChild(c.getDoc().createTextNode(a)),o=x.getParent(n.startContainer,x.isBlock),x.isEmpty(o)?X(o).empty().append(r):n.insertNode(r),n.setStart(s.firstChild,1),n.setEnd(s.firstChild,1),c.selection.setRng(n)):c.selection.setContent(a)}}),c.addCommand("Delete",function(){y()}),c.addCommand("ForwardDelete",function(){y(!0)}),b||(c.on("dragstart",function(t){w=k.getRng(),f(t)}),c.on("drop",function(t){if(!p(t)){var n=g(t);n&&(t.preventDefault(),l.setEditorTimeout(c,function(){var i=e.getCaretRangeFromPoint(t.x,t.y,_);w&&(k.setRng(w),w=null),y(),k.setRng(i),m(n.html)}))}}),c.on("cut",function(t){p(t)||!t.clipboardData||c.selection.isCollapsed()||(t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/html",c.selection.getContent()),t.clipboardData.setData("text/plain",c.selection.getContent({format:"text"})),l.setEditorTimeout(c,function(){y(!0)}))}))}function y(){function t(t){var e=Q.create("body"),n=t.cloneContents();return e.appendChild(n),te.serializer.serialize(e,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var i=n.duplicate();return i.moveToElementText(c.getBody()),e.compareRanges(n,i)}var r=t(n),o=Q.createRng();o.selectNode(c.getBody());var s=t(o);return r===s}c.on("keydown",function(t){var e,i,r=t.keyCode;if(!p(t)&&(r==J||r==Z)){if(e=c.selection.isCollapsed(),i=c.getBody(),e&&!Q.isEmpty(i))return;if(!e&&!n(c.selection.getRng()))return;t.preventDefault(),c.setContent(""),i.firstChild&&Q.isBlock(i.firstChild)?c.selection.setCursorLocation(i.firstChild,0):c.selection.setCursorLocation(i,0),c.nodeChanged()}})}function b(){c.shortcuts.add("meta+a",null,"SelectAll")}function w(){c.settings.content_editable||Q.bind(c.getDoc(),"mousedown mouseup",function(t){var e;if(t.target==c.getDoc().documentElement)if(e=te.getRng(),c.getBody().focus(),"mousedown"==t.type){if(u.isCaretContainer(e.startContainer))return;te.placeCaretAt(t.clientX,t.clientY)}else te.setRng(e)})}function _(){c.on("keydown",function(t){if(!p(t)&&t.keyCode===Z){if(!c.getBody().getElementsByTagName("hr").length)return;if(te.isCollapsed()&&0===te.getRng(!0).startOffset){var e=te.getNode(),n=e.previousSibling;if("HR"==e.nodeName)return Q.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(Q.remove(n),t.preventDefault())}}})}function x(){window.Range.prototype.getClientRects||c.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var e=c.getBody();e.blur(),l.setEditorTimeout(c,function(){e.focus()})}})}function k(){c.on("click",function(t){var e=t.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==Q.getContentEditableParent(e)&&(t.preventDefault(),te.getSel().setBaseAndExtent(e,0,e,1),c.nodeChanged()),"A"==e.nodeName&&Q.hasClass(e,"mce-item-anchor")&&(t.preventDefault(),te.select(e))})}function C(){function t(){var t=Q.getAttribs(te.getStart().cloneNode(!1));return function(){var e=te.getStart();e!==c.getBody()&&(Q.setAttrib(e,"style",null),K(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}}function e(){return!te.isCollapsed()&&Q.getParent(te.getStart(),Q.isBlock)!=Q.getParent(te.getEnd(),Q.isBlock)}c.on("keypress",function(n){var i;return p(n)||8!=n.keyCode&&46!=n.keyCode||!e()?void 0:(i=t(),c.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1)}),Q.bind(c.getDoc(),"cut",function(n){var i;!p(n)&&e()&&(i=t(),l.setEditorTimeout(c,function(){i()}))})}function $(){document.body.setAttribute("role","application")}function M(){c.on("keydown",function(t){if(!p(t)&&t.keyCode===Z&&te.isCollapsed()&&0===te.getRng(!0).startOffset){var e=te.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})}function S(){h()>7||(d("RespectVisibilityInDesign",!0),c.contentStyles.push(".mceHideBrInPre pre br {display: none}"),Q.addClass(c.getBody(),"mceHideBrInPre"),ne.addNodeFilter("pre",function(t){for(var e,n,i,o,s=t.length;s--;)for(e=t[s].getAll("br"),n=e.length;n--;)i=e[n],o=i.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new r("#text",3),i,!0).value="\n"}),ie.addNodeFilter("pre",function(t){for(var e,n,i,r,o=t.length;o--;)for(e=t[o].getAll("br"),n=e.length;n--;)i=e[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function T(){Q.bind(c.getBody(),"mouseup",function(){var t,e=te.getNode();"IMG"==e.nodeName&&((t=Q.getStyle(e,"width"))&&(Q.setAttrib(e,"width",t.replace(/[^0-9%]+/g,"")),Q.setStyle(e,"width","")),(t=Q.getStyle(e,"height"))&&(Q.setAttrib(e,"height",t.replace(/[^0-9%]+/g,"")),Q.setStyle(e,"height","")))})}function D(){c.on("keydown",function(e){var n,i,r,o,s;if(!p(e)&&e.keyCode==t.BACKSPACE&&(n=te.getRng(),i=n.startContainer,r=n.startOffset,o=Q.getRoot(),s=i,n.collapsed&&0===r)){for(;s&&s.parentNode&&s.parentNode.firstChild==s&&s.parentNode!=o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(c.formatter.toggle("blockquote",null,s),n=Q.createRng(),n.setStart(i,0),n.setEnd(i,0),te.setRng(n))}})}function E(){function t(){q(),d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),ee.object_resizing||d("enableObjectResizing",!1)}ee.readonly||c.on("BeforeExecCommand MouseDown",t)}function O(){function t(){K(Q.select("a"),function(t){var e=t.parentNode,n=Q.getRoot();if(e.lastChild===t){for(;e&&!Q.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}Q.add(e,"br",{"data-mce-bogus":1})}})}c.on("SetContent ExecCommand",function(e){("setcontent"==e.type||"mceInsertLink"===e.command)&&t()})}function A(){ee.forced_root_block&&c.on("init",function(){d("DefaultParagraphSeparator",ee.forced_root_block)})}function P(){c.on("keydown",function(t){var e;p(t)||t.keyCode!=Z||(e=c.getDoc().selection.createRange(),e&&e.item&&(t.preventDefault(),c.undoManager.beforeChange(),Q.remove(e.item(0)),c.undoManager.add()))})}function L(){var t;h()>=10&&(t="",K("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,n){t+=(n>0?",":"")+e+":empty"}),c.contentStyles.push(t+"{padding-right: 1px !important}"))}function I(){h()<9&&(ne.addNodeFilter("noscript",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.firstChild,n&&e.attr("data-mce-innertext",n.value)}),ie.addNodeFilter("noscript",function(t){for(var e,n,i,s=t.length;s--;)e=t[s],n=t[s].firstChild,n?n.value=o.decode(n.value):(i=e.attributes.map["data-mce-innertext"],i&&(e.attr("data-mce-innertext",null),n=new r("#text",3),n.value=i,n.raw=!0,e.append(n)))}))}function N(){function t(t,e){var n=a.createTextRange();try{n.moveToPoint(t,e)}catch(i){n=null}return n}function e(e){var i;e.button?(i=t(e.x,e.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var t=s.selection.createRange();r&&!t.item&&0===t.compareEndPoints("StartToEnd",t)&&r.select(),Q.unbind(s,"mouseup",n),Q.unbind(s,"mousemove",e),r=i=0}var i,r,o,s=Q.doc,a=s.body;s.documentElement.unselectable=!0,Q.bind(s,"mousedown contextmenu",function(a){if("HTML"===a.target.nodeName){if(i&&n(),o=s.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=t(a.x,a.y),r&&(Q.bind(s,"mouseup",n),Q.bind(s,"mousemove",e),Q.getRoot().focus(),r.select())}})}function R(){c.on("keyup focusin mouseup",function(e){65==e.keyCode&&t.metaKeyPressed(e)||te.normalize()},!0)}function B(){c.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function H(){c.inline||c.on("keydown",function(){document.activeElement==document.body&&c.getWin().focus()})}function F(){c.inline||(c.contentStyles.push("body {min-height: 150px}"),c.on("click",function(t){var e;if("HTML"==t.target.nodeName){if(s.ie>11)return void c.getBody().focus();e=c.selection.getRng(),c.getBody().focus(),c.selection.setRng(e),c.selection.normalize(),c.nodeChanged()}}))}function z(){s.mac&&c.on("keydown",function(e){!t.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),c.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))})}function W(){d("AutoUrlDetect",!1)}function j(){c.on("click",function(t){var e=t.target;do if("A"===e.tagName)return void t.preventDefault();while(e=e.parentNode)}),c.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function G(){c.on("init",function(){c.dom.bind(c.getBody(),"submit",function(t){t.preventDefault()})})}function V(){ne.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"==t[e].attr("class")&&t[e].remove()})}function U(){c.on("dragstart",function(t){f(t)}),c.on("drop",function(t){if(!p(t)){var n=g(t);if(n&&n.id!=c.id){t.preventDefault();var i=e.getCaretRangeFromPoint(t.x,t.y,c.getDoc());te.setRng(i),m(n.html)}}})}function q(){var t,e;Y()&&(t=c.getBody(),e=t.parentNode,e.removeChild(t),e.appendChild(t),t.focus())}function Y(){var t;return re?(t=c.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount):0}var K=a.each,X=c.$,Z=t.BACKSPACE,J=t.DELETE,Q=c.dom,te=c.selection,ee=c.settings,ne=c.parser,ie=c.serializer,re=s.gecko,oe=s.ie,se=s.webkit,ae="data:text/mce-internal,",le=oe?"Text":"URL";return D(),y(),s.windowsPhone||R(),se&&(v(),w(),k(),A(),G(),M(),V(),s.iOS?(H(),F(),j()):b()),oe&&s.ie<11&&(_(),$(),S(),T(),P(),L(),I(),N()),s.ie>=11&&(F(),M()),s.ie&&(b(),W(),U()),re&&(_(),x(),C(),E(),O(),B(),z(),M()),{refreshContentEditable:q,isHidden:Y}}}),i("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e,n){function i(t,e){return"selectionchange"==e?t.getDoc():!t.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=s.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()}function r(t,e){function n(t){return!t.hidden&&!t.readonly}var r,a=i(t,e);if(t.delegates||(t.delegates={}),!t.delegates[e])if(t.settings.event_root){if(o||(o={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&o){for(e in o)t.dom.unbind(i(t,e));o=null}})),o[e])return;r=function(i){for(var r=i.target,o=t.editorManager.editors,a=o.length;a--;){var l=o[a].getBody();(l===r||s.isChildOf(r,l))&&n(o[a])&&o[a].fire(e,i)}},o[e]=r,s.bind(a,e,r)}else r=function(i){n(t)&&t.fire(e,i)},s.bind(a,e,r),t.delegates[e]=r}var o,s=e.DOM,a={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){r(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!=t&&"blur"!=t&&(e?n.initialized?r(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(i(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this;if(e.delegates){for(t in e.delegates)e.dom.unbind(i(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return a=n.extend({},t,a)}),i("tinymce/Mode",[],function(){function t(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}}function e(t){var e,n;return e=t.getBody(),n=function(e){t.dom.getParents(e.target,"a").length>0&&e.preventDefault()},t.dom.bind(e,"click",n),{unbind:function(){t.dom.unbind(e,"click",n)}}}function n(n,i){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),i?(n._clickBlocker=e(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,t(n,"StyleWithCSS",!1),t(n,"enableInlineTableEditing",!1),t(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())}function i(t,e){var i=t.readonly?"readonly":"design";e!=i&&(t.initialized?n(t,"readonly"==e):t.on("init",function(){n(t,"readonly"==e)}),t.fire("SwitchMode",{mode:e}))}return{setMode:i}}),i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(t,e){var n=t.each,i=t.explode,r={f9:120,f10:121,f11:122},o=t.makeMap("alt,ctrl,shift,meta,access");
return function(s){function a(t){var s,a,l={};n(i(t,"+"),function(t){t in o?l[t]=!0:/^[0-9]{2,}$/.test(t)?l.keyCode=parseInt(t,10):(l.charCode=t.charCodeAt(0),l.keyCode=r[t]||t.toUpperCase().charCodeAt(0))}),s=[l.keyCode];for(a in o)l[a]?s.push(a):l[a]=!1;return l.id=s.join(","),l.access&&(l.alt=!0,e.mac?l.ctrl=!0:l.shift=!0),l.meta&&(e.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(e,n,r,o){var l;return l=t.map(i(e,">"),a),l[l.length-1]=t.extend(l[l.length-1],{func:r,scope:o||s}),t.extend(l[0],{desc:s.translate(n),subpatterns:l.slice(1)})}function u(t){return t.altKey||t.ctrlKey||t.metaKey}function c(t){return t.keyCode>=112&&t.keyCode<=123}function d(t,e){return e?e.ctrl!=t.ctrlKey||e.meta!=t.metaKey?!1:e.alt!=t.altKey||e.shift!=t.shiftKey?!1:t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode?(t.preventDefault(),!0):!1:!1}function h(t){return t.func?t.func.call(t.scope):null}var p=this,f={},g=[];s.on("keyup keypress keydown",function(t){!u(t)&&!c(t)||t.isDefaultPrevented()||(n(f,function(e){return d(t,e)?(g=e.subpatterns.slice(0),"keydown"==t.type&&h(e),!0):void 0}),d(t,g[0])&&(1===g.length&&"keydown"==t.type&&h(g[0]),g.shift()))}),p.add=function(e,r,o,a){var u;return u=o,"string"==typeof o?o=function(){s.execCommand(u,!1,null)}:t.isArray(u)&&(o=function(){s.execCommand(u[0],u[1],u[2])}),n(i(t.trim(e.toLowerCase())),function(t){var e=l(t,r,o,a);f[e.id]=e}),!0},p.remove=function(t){var e=l(t);return f[e.id]?(delete f[e.id],!0):!1}}}),i("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(t,e,n){return function(i){function r(t){var e,n;return n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},e=n[t.blob().type.toLowerCase()]||"dat",t.id()+"."+e}function o(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e}function s(t){return{id:t.id,blob:t.blob,base64:t.base64,filename:n.constant(r(t))}}function a(t,e,n,s){var a,l,u;a=new XMLHttpRequest,a.open("POST",i.url),a.withCredentials=i.credentials,u=s(),a.upload.onprogress=function(t){var e=Math.round(t.loaded/t.total*100);u.progressBar.value(e)},a.onerror=function(){u.close(),n("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var t;return u.close(),200!=a.status?void n("HTTP Error: "+a.status):(t=JSON.parse(a.responseText),t&&"string"==typeof t.location?void e(o(i.basePath,t.location)):void n("Invalid JSON: "+a.responseText))},l=new FormData,l.append("file",t.blob(),r(t)),a.send(l)}function l(){return new t(function(t){t([])})}function u(t){return t.then(function(t){return t})["catch"](function(t){return t})}function c(t,e,n){var i=t(n),r=u(i);return delete f[e],f[e]=r,r}function d(t,n){return e.map(t,function(t){var e=t.id();return f[e]?f[e]:c(n,e,t)})}function h(e,n){function r(e){return new t(function(t){var r=i.handler;try{r(s(e),function(n){t({url:n,blobInfo:e,status:!0})},function(n){t({url:"",blobInfo:e,status:!1,error:n})},n)}catch(o){t({url:"",blobInfo:e,status:!1,error:o.message})}})}var o=d(e,r);return t.all(o)}function p(t,e){return i.url||i.handler!==a?h(t,e):l()}var f={};return i=e.extend({credentials:!1,handler:a},i),{upload:p}}}),i("tinymce/file/Conversions",["tinymce/util/Promise"],function(t){function e(e){return new t(function(t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){200==this.status&&t(this.response)},n.send()})}function n(t){var e,n;return t=decodeURIComponent(t).split(","),n=/data:([^;]+)/.exec(t[0]),n&&(e=n[1]),{type:e,data:t[1]}}function i(e){return new t(function(t){var i,r,o;e=n(e);try{i=atob(e.data)}catch(s){return void t(new Blob([]))}for(r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);t(new Blob([r],{type:e.type}))})}function r(t){return 0===t.indexOf("blob:")?e(t):0===t.indexOf("data:")?i(t):null}function o(e){return new t(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})}return{uriToBlob:r,blobToDataUri:o,parseDataUri:n}}),i("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(t,e,n,i,r){var o=0;return function(s){function a(a,u){function c(t,e){var n,r;return 0===t.src.indexOf("blob:")?(r=s.getByUri(t.src),void(r&&e({image:t,blobInfo:r}))):(n=i.parseDataUri(t.src).data,r=s.findFirst(function(t){return t.base64()===n}),void(r?e({image:t,blobInfo:r}):i.uriToBlob(t.src).then(function(i){var r="blobid"+o++,a=s.create(r,i,n);s.add(a),e({image:t,blobInfo:a})})))}var d,h;return u||(u=n.constant(!0)),d=e.filter(a.getElementsByTagName("img"),function(t){var e=t.src;return r.fileApi?t.hasAttribute("data-mce-bogus")?!1:t.hasAttribute("data-mce-placeholder")?!1:e&&e!=r.transparentSrc?0===e.indexOf("blob:")?!0:0===e.indexOf("data:")?u(t):!1:!1:!1}),h=e.map(d,function(e){var n;return l[e.src]?new t(function(t){l[e.src].then(function(n){t({image:e,blobInfo:n.blobInfo})})}):(n=new t(function(t){c(e,t)}).then(function(t){return delete l[t.image.src],t})["catch"](function(t){return delete l[e.src],t}),l[e.src]=n,n)}),t.all(h)}var l={};return{findAll:a}}}),i("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(t,e){return function(){function n(t,e,n){return{id:u(t),blob:u(e),base64:u(n),blobUri:u(URL.createObjectURL(e))}}function i(t){r(t.id())||l.push(t)}function r(t){return o(function(e){return e.id()===t})}function o(e){return t.filter(l,e)[0]}function s(t){return o(function(e){return e.blobUri()==t})}function a(){t.each(l,function(t){URL.revokeObjectURL(t.blobUri())}),l=[]}var l=[],u=e.constant;return{create:n,add:i,get:r,getByUri:s,findFirst:o,destroy:a}}}),i("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache"],function(t,e,n,i){return function(r){function o(t){return function(e){return r.selection?t(e):[]}}function s(t,e,n){var i=0;do i=t.indexOf(e,i),-1!==i&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1);while(-1!==i);return t}function a(t,e,n){return t=s(t,'src="'+e+'"','src="'+n+'"'),t=s(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')}function l(e,n){t.each(r.undoManager.data,function(t){t.content=a(t.content,e,n)})}function u(){return r.notificationManager.open({text:r.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function c(n){return g||(g=new e({url:y.images_upload_url,basePath:y.images_upload_base_path,credentials:y.images_upload_credentials,handler:y.images_upload_handler})),h().then(o(function(e){var i;return i=t.map(e,function(t){return t.blobInfo}),g.upload(i,u).then(o(function(i){return i=t.map(i,function(t,n){var i=e[n].image;return t.status&&(l(i.src,t.url),r.$(i).attr({src:t.url,"data-mce-src":r.convertURL(t.url,"src")})),{element:i,status:t.status}}),n&&n(i),i}))}))}function d(t){return y.automatic_uploads!==!1?c(t):void 0}function h(){return m||(m=new n(v)),m.findAll(r.getBody(),y.images_dataimg_filter).then(o(function(e){return t.each(e,function(t){l(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri()}),e}))}function p(){v.destroy(),m=g=null}function f(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var i=v.getByUri(n);return i||(i=t.reduce(r.editorManager.editors,function(t,e){return t||e.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':e})}var g,m,v=new i,y=r.settings;return r.on("setContent",function(){r.settings.automatic_uploads!==!1?d():h()}),r.on("RawSaveContent",function(t){t.content=f(t.content)}),r.on("getContent",function(t){t.source_view||"raw"==t.format||(t.content=f(t.content))}),{blobCache:v,uploadImages:c,uploadImagesAuto:d,scanForImages:h,destroy:p}}}),i("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(t,e,n,i,r,o,s){var a=n.isContentEditableFalse;return function(e,n){function i(t,n){var i,r,s,a,l,u=o.collapse(t.getBoundingClientRect(),n);return"BODY"==e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,s=e.scrollTop||i.scrollTop):(l=e.getBoundingClientRect(),r=e.scrollLeft-l.left,s=e.scrollTop-l.top),u.left+=r,u.right+=r,u.top+=s,u.bottom+=s,u.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),u.left+=a,u.right+=a),u}function l(){var n,i,o,s,a;for(n=r("*[contentEditable=false]",e),s=0;s<n.length;s++)i=n[s],o=i.previousSibling,t.endsWithCaretContainer(o)&&(a=o.data,1==a.length?o.parentNode.removeChild(o):o.deleteData(a.length-1,1)),o=i.nextSibling,t.startsWithCaretContainer(o)&&(a=o.data,1==a.length?o.parentNode.removeChild(o):o.deleteData(0,1));return null}function u(o,s){var l,u,h;return c(),n(s)?(m=t.insertBlock("p",s,o),l=i(s,o),r(m).css("top",l.top),g=r('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(e),o&&g.addClass("mce-visual-caret-before"),d(),u=s.ownerDocument.createRange(),h=m.firstChild,u.setStart(h,0),u.setEnd(h,1),u):(m=t.insertInline(s,o),u=s.ownerDocument.createRange(),a(m.nextSibling)?(u.setStart(m,0),u.setEnd(m,0)):(u.setStart(m,1),u.setEnd(m,1)),u)}function c(){l(),m&&(t.remove(m),m=null),g&&(g.remove(),g=null),clearInterval(f)}function d(){f=s.setInterval(function(){r("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden")},500)}function h(){s.clearInterval(f)}function p(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var f,g,m;return{show:u,hide:c,getCss:p,destroy:h}}}),i("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(t,e,n){function i(r){function o(e){return t.map(e,function(t){return t=n.clone(t),t.node=r,t})}if(t.isArray(r))return t.reduce(r,function(t,e){return t.concat(i(e))},[]);if(e.isElement(r))return o(r.getClientRects());if(e.isText(r)){var s=r.ownerDocument.createRange();return s.setStart(r,0),s.setEnd(r,r.data.length),o(s.getClientRects())}}return{getClientRects:i}}),i("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(t,e,n,i,r,o,s,a){function l(t,e,n,o){for(;o=r.findNode(o,t,i.isEditableCaretCandidate,e);)if(n(o))return}function u(t,i,r,o,s,a){function u(o){var a,l,u;for(u=n.getClientRects(o),-1==t&&(u=u.reverse()),a=0;a<u.length;a++)if(l=u[a],!r(l,d)){if(p.length>0&&i(l,e.last(p))&&h++,l.line=h,s(l))return!0;p.push(l)}}var c,d,h=0,p=[];return(d=e.last(a.getClientRects()))?(c=a.getNode(),u(c),l(t,o,u,c),p):p}function c(t,e){return e.line>t}function d(t,e){return e.line===t}function h(t,n,i,r){function l(n){return e.last(1==t?n.getClientRects():n.getClientRects())}var u,c,d,h,p,f,g=new o(n),m=[],v=0;1==t?(u=g.next,c=a.isBelow,d=a.isAbove,h=s.after(r)):(u=g.prev,c=a.isAbove,d=a.isBelow,h=s.before(r)),f=l(h);do if(h.isVisible()&&(p=l(h),!d(p,f))){if(m.length>0&&c(p,e.last(m))&&v++,p=a.clone(p),p.position=h,p.line=v,i(p))return m;m.push(p)}while(h=u(h));return m}var p=t.curry,f=p(u,-1,a.isAbove,a.isBelow),g=p(u,1,a.isBelow,a.isAbove);return{upUntil:f,downUntil:g,positionsUntil:h,isAboveLine:p(c),isLine:p(d)}}),i("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(t,e,n,i,r,o,s){function a(t,e){return Math.abs(t.left-e)}function l(t,e){return Math.abs(t.right-e)}function u(t,n){function i(t,e){return t>=e.left&&t<=e.right}return e.reduce(t,function(t,e){var r,o;return r=Math.min(a(t,n),l(t,n)),o=Math.min(a(e,n),l(e,n)),i(n,e)?e:i(n,t)?t:o==r&&g(e.node)?e:r>o?e:t})}function c(t,e,n,i){for(;i=m(i,t,s.isEditableCaretCandidate,e);)if(n(i))return}function d(t,n){function o(t,r){var o;return o=e.filter(i.getClientRects(r),function(e){return!t(e,n)}),s=s.concat(o),0===o.length}var s=[];return s.push(n),c(-1,t,v(o,r.isAbove),n.node),c(1,t,v(o,r.isBelow),n.node),s}function h(t){return e.filter(e.toArray(t.getElementsByTagName("*")),g)}function p(t,e){return{node:t.node,before:a(t,e)<l(t,e)}}function f(t,n,r){var o,s;return o=i.getClientRects(h(t)),o=e.filter(o,function(t){return r>=t.top&&r<=t.bottom}),s=u(o,n),s&&(s=u(d(t,s),n),s&&g(s.node))?p(s,n):null}var g=n.isContentEditableFalse,m=o.findNode,v=t.curry;return{findClosestClientRect:u,findLineNodeRects:d,closestCaret:f}}),i("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun"],function(t,e,n){function i(t){function i(t){return r(t)}function s(e){h(t.getBody()).css("cursor",e)}function a(e){return e==m.element||t.dom.isChildOf(e,m.element)?!1:r(e)?!1:!0}function l(e){var n,i,r,o,a,l,u,c,d=0,p=0;0===e.button&&(n=e.screenX-m.screenX,i=e.screenY-m.screenY,a=Math.max(Math.abs(n),Math.abs(i)),!m.dragging&&a>10&&(m.dragging=!0,s("default"),m.clone=m.element.cloneNode(!0),r=g.getPos(m.element),m.relX=m.clientX-r.x,m.relY=m.clientY-r.y,m.width=m.element.offsetWidth,m.height=m.element.offsetHeight,h(m.clone).css({width:m.width,height:m.height}).removeAttr("data-mce-selected"),m.ghost=h("<div>").css({position:"absolute",opacity:.5,overflow:"hidden",width:m.width,height:m.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(m.clone).appendTo(t.getBody())[0],o=t.dom.getViewPort(t.getWin()),m.maxX=o.w,m.maxY=o.h),m.dragging&&(t.selection.placeCaretAt(e.clientX,e.clientY),l=m.clientX+n-m.relX,u=m.clientY+i+5,l+m.width>m.maxX&&(d=l+m.width-m.maxX),u+m.height>m.maxY&&(p=u+m.height-m.maxY),c="BODY"!=t.getBody().nodeName?t.getBody().getBoundingClientRect():{left:0,top:0},h(m.ghost).css({left:l-c.left,top:u-c.top,width:m.width-d,height:m.height-p})))}function u(){var e;if(m.dragging&&(t.selection.setRng(t.selection.getSel().getRangeAt(0)),a(t.selection.getNode()))){var n=m.element;if(e=t.fire("drop",{targetClone:n}),e.isDefaultPrevented())return;n=e.targetClone,t.undoManager.transact(function(){t.insertContent(g.getOuterHTML(n)),h(m.element).remove()})}d()}function c(s){var a,c;if(d(),0===s.button&&(a=e.find(t.dom.getParents(s.target),n.or(r,o)),i(a))){if(c=t.fire("dragstart",{target:a}),c.isDefaultPrevented())return;t.on("mousemove",l),t.on("mouseup",u),p!=f&&(g.bind(p,"mousemove",l),g.bind(p,"mouseup",u)),m={screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY,element:a}}}function d(){h(m.ghost).remove(),s(null),t.off("mousemove",l),t.off("mouseup",d),p!=f&&(g.unbind(p,"mousemove",l),g.unbind(p,"mouseup",d)),m={}}var h=t.$,p=document,f=t.getDoc(),g=t.dom,m={};t.on("mousedown",c),t.on("drop",function(e){var n=t.getDoc().elementFromPoint(e.clientX,e.clientY);(r(n)||r(t.dom.getContentEditableParent(n)))&&e.preventDefault()})}var r=t.isContentEditableFalse,o=t.isContentEditableTrue;return{init:i}}),i("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides","tinymce/text/Zwsp"],function(t,e,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m){function v(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function y(u){function y(t){return u.dom.isBlock(t)}function M(t){t&&u.selection.setRng(t)}function S(){return u.selection.getRng()}function T(t,e){u.selection.scrollIntoView(t,e)}function D(t,e,n){var i;return i=u.fire("ShowCaret",{target:e,direction:t,before:n}),i.isDefaultPrevented()?null:(T(e,-1===t),re.show(n,e))}function E(t){var e;return re.hide(),e=u.fire("BeforeObjectSelected",{target:t}),e.isDefaultPrevented()?null:O(t)}function O(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}function A(t,e){var n=r.isInSameBlock(t,e);return!n&&l.isBr(t.getNode())?!0:n}function P(t,e){return e=r.normalizeRange(t,te,e),-1==t?n.fromRangeStart(e):n.fromRangeEnd(e)}function L(t){return i.isCaretContainerBlock(t.startContainer)}function I(t,e,n,i){var r,o,s,a;return!i.collapsed&&(r=$(i),_(r))?D(t,r,-1==t):(a=L(i),o=P(t,i),n(o)?E(o.getNode(-1==t)):(o=e(o))?n(o)?D(t,o.getNode(-1==t),1==t):(s=e(o),n(s)&&A(o,s)?D(t,s.getNode(-1==t),1==t):a?j(o.toRange()):null):a?i:null)}function N(t,e,n){var i,r,o,l,u,c,d,h,f;if(f=$(n),i=P(t,n),r=e(te,s.isAboveLine(1),i),o=p.filter(r,s.isLine(1)),u=p.last(i.getClientRects()),C(i)&&(f=i.getNode()),k(i)&&(f=i.getNode(!0)),!u)return null;if(c=u.left,l=a.findClosestClientRect(o,c),l&&_(l.node))return d=Math.abs(c-l.left),h=Math.abs(c-l.right),D(t,l.node,h>d);if(f){var g=s.positionsUntil(t,te,s.isAboveLine(1),f);if(l=a.findClosestClientRect(p.filter(g,s.isLine(1)),c))return j(l.position.toRange());if(l=p.last(p.filter(g,s.isLine(0))))return j(l.position.toRange())}}function R(e,i){function r(){var e=u.dom.create(u.settings.forced_root_block);return(!t.ie||t.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}var o,s,a;if(i.collapsed&&u.settings.forced_root_block){if(o=u.dom.getParent(i.startContainer,"PRE"),!o)return;s=1==e?ne(n.fromRangeStart(i)):ie(n.fromRangeStart(i)),s||(a=r(),1==e?u.$(o).after(a):u.$(o).before(a),u.selection.select(a,!0),u.selection.collapse())}}function B(t,e,n,i){var r;return(r=I(t,e,n,i))?r:(r=R(t,i),r?r:null)}function H(t,e,n){var i;return(i=N(t,e,n))?i:(i=R(t,n),i?i:null)}function F(){return se("*[data-mce-caret]")[0]}function z(t){t=se(t),t.attr("data-mce-caret")&&(re.hide(),t.removeAttr("data-mce-caret"),t.removeAttr("data-mce-bogus"),t.removeAttr("style"),M(S()),T(t[0]))}function W(t){var e,i;return t=r.normalizeRange(1,te,t),e=n.fromRangeStart(t),_(e.getNode())?D(1,e.getNode(),!e.isAtEnd()):_(e.getNode(!0))?D(1,e.getNode(!0),!1):(i=u.dom.getParent(e.getNode(),h.or(_,w)),_(i)?D(1,i,!1):(re.hide(),null))}function j(t){var e;return t&&t.collapsed?(e=W(t),e?e:t):t}function G(t){var e,r,o,s;return _(t)?(_(t.previousSibling)&&(o=t.previousSibling),r=ie(n.before(t)),r||(e=ne(n.after(t))),e&&x(e.getNode())&&(s=e.getNode()),i.remove(t.previousSibling),i.remove(t.nextSibling),u.dom.remove(t),Z(),u.dom.isEmpty(u.getBody())?(u.setContent(""),void u.focus()):o?n.after(o).toRange():s?n.before(s).toRange():r?r.toRange():e?e.toRange():null):null}function V(t,e,n){var i,r,o,s,a=u.dom;if(-1===t){if(k(n)&&y(n.getNode(!0)))return G(n.getNode(!0))}else if(C(e)&&y(e.getNode()))return G(e.getNode());if(s=u.schema.getTextBlockElements(),i=a.getParent(e.getNode(),a.isBlock),r=a.getParent(n.getNode(),a.isBlock),i===r||!s[i.nodeName]||!s[r.nodeName])return null;for(;o=i.firstChild;)r.appendChild(o);return u.dom.remove(i),n.toRange()}function U(t,e,n){var i,r,o;return!n.collapsed&&(i=$(n),_(i))?j(G(i)):(r=P(t,n),e(r)?j(G(r.getNode(-1==t))):(o=-1==t?ee.prev(r):ee.next(r),e(o)?-1===t?V(t,r,o):V(t,o,r):void 0))}function q(){function t(t,e){var n=e(S());n&&!t.isDefaultPrevented()&&(t.preventDefault(),M(n))}function e(t){for(var e=u.getBody();t&&t!=e;){if(w(t)||_(t))return t;t=t.parentNode}return null}function i(t,e,n){return n.collapsed?!1:p.reduce(n.getClientRects(),function(n,i){return n||c.containsXY(i,t,e)},!1)}function r(){var t,i=e(u.selection.getNode());w(i)&&y(i)&&u.dom.isEmpty(i)&&(t=u.dom.create("br",{"data-mce-bogus":"1"}),u.$(i).empty().append(t),u.selection.setRng(n.before(t).toRange()))}function o(t){var e=F();if(e)return"compositionstart"==t.type?(t.preventDefault(),t.stopPropagation(),void z(e)):void("&nbsp;"!=e.innerHTML&&z(e))}function l(t){var e;switch(t.keyCode){case d.DELETE:e=r();break;case d.BACKSPACE:e=r()}e&&t.preventDefault()}var h=b(B,1,ne,C),m=b(B,-1,ie,k),v=b(U,1,C),x=b(U,-1,k),$=b(H,-1,s.upUntil),T=b(H,1,s.downUntil);u.on("mouseup",function(){var t=S();t.collapsed&&M(W(t))}),u.on("click",function(t){var n;n=e(t.target),n&&_(n)&&t.preventDefault()}),u.on("mousedown",function(t){var n;if(n=e(t.target))_(n)?(t.preventDefault(),X(E(n))):(Z(),i(t.clientX,t.clientY,u.selection.getRng())||u.selection.placeCaretAt(t.clientX,t.clientY));else{Z(),re.hide();var r=a.closestCaret(te,t.clientX,t.clientY);r&&(t.preventDefault(),u.getBody().focus(),M(D(1,r.node,r.before)))}}),u.on("keydown",function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:t(e,h);break;case d.DOWN:t(e,T);break;case d.LEFT:t(e,m);break;case d.UP:t(e,$);break;case d.DELETE:t(e,v);break;case d.BACKSPACE:t(e,x);break;default:_(u.selection.getNode())&&e.preventDefault()}}),u.on("keyup compositionstart",function(t){o(t),l(t)},!0),u.on("cut",function(){var t=u.selection.getNode();_(t)&&f.setEditorTimeout(u,function(){M(j(G(t)))})}),u.on("getSelectionRange",function(t){var e=t.range;if(Q){if(!Q.parentNode)return void(Q=null);e=e.cloneRange(),e.selectNode(Q),t.range=e}}),u.on("setSelectionRange",function(t){var e;e=X(t.range),e&&(t.range=e)}),u.on("focus",function(){f.setEditorTimeout(u,function(){u.selection.setRng(j(u.selection.getRng()))},0)}),g.init(u)}function Y(){var t=u.contentStyles,e=".mce-content-body";t.push(re.getCss()),t.push(e+" .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100px;height: 100px;}"+e+" *[contentEditable=false] {cursor: default;}"+e+" *[contentEditable=true] {cursor: text;}")}function K(t){return i.isCaretContainer(t.startContainer)||i.isCaretContainer(t.endContainer)}function X(e){var n,i,r,o,s,a,l,c,d,h,p=u.$,f=u.dom;if(!e)return Z(),null;if(e.collapsed){if(Z(),!K(e)){if(c=P(1,e),_(c.getNode()))return D(1,c.getNode(),!c.isAtEnd());if(_(c.getNode(!0)))return D(1,c.getNode(!0),!1)}return null}return o=e.startContainer,s=e.startOffset,a=e.endOffset,3==o.nodeType&&0==s&&_(o.parentNode)&&(o=o.parentNode,s=f.nodeIndex(o),o=o.parentNode),1!=o.nodeType?(Z(),null):(a==s+1&&(n=o.childNodes[s]),_(n)?(d=h=n.cloneNode(!0),l=u.fire("ObjectSelected",{target:n,targetClone:d}),l.isDefaultPrevented()?(Z(),null):(d=l.targetClone,i=p("#"+oe),0===i.length&&(i=p('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",oe),i.appendTo(u.getBody())),e=u.dom.createRng(),d===h&&t.ie?(i.empty().append(m.ZWSP).append(d).append(m.ZWSP),e.setStart(i[0].firstChild,0),e.setEnd(i[0].lastChild,1)):(i.empty().append(" ").append(d).append(" "),e.setStart(i[0].firstChild,1),e.setEnd(i[0].lastChild,0)),i.css({top:f.getPos(n,u.getBody()).y}),u.getBody().focus(),i[0].focus(),r=u.selection.getSel(),r.removeAllRanges(),r.addRange(e),u.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),Q=n,e)):(Z(),null))}function Z(){Q&&(Q.removeAttribute("data-mce-selected"),u.$("#"+oe).remove(),Q=null)}function J(){re.destroy(),Q=null}var Q,te=u.getBody(),ee=new e(te),ne=b(v,ee.next),ie=b(v,ee.prev),re=new o(u.getBody(),y),oe="sel-"+u.dom.uniqueId(),se=u.$;return t.ceFalse&&(q(),Y()),{showBlockCaretContainer:z,destroy:J}}var b=h.curry,w=l.isContentEditableTrue,_=l.isContentEditableFalse,x=l.isElement,k=r.isAfterContentEditableFalse,C=r.isBeforeContentEditableFalse,$=u.getSelectedNode;return y}),i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides"],function(t,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D){function E(t,e,r){var o,s,a,l=this;o=l.documentBaseUrl=r.documentBaseURL,s=r.baseURI,a=r.defaultSettings,e=L({id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l,ie7_compat:!0},a,e),a&&a.external_plugins&&e.external_plugins&&(e.external_plugins=L({},a.external_plugins,e.external_plugins)),l.settings=e,i.language=e.language||"en",i.languageLoad=e.language_load,i.baseURL=r.baseURL,l.id=e.id=t,l.setDirty(!1),l.plugins={},l.documentBaseURI=new f(e.document_base_url||o,{base_uri:s}),l.baseURI=s,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new S(l),l.loadedCSS={},l.editorCommands=new p(l),e.target&&(l.targetElm=e.target),l.suffix=r.suffix,l.editorManager=r,l.inline=e.inline,e.cache_suffix&&(x.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),e.override_viewport===!1&&(x.overrideViewPort=!1),r.fire("SetupEditor",l),l.execCallback("setup",l),l.$=n.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}var O=t.DOM,A=i.ThemeManager,P=i.PluginManager,L=k.extend,I=k.each,N=k.explode,R=k.inArray,B=k.trim,H=k.resolve,F=m.Event,z=x.gecko,W=x.ie;return E.prototype={render:function(){function t(){O.unbind(window,"ready",t),n.render()}function e(){var t=g.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&t.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!A.urls[i.theme]){var e=i.theme_url;e=e?n.documentBaseURI.toAbsolute(e):"themes/"+i.theme+"/theme"+o+".js",A.load(i.theme,e)}k.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),I(i.external_plugins,function(t,e){P.load(e,t),i.plugins+=" "+e}),I(i.plugins.split(/[ ,]/),function(t){if(t=B(t),t&&!P.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var e=P.dependencies(t);I(e,function(t){var e={prefix:"plugins/",resource:t,suffix:"/plugin"+o+".js"};t=P.createUrl(e,t),P.load(t.resource,t)})}else P.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+o+".js"})}),t.loadQueue(function(){n.removed||n.init()})}var n=this,i=n.settings,r=n.id,o=n.suffix;if(!F.domLoaded)return void O.bind(window,"ready",t);if(n.getElement()&&x.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var s=n.getElement().form||O.getParent(r,"form");s&&(n.formElement=s,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(O.insertAfter(O.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(t){n.fire(t.type,t)},O.bind(s,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||s.submit.nodeType||s.submit.length||s._mceOldSubmit||(s._mceOldSubmit=s.submit,s.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),s._mceOldSubmit(s)})),n.windowManager=new v(n),n.notificationManager=new y(n),"xml"==i.encoding&&n.on("GetContent",function(t){t.save&&(t.content=O.encode(t.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),e()}},init:function(){function t(e){var n,i,r=P.get(e);if(n=P.urls[e]||h.documentBaseUrl.replace(/\/$/,""),e=B(e),r&&-1===R(g,e)){if(I(P.dependencies(e),function(e){t(e)}),h.plugins[e])return;i=new r(h,n,h.$),h.plugins[e]=i,i.init&&(i.init(h,n),g.push(e))}}var e,n,i,r,o,s,a,l,u,c,d,h=this,p=h.settings,f=h.getElement(),g=[];if(this.editorManager.i18n.setCode(p.language),h.rtl=p.rtl_ui||this.editorManager.i18n.rtl,h.editorManager.add(h),p.aria_label=p.aria_label||O.getAttrib(f,"aria-label",h.getLang("aria.rich_text_area")),p.theme&&("function"!=typeof p.theme?(p.theme=p.theme.replace(/-/,""),s=A.get(p.theme),h.theme=new s(h,A.urls[p.theme]),h.theme.init&&h.theme.init(h,A.urls[p.theme]||h.documentBaseUrl.replace(/\/$/,""),h.$)):h.theme=p.theme),I(p.plugins.replace(/\-/g,"").split(/[ ,]/),t),p.render_ui&&h.theme&&(h.orgDisplay=f.style.display,"function"!=typeof p.theme?(e=p.width||f.style.width||f.offsetWidth,n=p.height||f.style.height||f.offsetHeight,i=p.min_height||100,c=/^[0-9\.]+(|px)$/i,c.test(""+e)&&(e=Math.max(parseInt(e,10),100)),c.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=h.theme.renderUI({targetNode:f,width:e,height:n,deltaWidth:p.delta_width,deltaHeight:p.delta_height}),p.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),i>n&&(n=i))):(o=p.theme(h,f),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||h.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||h.id+"_iframecontainer"),n=o.iframeHeight||f.offsetHeight),h.editorContainer=o.editorContainer),p.content_css&&I(N(p.content_css),function(t){h.contentCSS.push(h.documentBaseURI.toAbsolute(t))}),p.content_style&&h.contentStyles.push(p.content_style),p.content_editable)return f=r=o=null,h.initContentBody();if(h.iframeHTML=p.doctype+"<html><head>",p.document_base_url!=h.documentBaseUrl&&(h.iframeHTML+='<base href="'+h.documentBaseURI.getURI()+'" />'),!x.caretAfter&&p.ie7_compat&&(h.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),h.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(d=0;d<h.contentCSS.length;d++){var m=h.contentCSS[d];h.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+k._addCacheSuffix(m)+'" />',h.loadedCSS[m]=!0}l=p.body_id||"tinymce",-1!=l.indexOf("=")&&(l=h.getParam("body_id","","hash"),l=l[h.id]||l),u=p.body_class||"",-1!=u.indexOf("=")&&(u=h.getParam("body_class","","hash"),u=u[h.id]||""),p.content_security_policy&&(h.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+p.content_security_policy+'" />'),h.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+u+'" data-id="'+h.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+h.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&x.ie&&x.ie<12&&(a=v);var y=O.create("iframe",{id:h.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:h.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}});if(y.onload=function(){y.onload=null,h.fire("load")},O.setAttrib(y,"src",a||'javascript:""'),h.contentAreaContainer=o.iframeContainer,h.iframeElement=y,r=O.add(o.iframeContainer,y),W)try{h.getDoc()}catch(b){r.src=a=v}o.editorContainer&&(O.get(o.editorContainer).style.display=h.orgDisplay,h.hidden=O.isHidden(o.editorContainer)),h.getElement().style.display="none",O.setAttrib(h.id,"aria-hidden",!0),a||h.initContentBody(),f=r=o=null
},initContentBody:function(e){var n,i,a=this,p=a.settings,f=a.getElement(),g=a.getDoc();p.inline||(a.getElement().style.visibility=a.orgVisibility),e||p.content_editable||(g.open(),g.write(a.iframeHTML),g.close()),p.content_editable&&(a.on("remove",function(){var t=this.getBody();O.removeClass(t,"mce-content-body"),O.removeClass(t,"mce-edit-focus"),O.setAttrib(t,"contentEditable",null)}),O.addClass(f,"mce-content-body"),a.contentDocument=g=p.content_document||document,a.contentWindow=p.content_window||window,a.bodyElement=f,p.content_document=p.content_window=null,p.root_name=f.nodeName.toLowerCase()),n=a.getBody(),n.disabled=!0,a.readonly=p.readonly,a.readonly||(a.inline&&"static"==O.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=a.getParam("content_editable_state",!0)),n.disabled=!1,a.editorUpload=new T(a),a.schema=new b(p),a.dom=new t(g,{keep_values:!0,url_converter:a.convertURL,url_converter_scope:a,hex_colors:p.force_hex_style_colors,class_filter:p.class_filter,update_styles:!0,root_element:a.inline?a.getBody():null,collect:p.content_editable,schema:a.schema,onSetAttrib:function(t){a.fire("SetAttrib",t)}}),a.parser=new w(p,a.schema),a.parser.addAttributeFilter("src,href,style,tabindex",function(t,e){for(var n,i,r,o=t.length,s=a.dom;o--;)if(n=t[o],i=n.attr(e),r="data-mce-"+e,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===e?(i=s.serializeStyle(s.parseStyle(i),n.name),i.length||(i=null),n.attr(r,i),n.attr(e,i)):"tabindex"===e?(n.attr(r,i),n.attr(e,null)):n.attr(r,a.convertURL(i,e,n.name))}}),a.parser.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("type")||"no/type",0!==n.indexOf("mce-")&&e.attr("type","mce-"+n)}),a.parser.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)e=t[n],e.type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),a.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var e,n=t.length,i=a.schema.getNonEmptyElements();n--;)e=t[n],e.isEmpty(i)&&(e.append(new o("br",1)).shortEnded=!0)}),a.serializer=new s(p,a),a.selection=new l(a.dom,a.getWin(),a.serializer,a),a.formatter=new u(a),a.undoManager=new c(a),a.forceBlocks=new h(a),a.enterKey=new d(a),a._nodeChangeDispatcher=new r(a),a._selectionOverrides=new D(a),a.fire("PreInit"),p.browser_spellcheck||p.gecko_spellcheck||(g.body.spellcheck=!1,O.setAttrib(n,"spellcheck","false")),a.quirks=new _(a),a.fire("PostRender"),p.directionality&&(n.dir=p.directionality),p.nowrap&&(n.style.whiteSpace="nowrap"),p.protect&&a.on("BeforeSetContent",function(t){I(p.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),a.on("SetContent",function(){a.addVisual(a.getBody())}),p.padd_empty_editor&&a.on("PostProcess",function(t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),a.load({initial:!0,format:"html"}),a.startContent=a.getContent({format:"raw"}),a.initialized=!0,a.bindPendingEventDelegates(),a.fire("init"),a.focus(!0),a.nodeChanged({initial:!0}),a.execCallback("init_instance_callback",a),a.on("compositionstart compositionend",function(t){a.composing="compositionstart"===t.type}),a.contentStyles.length>0&&(i="",I(a.contentStyles,function(t){i+=t+"\r\n"}),a.dom.addStyle(i)),I(a.contentCSS,function(t){a.loadedCSS[t]||(a.dom.loadCSS(t),a.loadedCSS[t]=!0)}),p.auto_focus&&C.setEditorTimeout(a,function(){var t;t=p.auto_focus===!0?a:a.editorManager.get(p.auto_focus),t.destroyed||t.focus()},100),f=g=n=null},focus:function(t){function e(t){return o.dom.getParent(t,function(t){return"true"===o.dom.getContentEditable(t)})}var n,i,r,o=this,s=o.selection,a=o.settings.content_editable,l=o.getDoc(),u=o.getBody();if(!t){if(n=s.getRng(),n.item&&(i=n.item(0)),o.quirks.refreshContentEditable(),r=e(s.getNode()),o.$.contains(u,r))return r.focus(),s.normalize(),void o.editorManager.setActive(o);if(a||(x.opera||o.getBody().focus(),o.getWin().focus()),z||a){if(u.setActive)try{u.setActive()}catch(c){u.focus()}else u.focus();a&&s.normalize()}i&&i.ownerDocument==l&&(n=l.body.createControlRange(),n.addElement(i),n.select())}o.editorManager.setActive(o)},execCallback:function(t){var e,n=this,i=n.settings[t];if(i)return n.callbackLookup&&(e=n.callbackLookup[t])&&(i=e.func,e=e.scope),"string"==typeof i&&(e=i.replace(/\.\w+$/,""),e=e?H(e):0,i=H(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[t]={func:i,scope:e}),i.apply(e||n,Array.prototype.slice.call(arguments,1))},translate:function(t){var e=this.settings.language||"en",n=this.editorManager.i18n;return t?(t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n.data[e+"."+i]||"{#"+i+"}"}),this.editorManager.translate(t)):""},getLang:function(t,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(n!==e?n:"{#"+t+"}")},getParam:function(t,e,n){var i,r=t in this.settings?this.settings[t]:e;return"hash"===n?(i={},"string"==typeof r?I(r.split(r.indexOf("=")>0?/[;,](?![^=;,]*(?:[;,]|$))/:","),function(t){t=t.split("="),i[B(t[0])]=B(t.length>1?t[1]:t)}):i=r,i):r},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.text||e.icon||(e.icon=t),n.buttons=n.buttons||{},e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(O.show(t.getContainer()),O.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(W&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t==t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(O.hide(t.getContainer()),O.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var n,i=this,r=i.getElement();return r?(t=t||{},t.load=!0,n=i.setContent(r.value!==e?r.value:r.innerHTML,t),t.element=r,t.no_events||i.fire("LoadContent",t),t.element=r=null,n):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized)return t=t||{},t.save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"==t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(i.inline||(r.innerHTML=e),(n=O.getParent(i.id,"form"))&&I(n.elements,function(t){return t.name==i.id?(t.value=e,!1):void 0})),t.element=r=null,t.set_dirty!==!1&&i.setDirty(!1),e},setContent:function(t,e){var n,i,r=this,o=r.getBody();return e=e||{},e.format=e.format||"html",e.set=!0,e.content=t,e.no_events||r.fire("BeforeSetContent",e),t=e.content,0===t.length||/^\s+$/.test(t)?(i=W&&11>W?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?t="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(t="<li>"+i+"</li>"),n=r.settings.forced_root_block,n&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(t=i,t=r.dom.createHTML(n,r.settings.forced_root_block_attrs,t)):W||t||(t='<br data-mce-bogus="1">'),r.dom.setHTML(o,t),r.fire("SetContent",e)):("raw"!==e.format&&(t=new a({validate:r.validate},r.schema).serialize(r.parser.parse(t,{isRootContent:!0}))),e.content=B(t),r.dom.setHTML(o,e.content),e.no_events||r.fire("SetContent",e)),e.content},getContent:function(t){var e,n=this,i=n.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||n.fire("BeforeGetContent",t),e="raw"==t.format?n.serializer.getTrimmedContent():"text"==t.format?i.innerText||i.textContent:n.serializer.serialize(i,t),t.content="text"!=t.format?B(e):e,t.no_events||n.fire("GetContent",t),t.content},insertContent:function(t,e){e&&(t=L({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!=e&&this.fire("dirty")},setMode:function(t){M.setMode(this,t)},getContainer:function(){var t=this;return t.container||(t.container=O.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=O.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"==n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},addVisual:function(t){var n,i=this,r=i.settings,o=i.dom;t=t||i.getBody(),i.hasVisual===e&&(i.hasVisual=r.visual),I(o.select("table,a",t),function(t){var e;switch(t.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",e=o.getAttrib(t,"border"),void(e&&"0"!=e||!i.hasVisual?o.removeClass(t,n):o.addClass(t,n));case"A":return void(o.getAttrib(t,"href",!1)||(e=o.getAttrib(t,"name")||t.id,n=r.visual_anchor_class||"mce-item-anchor",e&&i.hasVisual?o.addClass(t,n):o.removeClass(t,n)))}}),i.fire("VisualAid",{element:t,hasVisual:i.hasVisual})},remove:function(){var t=this;t.removed||(t.save(),t.removed=1,t.unbindAllNativeEvents(),t.hasHiddenInput&&O.remove(t.getElement().nextSibling),t.inline||(W&&10>W&&t.getDoc().execCommand("SelectAll",!1,null),O.setStyle(t.id,"display",t.orgDisplay),t.getBody().onload=null),t.fire("remove"),t.editorManager.remove(t),O.remove(t.getContainer()),t._selectionOverrides.destroy(),t.editorUpload.destroy(),t.destroy())},destroy:function(t){var e,n=this;if(!n.destroyed){if(!t&&!n.removed)return void n.remove();t||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),e=n.formElement,e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),O.unbind(e,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},L(E.prototype,$),E}),i("tinymce/util/I18n",[],function(){var t={},e="en";return{setCode:function(t){t&&(e=t,this.rtl=this.data[t]?"rtl"===this.data[t]._dir:!1)},getCode:function(){return e},rtl:!1,add:function(e,n){var i=t[e];i||(t[e]=i={});for(var r in n)i[r]=n[r];this.setCode(e)},translate:function(n){var i;if(i=t[e],i||(i={}),"undefined"==typeof n)return n;if("string"!=typeof n&&n.raw)return n.raw;if(n.push){var r=n.slice(1);n=(i[n[0]]||n[0]).replace(/\{([0-9]+)\}/g,function(t,e){return r[e]})}return(i[n]||n).replace(/{context:\w+}$/,"")},data:t}}),i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(t,e,n){function i(t){function l(){try{return document.activeElement}catch(t){return document.body}}function u(t,e){if(e&&e.startContainer){if(!t.isChildOf(e.startContainer,t.getRoot())||!t.isChildOf(e.endContainer,t.getRoot()))return;return{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}}return e}function c(t,e){var n;return e.startContainer?(n=t.getDoc().createRange(),n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset)):n=e,n}function d(t){return!!a.getParent(t,i.isEditorUIElement)}function h(i){var h=i.editor;h.on("init",function(){(h.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?h.dom.bind(h.getBody(),"beforedeactivate",function(t){if(t.target==h.getBody())try{h.lastRng=h.selection.getRng()}catch(e){}}):h.on("nodechange mouseup keyup",function(t){var e=l();"nodechange"==t.type&&t.selectionChange||(e&&e.id==h.id+"_ifr"&&(e=h.getBody()),h.dom.isChildOf(e,h.getBody())&&(h.lastRng=h.selection.getRng()))}),n.webkit&&!r&&(r=function(){var e=t.activeEditor;if(e&&e.selection){var n=e.selection.getRng();n&&!n.collapsed&&(h.lastRng=n)}},a.bind(document,"selectionchange",r)))}),h.on("setcontent",function(){h.lastRng=null}),h.on("mousedown",function(){h.selection.lastFocusBookmark=null}),h.on("focusin",function(){var e,n=t.focusedEditor;h.selection.lastFocusBookmark&&(e=c(h,h.selection.lastFocusBookmark),h.selection.lastFocusBookmark=null,h.selection.setRng(e)),n!=h&&(n&&n.fire("blur",{focusedEditor:h}),t.setActive(h),t.focusedEditor=h,h.fire("focus",{blurredEditor:n}),h.focus(!0)),h.lastRng=null}),h.on("focusout",function(){e.setEditorTimeout(h,function(){var e=t.focusedEditor;d(l())||e!=h||(h.fire("blur",{focusedEditor:null}),t.focusedEditor=null,h.selection&&(h.selection.lastFocusBookmark=null))})}),o||(o=function(e){var n,i=t.activeEditor;n=e.target,i&&n.ownerDocument==document&&(i.selection&&n!=i.getBody()&&(i.selection.lastFocusBookmark=u(i.dom,i.lastRng)),n==document.body||d(n)||t.focusedEditor!=i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},a.bind(document,"focusin",o)),h.inline&&!s&&(s=function(e){var n=t.activeEditor;if(n.inline&&!n.dom.isChildOf(e.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},a.bind(document,"mouseup",s))}function p(e){t.focusedEditor==e.editor&&(t.focusedEditor=null),t.activeEditor||(a.unbind(document,"selectionchange",r),a.unbind(document,"focusin",o),a.unbind(document,"mouseup",s),r=o=s=null)}t.on("AddEditor",h),t.on("RemoveEditor",p)}var r,o,s,a=t.DOM;return i.isEditorUIElement=function(t){return-1!==t.className.toString().indexOf("mce-")},i}),i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(t,e,n,i,r,o,s,a,l,u){function c(t){y(g.editors,function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})}function d(t,n){n!==_&&(n?e(window).on("resize scroll",c):e(window).off("resize scroll",c),_=n)}function h(t){var e,n=g.editors;delete n[t.id];for(var i=0;i<n.length;i++)if(n[i]==t){n.splice(i,1),e=!0;break}return g.activeEditor==t&&(g.activeEditor=n[0]),g.focusedEditor==t&&(g.focusedEditor=null),e}function p(t){return t&&!(t.getContainer()||t.getBody()).parentNode&&(h(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t}var f,g,m=n.DOM,v=o.explode,y=o.each,b=o.extend,w=0,_=!1;return g={$:e,majorVersion:"4",minorVersion:"3.12",releaseDate:"2016-05-10",editors:[],i18n:l,activeEditor:null,setup:function(){var t,e,n,r,o=this,s="";if(e=i.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,s=n.suffix;else{for(var a=document.getElementsByTagName("script"),l=0;l<a.length;l++){r=a[l].src;var c=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=c.indexOf(".min")&&(s=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}!t&&document.currentScript&&(r=document.currentScript.src,-1!=r.indexOf(".min")&&(s=".min"),t=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new i(e).toAbsolute(t),o.documentBaseURL=e,o.baseURI=new i(o.baseURL),o.suffix=s,o.focusManager=new u(o)},overrideDefaults:function(t){var e,n;e=t.base_url,e&&(this.baseURL=new i(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new i(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t},init:function(n){function i(t){var e=t.id;return e||(e=t.name,e=e&&!m.get(e)?t.name:m.uniqueId(),t.setAttribute("id",e)),e}function r(t){var e=n[t];if(e)return e.apply(d,Array.prototype.slice.call(arguments,2))}function a(t,e){return e.constructor===RegExp?e.test(t.className):m.hasClass(t,e)}function l(t){var e,n=[];if(t.types)return y(t.types,function(t){n=n.concat(m.select(t.selector))}),n;if(t.selector)return m.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":e=t.elements||"",e.length>0&&y(v(e),function(t){var e;(e=m.get(t))?n.push(e):y(document.forms,function(e){y(e.elements,function(e){e.name===t&&(t="mce_editor_"+w++,m.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":y(m.select("textarea"),function(e){t.editor_deselector&&a(e,t.editor_deselector)||(!t.editor_selector||a(e,t.editor_selector))&&n.push(e)})}return n}function u(){function s(e,n,i){if(!p(d.get(e))){var r=new t(e,n,d);f.push(r),r.on("init",function(){++c===a.length&&h(f)}),r.targetElm=r.targetElm||i,r.render()}}var a,c=0,f=[];return m.unbind(window,"ready",u),r("onpageload"),a=e.unique(l(n)),n.types?void y(n.types,function(t){o.each(a,function(e){return m.is(e,t.selector)?(s(i(e),b({},n,t),e),!1):!0})}):void y(a,function(t){s(i(t),n,t)})}var c,d=this,h=function(t){c=t};return d.settings=n,m.bind(window,"ready",u),new s(function(t){c?t(c):h=function(e){t(e)}})},get:function(t){return arguments.length?t in this.editors?this.editors[t]:null:this.editors},add:function(t){var e=this,n=e.editors;return n[t.id]=t,n.push(t),d(n,!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),f||(f=function(){e.fire("BeforeUnload")},m.bind(window,"beforeunload",f)),t},createEditor:function(e,n){return this.add(new t(e,n,this))},remove:function(t){var e,n,i=this,r=i.editors;{if(t)return"string"==typeof t?(t=t.selector||t,void y(m.select(t),function(t){n=r[t.id],n&&i.remove(n)})):(n=t,r[n.id]?(h(n)&&i.fire("RemoveEditor",{editor:n}),r.length||m.unbind(window,"beforeunload",f),n.remove(),d(r,r.length>0),n):null);for(e=r.length-1;e>=0;e--)i.remove(r[e])}},execCommand:function(e,n,i){var r=this,o=r.get(i);switch(e){case"mceAddEditor":return r.get(i)||new t(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return r.activeEditor?r.activeEditor.execCommand(e,n,i):!1},triggerSave:function(){y(this.editors,function(t){t.save()})},addI18n:function(t,e){l.add(t,e)},translate:function(t){return l.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!=t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},b(g,a),g.setup(),window.tinymce=window.tinyMCE=g,g}),i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(t,e){var n=e.each,i=e.explode;t.on("AddEditor",function(t){var e=t.editor;e.on("preInit",function(){function t(t,e){n(e,function(e,n){e&&a.setStyle(t,n,e)}),a.rename(t,"span")}function r(t){a=e.dom,l.convert_fonts_to_spans&&n(a.select("font,u,strike",t.node),function(t){o[t.nodeName.toLowerCase()](a,t)})}var o,s,a,l=e.settings;l.inline_styles&&(s=i(l.font_size_legacy_values),o={font:function(e,n){t(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:s[parseInt(n.size,10)-1]})},u:function(n,i){"html4"===e.settings.schema&&t(i,{textDecoration:"underline"})},strike:function(e,n){t(n,{textDecoration:"line-through"})}},e.on("PreProcess SetContent",r))})})}),i("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(t,e){var n={send:function(t){function i(){!t.async||4==r.readyState||o++>1e4?(t.success&&1e4>o&&200==r.status?t.success.call(t.success_scope,""+r.responseText,r,t):t.error&&t.error.call(t.error_scope,o>1e4?"TIMED_OUT":"GENERAL",r,t),r=null):setTimeout(i,10)}var r,o=0;if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=t.async===!1?!1:!0,t.data=t.data||"",n.fire("beforeInitialize",{settings:t}),r=new XMLHttpRequest){if(r.overrideMimeType&&r.overrideMimeType(t.content_type),r.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(r.withCredentials=!0),t.content_type&&r.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&e.each(t.requestheaders,function(t){r.setRequestHeader(t.key,t.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=n.fire("beforeSend",{xhr:r,settings:t}).xhr,r.send(t.data),!t.async)return i();setTimeout(i,10)}}};return e.extend(n,t),n}),i("tinymce/util/JSON",[],function(){function t(e,n){var i,r,o,s;if(n=n||'"',null===e)return"null";if(o=typeof e,"string"==o)return r="\bb	t\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,e){return'"'===n&&"'"===t?t:(i=r.indexOf(e),i+1?"\\"+r.charAt(i+1):(t=e.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t))})+n;if("object"==o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(i=0,r="[";i<e.length;i++)r+=(i>0?",":"")+t(e[i],n);return r+"]"}r="{";for(s in e)e.hasOwnProperty(s)&&(r+="function"!=typeof e[s]?(r.length>1?","+n:n)+s+n+":"+t(e[s],n):"");return r+"}"}return""+e}return{serialize:t,parse:function(t){try{return window[String.fromCharCode(101)+"val"]("("+t+")")}catch(e){}}}}),i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(t,e,n){function i(t){this.settings=r({},t),this.count=0}var r=n.extend;return i.sendRPC=function(t){return(new i).send(t)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(e,r){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,r):o.call(n.success_scope||n.scope,e.result)},n.error=function(t,e){i&&i.call(n.error_scope||n.scope,t,e)},n.data=t.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},i}),i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(t){return{callbacks:{},count:0,send:function(n){var i=this,r=t.DOM,o=n.count!==e?n.count:i.count,s="tinymce_jsonp_"+o;i.callbacks[o]=function(t){r.remove(s),delete i.callbacks[o],n.callback(t)},r.add(r.doc.body,"script",{id:s,src:n.url,type:"text/javascript"}),i.count++}}}),i("tinymce/util/LocalStorage",[],function(){function t(){a=[];for(var t in s)a.push(t);r.length=a.length}function n(){function n(t){var n,i;return i=t!==e?c+t:r.indexOf(",",c),-1===i||i>r.length?null:(n=r.substring(c,i),c=i+1,n)}var i,r,a,c=0;if(s={},u){o.load(l),r=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(i=n(parseInt(d,32)||0),null!==i){if(d=n(),null===d)break;a=n(parseInt(d,32)||0),i&&(s[i]=a)}}while(null!==i);t()}}function i(){var e,n="";if(u){for(var i in s)e=s[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+e.length.toString(32)+","+e;o.setAttribute(l,n);try{o.save(l)}catch(r){}t()}}var r,o,s,a,l,u;try{if(window.localStorage)return localStorage}catch(c){}return l="tinymce",o=document.documentElement,u=!!o.addBehavior,u&&o.addBehavior("#default#userData"),r={key:function(t){return a[t]},getItem:function(t){return t in s?s[t]:null},setItem:function(t,e){s[t]=""+e,i()},removeItem:function(t){delete s[t],i()},clear:function(){s={},i()}},n(),r}),i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(t,e,n,i,r,o){var s=window.tinymce;return s.DOM=t.DOM,s.ScriptLoader=n.ScriptLoader,s.PluginManager=i.PluginManager,s.ThemeManager=i.ThemeManager,s.dom=s.dom||{},s.dom.Event=e.Event,r.each(r,function(t,e){s[e]=t}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(t){s[t]=o[t.substr(2).toLowerCase()]}),{}}),i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(t,e){return t.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(t){this.settings=e.extend({},this.Defaults,t)},preRender:function(t){t.bodyClasses.add(this.settings.containerClass)},applyClasses:function(t){var e,n,i,r,o=this,s=o.settings;e=s.firstControlClass,n=s.lastControlClass,t.each(function(t){t.classes.remove(e).remove(n).add(s.controlClass),t.visible()&&(i||(i=t),r=t)}),i&&i.classes.add(e),r&&r.classes.add(n)},renderHtml:function(t){var e=this,n="";return e.applyClasses(t.items()),t.items().each(function(t){n+=t.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(t){t.items().filter(":visible").each(function(t){var e=t.settings;t.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h}),t.recalc&&t.recalc()})},renderHtml:function(t){return'<div id="'+t._id+'-absend" class="'+t.classPrefix+'abs-end"></div>'+this._super(t)}})}),i("tinymce/ui/Button",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"widget btn",role:"button"},init:function(t){var e,n=this;n._super(t),t=n.settings,e=n.settings.size,n.on("click mousedown",function(t){t.preventDefault()}),n.on("touchstart",function(t){n.fire("click",t),t.preventDefault()}),t.subtype&&n.classes.add(t.subtype),e&&n.classes.add("btn-"+e),t.icon&&n.icon(t.icon)},icon:function(t){return arguments.length?(this.state.set("icon",t),this):this.state.get("icon")},repaint:function(){var t,e=this.getEl().firstChild;e&&(t=e.style,t.width=t.height="100%"),this._super()},renderHtml:function(){var t,e=this,n=e._id,i=e.classPrefix,r=e.state.get("icon"),o=e.state.get("text"),s="";return t=e.settings.image,t?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",o&&(e.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+e.encode(o)+"</span>"),r=e.settings.icon?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+s+"</button></div>"},bindStates:function(){function t(t){var r=n("span."+i,e.getEl());t?(r[0]||(n("button:first",e.getEl()).append('<span class="'+i+'"></span>'),r=n("span."+i,e.getEl())),r.html(e.encode(t))):r.remove(),e.classes.toggle("btn-has-text",!!t)}var e=this,n=e.$,i=e.classPrefix+"txt";return e.state.on("change:text",function(e){t(e.value)}),e.state.on("change:icon",function(n){var i=n.value,r=e.classPrefix;e.settings.icon=i,i=i?r+"ico "+r+"i-"+e.settings.icon:"";var o=e.getEl().firstChild,s=o.getElementsByTagName("i")[0];i?(s&&s==o.firstChild||(s=document.createElement("i"),o.insertBefore(s,o.firstChild)),s.className=i):s&&o.removeChild(s),t(e.state.get("text"))}),e._super()}})}),i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var t=this,e=t._layout;return t.classes.add("btn-group"),t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(t){var e=this;e._super(t),e.on("click mousedown",function(t){t.preventDefault()}),e.on("click",function(t){t.preventDefault(),e.disabled()||e.checked(!e.checked())}),e.checked(e.settings.checked)},checked:function(t){return arguments.length?(this.state.set("checked",t),this):this.state.get("checked")},value:function(t){return arguments.length?this.checked(t):this.checked()},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+e+'-al" class="'+n+'label">'+t.encode(t.state.get("text"))+"</span></div>"},bindStates:function(){function t(t){e.classes.toggle("checked",t),e.aria("checked",t)}var e=this;return e.state.on("change:text",function(t){e.getEl("al").firstChild.data=e.translate(t.value)}),e.state.on("change:checked change:value",function(n){e.fire("change"),t(n.value)}),e.state.on("change:icon",function(t){var n=t.value,i=e.classPrefix;if("undefined"==typeof n)return e.settings.icon;e.settings.icon=n,n=n?i+"ico "+i+"i-"+e.settings.icon:"";var r=e.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o==r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)}),e.state.get("checked")&&t(!0),e._super()}})}),i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(t,e,n,i){return t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.classes.add("combobox"),e.subinput=!0,e.ariaTarget="inp",t.menu=t.menu||t.values,t.menu&&(t.icon="caret"),e.on("click",function(n){var r=n.target,o=e.getEl();if(i.contains(o,r)||r==o)for(;r&&r!=o;)r.id&&-1!=r.id.indexOf("-open")&&(e.fire("action"),t.menu&&(e.showMenu(),n.aria&&e.menu.items()[0].focus())),r=r.parentNode}),e.on("keydown",function(t){"INPUT"==t.target.nodeName&&13==t.keyCode&&e.parents().reverse().each(function(n){var i=e.state.get("value"),r=e.getEl("inp").value;return t.preventDefault(),e.state.set("value",r),i!=r&&e.fire("change"),n.hasEventListeners("submit")&&n.toJSON?(n.fire("submit",{data:n.toJSON()}),!1):void 0})}),e.on("keyup",function(t){"INPUT"==t.target.nodeName&&e.state.set("value",t.target.value)})},showMenu:function(){var t,n=this,i=n.settings;n.menu||(t=i.menu||[],t.length?t={type:"menu",items:t}:t.type=t.type||"menu",n.menu=e.create(t).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(t){t.control===n.menu&&n.focus()}),n.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==n.value())})}).fire("show"),n.menu.on("select",function(t){n.value(t.control.value())}),n.on("focusin",function(t){"INPUT"==t.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,e,r=this,o=r.getEl(),s=r.getEl("open"),a=r.layoutRect();t=s?a.w-n.getSize(s).width-10:a.w-10;var l=document;return l.all&&(!l.documentMode||l.documentMode<=8)&&(e=r.layoutRect().h-2+"px"),i(o.firstChild).css({width:t,lineHeight:e}),r._super(),r},postRender:function(){var t=this;return i(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var t,e,n=this,i=n._id,r=n.settings,o=n.classPrefix,s=n.state.get("value")||"",a="",l="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),n.disabled()&&(l+=' disabled="disabled"'),t=r.icon,t&&"caret"!=t&&(t=o+"ico "+o+"i-"+r.icon),e=n.state.get("text"),(t||e)&&(a='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=t?'<i class="'+t+'"></i>':'<i class="'+o+'caret"></i>')+(e?(t?" ":"")+e:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+n.encode(s,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(r.placeholder)+'" />'+a+"</div>"
},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl("inp").value!=e.value&&(t.getEl("inp").value=e.value)}),t.state.on("change:disabled",function(e){t.getEl("inp").disabled=e.value}),t._super()},remove:function(){i(this.getEl("inp")).off(),this._super()}})}),i("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(t){return t.extend({init:function(t){var e=this;t.spellcheck=!1,t.onaction&&(t.icon="none"),e._super(t),e.classes.add("colorbox"),e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(t){var e=this.getEl().getElementsByTagName("i")[0];if(e)try{e.style.background=t}catch(n){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}})}),i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(t,e){return t.extend({showPanel:function(){var t=this,n=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,t.panel=new e(i).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),n.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var t=this;t.panel&&t.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(t,e){var n=e.DOM;return t.extend({init:function(t){this._super(t),this.classes.add("colorbutton")},color:function(t){return t?(this._color=t,this.getEl("preview").style.backgroundColor=t,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix,i=t.state.get("text"),r=t.settings.icon?n+"ico "+n+"i-"+t.settings.icon:"",o=t.settings.image?" style=\"background-image: url('"+t.settings.image+"')\"":"",s="";return i&&(t.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+t.encode(i)+"</span>"),'<div id="'+e+'" class="'+t.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+e+'-preview" class="'+n+'preview"></span>'+s+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(i){i.aria&&"down"==i.aria.key||i.control!=t||n.getParent(i.target,"."+t.classPrefix+"open")||(i.stopImmediatePropagation(),e.call(t,i))}),delete t.settings.onclick,t._super()}})}),i("tinymce/util/Color",[],function(){function t(t){function r(t,r,o){var s,a,l,u,c,d;return s=0,a=0,l=0,t/=255,r/=255,o/=255,c=e(t,e(r,o)),d=n(t,n(r,o)),c==d?(l=c,{h:0,s:0,v:100*l}):(u=t==c?r-o:o==c?t-r:o-t,s=t==c?3:o==c?1:5,s=60*(s-u/(d-c)),a=(d-c)/d,l=d,{h:i(s),s:i(100*a),v:i(100*l)})}function o(t,r,o){var s,a,l,u;if(t=(parseInt(t,10)||0)%360,r=parseInt(r,10)/100,o=parseInt(o,10)/100,r=n(0,e(r,1)),o=n(0,e(o,1)),0===r)return void(d=h=p=i(255*o));switch(s=t/60,a=o*r,l=a*(1-Math.abs(s%2-1)),u=o-a,Math.floor(s)){case 0:d=a,h=l,p=0;break;case 1:d=l,h=a,p=0;break;case 2:d=0,h=a,p=l;break;case 3:d=0,h=l,p=a;break;case 4:d=l,h=0,p=a;break;case 5:d=a,h=0,p=l;break;default:d=h=p=0}d=i(255*(d+u)),h=i(255*(h+u)),p=i(255*(p+u))}function s(){function t(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+t(d)+t(h)+t(p)}function a(){return{r:d,g:h,b:p}}function l(){return r(d,h,p)}function u(t){var e;return"object"==typeof t?"r"in t?(d=t.r,h=t.g,p=t.b):"v"in t&&o(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(d=parseInt(e[1],10),h=parseInt(e[2],10),p=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(d=parseInt(e[1],16),h=parseInt(e[2],16),p=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(d=parseInt(e[1]+e[1],16),h=parseInt(e[2]+e[2],16),p=parseInt(e[3]+e[3],16)),d=0>d?0:d>255?255:d,h=0>h?0:h>255?255:h,p=0>p?0:p>255?255:p,c}var c=this,d=0,h=0,p=0;t&&u(t),c.toRgb=a,c.toHsv=l,c.toHex=s,c.parse=u}var e=Math.min,n=Math.max,i=Math.round;return t}),i("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(t,e,n,i){return t.extend({Defaults:{classes:"widget colorpicker"},init:function(t){this._super(t)},postRender:function(){function t(t,e){var i,r,o=n.getPos(t);return i=e.pageX-o.x,r=e.pageY-o.y,i=Math.max(0,Math.min(i/t.clientWidth,1)),r=Math.max(0,Math.min(r/t.clientHeight,1)),{x:i,y:r}}function r(t,e){var r=(360-t.h)/360;n.css(u,{top:100*r+"%"}),e||n.css(d,{left:t.s+"%",top:100-t.v+"%"}),c.style.background=new i({s:100,v:100,h:t.h}).toHex(),h.color().parse({s:t.s,v:t.v,h:t.h})}function o(e){var n;n=t(c,e),a.s=100*n.x,a.v=100*(1-n.y),r(a),h.fire("change")}function s(e){var n;n=t(l,e),a=p.toHsv(),a.h=360*(1-n.y),r(a,!0),h.fire("change")}var a,l,u,c,d,h=this,p=h.color();l=h.getEl("h"),u=h.getEl("hp"),c=h.getEl("sv"),d=h.getEl("svp"),h._repaint=function(){a=p.toHsv(),r(a)},h._super(),h._svdraghelper=new e(h._id+"-sv",{start:o,drag:o}),h._hdraghelper=new e(h._id+"-h",{start:s,drag:s}),h._repaint()},rgb:function(){return this.color().toRgb()},value:function(t){var e=this;return arguments.length?(e.color().parse(t),void(e._rendered&&e._repaint())):e.color().toHex()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){function t(){var t,e,n,i,s="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",i=o.split(","),t=0,e=i.length-1;e>t;t++)s+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/e+"%;"+n+i[t]+",endColorstr="+i[t+1]+");-ms-"+n+i[t]+",endColorstr="+i[t+1]+')"></div>';return s}var e,n=this,i=n._id,r=n.classPrefix,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",s="background: -ms-linear-gradient(top,"+o+");background: linear-gradient(to bottom,"+o+");";return e='<div id="'+i+'-h" class="'+r+'colorpicker-h" style="'+s+'">'+t()+'<div id="'+i+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+i+'" class="'+n.classes+'"><div id="'+i+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+i+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),i("tinymce/ui/Path",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;t.delimiter||(t.delimiter="»"),e._super(t),e.classes.add("path"),e.canFocus=!0,e.on("click",function(t){var n,i=t.target;(n=i.getAttribute("data-index"))&&e.fire("select",{value:e.row()[n],index:n})}),e.row(e.settings.row)},focus:function(){var t=this;return t.getEl().firstChild.focus(),t},row:function(t){return arguments.length?(this.state.set("row",t),this):this.state.get("row")},renderHtml:function(){var t=this;return'<div id="'+t._id+'" class="'+t.classes+'">'+t._getDataPathHtml(t.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(t){var e,n,i=this,r=t||[],o="",s=i.classPrefix;for(e=0,n=r.length;n>e;e++)o+=(e>0?'<div class="'+s+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+s+"path-item"+(e==n-1?" "+s+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+i._id+"-"+e+'" aria-level="'+e+'">'+r[e].name+"</div>";return o||(o='<div class="'+s+'path-item"> </div>'),o}})}),i("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(t,e){return t.extend({postRender:function(){function t(t){if(1===t.nodeType){if("BR"==t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1}var n=this,i=e.activeEditor;return i.settings.elementpath!==!1&&(n.on("select",function(t){i.focus(),i.selection.select(this.row()[t.index].element),i.nodeChanged()}),i.on("nodeChange",function(e){for(var r=[],o=e.parents,s=o.length;s--;)if(1==o[s].nodeType&&!t(o[s])){var a=i.fire("ResolveName",{name:o[s].nodeName.toLowerCase(),target:o[s]});if(a.isDefaultPrevented()||r.push({name:a.name,element:o[s]}),a.isPropagationStopped())break}n.row(r)})),n._super()}})}),i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.classes.add("formitem"),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<div id="'+t._id+'-title" class="'+n+'title">'+t.settings.title+"</div>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(t,e,n){return t.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var t=this,i=t.items();t.settings.formItemDefaults||(t.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each(function(i){var r,o=i.settings.label;o&&(r=new e(n.extend({items:{type:"label",id:i._id+"-l",text:o,flex:0,forId:i._id,disabled:i.disabled()}},t.settings.formItemDefaults)),r.type="formitem",i.aria("labelledby",i._id+"-l"),"undefined"==typeof i.settings.flex&&(i.settings.flex=1),t.replace(i,r),r.add(i))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var t=this;t._super(),t.fromJSON(t.settings.data)},bindStates:function(){function t(){var t,n,i,r=0,o=[];if(e.settings.labelGapCalc!==!1)for(i="children"==e.settings.labelGapCalc?e.find("formitem"):e.items(),i.filter("formitem").each(function(t){var e=t.items()[0],n=e.getEl().clientWidth;r=n>r?n:r,o.push(e)}),n=e.settings.labelGap||0,t=o.length;t--;)o[t].settings.minWidth=r+n}var e=this;e._super(),e.on("show",t),t()}})}),i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(t){return t.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.preRender(),e.preRender(t),'<fieldset id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<legend id="'+t._id+'-title" class="'+n+'fieldset-title">'+t.settings.title+"</legend>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></fieldset>"}})}),i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(t,e){return t.extend({init:function(t){var n,i,r,o=this,s=tinymce.activeEditor,a=s.settings;t.spellcheck=!1,r=a.file_picker_types||a.file_browser_callback_types,r&&(r=e.makeMap(r,/[, ]/)),(!r||r[t.filetype])&&(i=a.file_picker_callback,!i||r&&!r[t.filetype]?(i=a.file_browser_callback,!i||r&&!r[t.filetype]||(n=function(){i(o.getEl("inp").id,o.value(),t.filetype,window)})):n=function(){var n=o.fire("beforecall").meta;n=e.extend({filetype:t.filetype},n),i.call(s,function(t,e){o.value(t).fire("change",{meta:e})},o.value(),n)}),n&&(t.icon="browse",t.onaction=n),o._super(t)}})}),i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e=t.layoutRect(),n=t.paddingBox;t.items().filter(":visible").each(function(t){t.layoutRect({x:n.left,y:n.top,w:e.innerW-n.right-n.left,h:e.innerH-n.top-n.bottom}),t.recalc&&t.recalc()})}})}),i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D,E,O,A,P,L,I,N,R,B,H=[],F=Math.max,z=Math.min;for(i=t.items().filter(":visible"),r=t.layoutRect(),o=t.paddingBox,s=t.settings,h=t.isRtl()?s.direction||"row-reversed":s.direction,a=s.align,l=t.isRtl()?s.pack||"end":s.pack,u=s.spacing||0,("row-reversed"==h||"column-reverse"==h)&&(i=i.set(i.toArray().reverse()),h=h.split("-")[0]),"column"==h?($="y",k="h",C="minH",M="maxH",T="innerH",S="top",D="deltaH",E="contentH",I="left",P="w",O="x",A="innerW",L="minW",N="right",R="deltaW",B="contentW"):($="x",k="w",C="minW",M="maxW",T="innerW",S="left",D="deltaW",E="contentW",I="top",P="h",O="y",A="innerH",L="minH",N="bottom",R="deltaH",B="contentH"),d=r[T]-o[S]-o[S],x=c=0,e=0,n=i.length;n>e;e++)p=i[e],f=p.layoutRect(),g=p.settings,m=g.flex,d-=n-1>e?u:0,m>0&&(c+=m,f[M]&&H.push(p),f.flex=m),d-=f[C],v=o[I]+f[L]+o[N],v>x&&(x=v);if(w={},w[C]=0>d?r[C]-d+r[D]:r[T]-d+r[D],w[L]=x+r[R],w[E]=r[T]-d,w[B]=x,w.minW=z(w.minW,r.maxW),w.minH=z(w.minH,r.maxH),w.minW=F(w.minW,r.startMinWidth),w.minH=F(w.minH,r.startMinHeight),!r.autoResize||w.minW==r.minW&&w.minH==r.minH){for(b=d/c,e=0,n=H.length;n>e;e++)p=H[e],f=p.layoutRect(),y=f[M],v=f[C]+f.flex*b,v>y?(d-=f[M]-f[C],c-=f.flex,f.flex=0,f.maxFlexSize=y):f.maxFlexSize=0;for(b=d/c,_=o[S],w={},0===c&&("end"==l?_=d+o[S]:"center"==l?(_=Math.round(r[T]/2-(r[T]-d)/2)+o[S],0>_&&(_=o[S])):"justify"==l&&(_=o[S],u=Math.floor(d/(i.length-1)))),w[O]=o[I],e=0,n=i.length;n>e;e++)p=i[e],f=p.layoutRect(),v=f.maxFlexSize||f[C],"center"===a?w[O]=Math.round(r[A]/2-f[P]/2):"stretch"===a?(w[P]=F(f[L]||0,r[A]-o[I]-o[N]),w[O]=o[I]):"end"===a&&(w[O]=r[A]-f[P]-o.top),f.flex>0&&(v+=f.flex*b),w[k]=v,w[$]=_,p.layoutRect(w),p.recalc&&p.recalc(),_+=v+u}else if(w.w=w.minW,w.h=w.minH,t.layoutRect(w),this.recalc(t),null===t._lastRect){var W=t.parent();W&&(W._lastRect=null,W.recalc())}}})}),i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(t){t.items().filter(":visible").each(function(t){t.recalc&&t.recalc()})},isNative:function(){return!0}})}),i("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(t,e,n,i,r,o){function s(t){function e(e,n){return function(){var i=this;t.on("nodeChange",function(r){var o=t.formatter,s=null;a(r.parents,function(t){return a(e,function(e){return n?o.matchNode(t,n,{value:e.value})&&(s=e.value):o.matchNode(t,e.value)&&(s=e.value),s?!1:void 0}),s?!1:void 0}),i.value(s)})}}function i(t){t=t.replace(/;$/,"").split(";");for(var e=t.length;e--;)t[e]=t[e].split("=");return t}function r(){function e(t){var n=[];if(t)return a(t,function(t){var o={text:t.title,icon:t.icon};if(t.items)o.menu=e(t.items);else{var s=t.format||"custom"+i++;t.format||(t.name=s,r.push(t)),o.format=s,o.cmd=t.cmd}n.push(o)}),n}function n(){var n;return n=e(t.settings.style_formats_merge?t.settings.style_formats?o.concat(t.settings.style_formats):o:t.settings.style_formats||o)}var i=0,r=[],o=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return t.on("init",function(){a(r,function(e){t.formatter.register(e.name,e)})}),{type:"menu",items:n(),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?t.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var e=this;e.parent().on("show",function(){var n,i;n=e.settings.format,n&&(e.disabled(!t.formatter.canApply(n)),e.active(t.formatter.match(n))),i=e.settings.cmd,i&&e.active(t.queryCommandState(i))})},onclick:function(){this.settings.format&&u(this.settings.format),this.settings.cmd&&t.execCommand(this.settings.cmd)}}}}function o(e){return function(){var n=this;t.formatter?t.formatter.formatChanged(e,function(t){n.active(t)}):t.on("init",function(){t.formatter.formatChanged(e,function(t){n.active(t)})})}}function s(e){return function(){function n(){return t.undoManager?t.undoManager[e]():!1}var i=this;e="redo"==e?"hasRedo":"hasUndo",i.disabled(!n()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){i.disabled(t.readonly||!n())})}}function l(){var e=this;t.on("VisualAid",function(t){e.active(t.hasVisual)}),e.active(t.hasVisual)}function u(e){e.control&&(e=e.control.value()),e&&t.execCommand("mceToggleFormat",!1,e)}var c;c=r(),a({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,n){t.addButton(n,{tooltip:e,onPostRender:o(n),onclick:function(){u(n)}})}),a({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1]})}),a({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1],onPostRender:o(n)})}),t.addButton("undo",{tooltip:"Undo",onPostRender:s("undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:s("redo"),cmd:"redo"}),t.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:s("undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:s("redo"),cmd:"redo"}),t.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:l,cmd:"mceToggleVisualAid"}),t.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),a({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,n){t.addMenuItem(n,{text:e[0],icon:n,shortcut:e[2],cmd:e[1]})}),t.on("mousedown",function(){n.hideAll()}),t.addButton("styleselect",{type:"menubutton",text:"Formats",menu:c}),t.addButton("formatselect",function(){var n=[],r=i(t.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return a(r,function(e){n.push({text:e[0],value:e[1],textStyle:function(){return t.formatter.getCssText(e[1])}})}),{type:"listbox",text:r[0][0],values:n,fixedWidth:!0,onselect:u,onPostRender:e(n)}}),t.addButton("fontselect",function(){var n="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",r=[],o=i(t.settings.font_formats||n);return a(o,function(t){r.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:r,fixedWidth:!0,onPostRender:e(r,"fontname"),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}}),t.addButton("fontsizeselect",function(){var n=[],i="8pt 10pt 12pt 14pt 18pt 24pt 36pt",r=t.settings.fontsize_formats||i;return a(r.split(" "),function(t){var e=t,i=t,r=t.split("=");r.length>1&&(e=r[0],i=r[1]),n.push({text:e,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:n,fixedWidth:!0,onPostRender:e(n,"fontsize"),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}}),t.addMenuItem("formats",{text:"Formats",menu:c})}var a=i.each;r.on("AddEditor",function(e){e.editor.rtl&&(t.rtl=!0),s(e.editor)}),t.translate=function(t){return r.translate(t)},e.tooltips=!o.iOS}),i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D,E=[],O=[];e=t.settings,r=t.items().filter(":visible"),o=t.layoutRect(),i=e.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),y=e.spacingH||e.spacing||0,b=e.spacingV||e.spacing||0,w=e.alignH||e.align,_=e.alignV||e.align,m=t.paddingBox,T="reverseRows"in e?e.reverseRows:t.isRtl(),w&&"string"==typeof w&&(w=[w]),_&&"string"==typeof _&&(_=[_]);for(d=0;i>d;d++)E.push(0);for(h=0;n>h;h++)O.push(0);for(h=0;n>h;h++)for(d=0;i>d&&(c=r[h*i+d],c);d++)u=c.layoutRect(),C=u.minW,$=u.minH,E[d]=C>E[d]?C:E[d],O[h]=$>O[h]?$:O[h];for(M=o.innerW-m.left-m.right,x=0,d=0;i>d;d++)x+=E[d]+(d>0?y:0),M-=(d>0?y:0)+E[d];for(S=o.innerH-m.top-m.bottom,k=0,h=0;n>h;h++)k+=O[h]+(h>0?b:0),S-=(h>0?b:0)+O[h];if(x+=m.left+m.right,k+=m.top+m.bottom,l={},l.minW=x+(o.w-o.innerW),l.minH=k+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){o.autoResize&&(l=t.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var A;A="start"==e.packV?0:S>0?Math.floor(S/n):0;var P=0,L=e.flexWidths;if(L)for(d=0;d<L.length;d++)P+=L[d];else P=i;var I=M/P;for(d=0;i>d;d++)E[d]+=L?L[d]*I:I;for(f=m.top,h=0;n>h;h++){for(p=m.left,a=O[h]+A,d=0;i>d&&(D=T?h*i+i-1-d:h*i+d,c=r[D],c);d++)g=c.settings,u=c.layoutRect(),s=Math.max(E[d],u.startMinWidth),u.x=p,u.y=f,v=g.alignH||(w?w[d]||w[0]:null),"center"==v?u.x=p+s/2-u.w/2:"right"==v?u.x=p+s-u.w:"stretch"==v&&(u.w=s),v=g.alignV||(_?_[d]||_[0]:null),"center"==v?u.y=f+a/2-u.h/2:"bottom"==v?u.y=f+a-u.h:"stretch"==v&&(u.h=a),c.layoutRect(u),p+=s+y,c.recalc&&c.recalc();f+=a+b}}else if(l.w=l.minW,l.h=l.minH,t.layoutRect(l),this.recalc(t),null===t._lastRect){var N=t.parent();N&&(N._lastRect=null,N.recalc())}}})}),i("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(t,e){return t.extend({renderHtml:function(){var t=this;return t.classes.add("iframe"),t.canFocus=!1,'<iframe id="'+t._id+'" class="'+t.classes+'" tabindex="-1" src="'+(t.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(t){this.getEl().src=t},html:function(t,n){var i=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=t,n&&n()):e.setTimeout(function(){i.html(t)}),this}})}),i("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("infobox"),e.canFocus=!1},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},help:function(t){this.state.set("help",t)},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+t.encode(t.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),i("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(t,e){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("label"),e.canFocus=!1,t.multiline&&e.classes.add("autoscroll"),t.strong&&e.classes.add("strong")},initLayoutRect:function(){var t=this,n=t._super();if(t.settings.multiline){var i=e.getSize(t.getEl());i.width>n.maxW&&(n.minW=n.maxW,t.classes.add("multiline")),t.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,e.getSize(t.getEl()).height)}return n},repaint:function(){var t=this;return t.settings.multiline||(t.getEl().style.lineHeight=t.layoutRect().h+"px"),t._super()},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},renderHtml:function(){var t,e,n=this,i=n.settings.forId;return!i&&(e=n.settings.forName)&&(t=n.getRoot().find("#"+e)[0],t&&(i=t._id)),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),i("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(t){var e=this;e._super(t),e.classes.add("toolbar")},postRender:function(){var t=this;return t.items().each(function(t){t.classes.add("toolbar-item")}),t._super()}})}),i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(t){return t.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(t,e,n){function i(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1}var r=t.extend({init:function(t){var e=this;e._renderOpen=!0,e._super(t),t=e.settings,e.classes.add("menubtn"),t.fixedWidth&&e.classes.add("fixed-width"),e.aria("haspopup",!0),e.state.set("menu",t.menu||e.render())},showMenu:function(){var t,n=this;return n.menu&&n.menu.visible()?n.hideMenu():(n.menu||(t=n.state.get("menu")||[],t.length?t={type:"menu",items:t}:t.type=t.type||"menu",n.menu=t.renderTo?t.parent(n).show().renderTo():e.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(t){t.control.parent()===n.menu&&(t.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(t){t.control==n.menu&&n.activeMenu("show"==t.type),n.aria("expanded","show"==t.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),void n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var t=this;t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide())},activeMenu:function(t){this.classes.toggle("active",t)},renderHtml:function(){var t,e=this,i=e._id,r=e.classPrefix,o=e.settings.icon,s=e.state.get("text"),a="";return t=e.settings.image,t?(o="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",s&&(e.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+e.encode(s)+"</span>"),o=e.settings.icon?r+"ico "+r+"i-"+o:"",e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+i+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+a+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var t=this;return t.on("click",function(e){e.control===t&&i(e.target,t.getEl())&&(t.showMenu(),e.aria&&t.menu.items()[0].focus())}),t.on("mouseenter",function(e){var n,i=e.control,o=t.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(t){t.hideMenu&&t!=i&&(t.menu&&t.menu.visible()&&(n=!0),t.hideMenu())}),n&&(i.focus(),i.showMenu()))}),t._super()},bindStates:function(){var t=this;return t.state.on("change:menu",function(){t.menu&&t.menu.remove(),t.menu=null}),t._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(t,e,n,i){return t.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var e,n=this;n._super(t),t=n.settings,n.classes.add("menu-item"),t.menu&&n.classes.add("menu-item-expand"),t.preview&&n.classes.add("menu-item-preview"),e=n.state.get("text"),("-"===e||"|"===e)&&(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),t.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),t.icon="selected"),t.preview||t.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(t){t.preventDefault()}),t.menu&&!t.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,i=n.settings,r=n.parent();if(r.items().each(function(t){t!==n&&t.hideMenu()}),i.menu){t=n.menu,t?t.show():(t=i.menu,t.length?t={type:"menu",items:t}:t.type=t.type||"menu",r.settings.itemDefaults&&(t.itemDefaults=r.settings.itemDefaults),t=n.menu=e.create(t).parent(n).renderTo(),t.reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(t){t.control.items().each(function(t){t.active(t.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=r,t.classes.add("menu-sub");var o=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),o),t.rel=o,o="menu-sub-"+o,t.classes.remove(t._lastRel).add(o),t._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var t=this;return t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide(),t.aria("expanded",!1)),t},renderHtml:function(){function t(t){var e,i,r={};for(r=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},t=t.split("+"),e=0;e<t.length;e++)i=r[t[e].toLowerCase()],i&&(t[e]=i);
return t.join("+")}var e=this,i=e._id,r=e.settings,o=e.classPrefix,s=e.encode(e.state.get("text")),a=e.settings.icon,l="",u=r.shortcut;return a&&e.parent().classes.add("menu-has-icons"),r.image&&(l=" style=\"background-image: url('"+r.image+"')\""),u&&(u=t(u)),a=o+"ico "+o+"i-"+(e.settings.icon||"none"),'<div id="'+i+'" class="'+e.classes+'" tabindex="-1">'+("-"!==s?'<i class="'+a+'"'+l+"></i> ":"")+("-"!==s?'<span id="'+i+'-text" class="'+o+'text">'+s+"</span>":"")+(u?'<div id="'+i+'-shortcut" class="'+o+'menu-shortcut">'+u+"</div>":"")+(r.menu?'<div class="'+o+'caret"></div>':"")+"</div>"},postRender:function(){var t=this,e=t.settings,n=e.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var r=t.getEl("text");r&&r.setAttribute("style",n)}return t.on("mouseenter click",function(n){n.control===t&&(e.menu||"click"!==n.type?(t.showMenu(),n.aria&&t.menu.focus(!0)):(t.fire("select"),i.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){var t=this;return t.parent().items().each(function(t){t.classes.remove("selected")}),t.classes.toggle("selected",!0),t},active:function(t){return"undefined"!=typeof t&&this.aria("checked",t),this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),i("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(t,e,n){return function(i,r){var o,s,a=this,l=e.classPrefix;a.show=function(e,u){function c(){o&&(t(i).append('<div class="'+l+"throbber"+(r?" "+l+"throbber-inline":"")+'"></div>'),u&&u())}return a.hide(),o=!0,e?s=n.setTimeout(c,e):c(),a},a.hide=function(){var t=i.lastChild;return n.clearTimeout(s),t&&-1!=t.className.indexOf("throbber")&&t.parentNode.removeChild(t),o=!1,a}}}),i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(t,e,n,i){return t.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){var e=this;if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var n=t.items,r=n.length;r--;)n[r]=i.extend({},t.itemDefaults,n[r]);e._super(t),e.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var t=this;t.hideAll(),t.fire("select")},load:function(){function t(){r.throbber&&(r.throbber.hide(),r.throbber=null)}var e,i,r=this;i=r.settings.itemsFactory,i&&(r.throbber||(r.throbber=new n(r.getEl("body"),!0),0===r.items().length?(r.throbber.show(),r.fire("loading")):r.throbber.show(100,function(){r.items().remove(),r.fire("loading")}),r.on("hide close",t)),r.requestTime=e=(new Date).getTime(),r.settings.itemsFactory(function(n){return 0===n.length?void r.hide():void(r.requestTime===e&&(r.getEl().style.width="",r.getEl("body").style.width="",t(),r.items().remove(),r.getEl("body").innerHTML="",r.add(n),r.renderNew(),r.fire("loaded")))}))},hideAll:function(){var t=this;return this.find("menuitem").exec("hideMenu"),t._super()},preRender:function(){var t=this;return t.items().each(function(e){var n=e.settings;return n.icon||n.image||n.selectable?(t._hasIcons=!0,!1):void 0}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t._super()}})}),i("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(t,e){return t.extend({init:function(t){function e(n){for(var o=0;o<n.length;o++){if(i=n[o].selected||t.value===n[o].value)return r=r||n[o].text,s.state.set("value",n[o].value),!0;if(n[o].menu&&e(n[o].menu))return!0}}var n,i,r,o,s=this;s._super(t),t=s.settings,s._values=n=t.values,n&&("undefined"!=typeof t.value&&e(n),!i&&n.length>0&&(r=n[0].text,s.state.set("value",n[0].value)),s.state.set("menu",n)),s.state.set("text",t.text||r),s.classes.add("listbox"),s.on("select",function(e){var n=e.control;o&&(e.lastControl=o),t.multiple?n.active(!n.active()):s.value(e.control.value()),o=n})},bindStates:function(){function t(t,n){t instanceof e&&t.items().each(function(t){t.hasMenus()||t.active(t.value()===n)})}function n(t,e){var i;if(t)for(var r=0;r<t.length;r++){if(t[r].value===e)return t[r];if(t[r].menu&&(i=n(t[r].menu,e)))return i}}var i=this;return i.on("show",function(e){t(e.control,i.value())}),i.state.on("change:value",function(t){var e=n(i.state.get("menu"),t.value);i.text(e?e.text:i.settings.text)}),i._super()}})}),i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(t){return t.extend({Defaults:{classes:"radio",role:"radio"}})}),i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(t,e){return t.extend({renderHtml:function(){var t=this,e=t.classPrefix;return t.classes.add("resizehandle"),"both"==t.settings.direction&&t.classes.add("resizehandle-both"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new e(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),i("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(t){function e(t){var e="";if(t)for(var n=0;n<t.length;n++)e+='<option value="'+t[n]+'">'+t[n]+"</option>";return e}return t.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(t){var e=this;e._super(t),e.settings.size&&(e.size=e.settings.size),e.settings.options&&(e._options=e.settings.options),e.on("keydown",function(t){var n;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){return t.toJSON?(n=t,!1):void 0}),e.fire("submit",{data:n.toJSON()}))})},options:function(t){return arguments.length?(this.state.set("options",t),this):this.state.get("options")},renderHtml:function(){var t,n=this,i="";return t=e(n._options),n.size&&(i=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+i+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(n){t.getEl().innerHTML=e(n.value)}),t._super()}})}),i("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(t,e,n){function i(t,e,n){return e>t&&(t=e),t>n&&(t=n),t}function r(t,e,n){t.setAttribute("aria-"+e,n)}function o(t,e){var i,o,s,a,l,u;"v"==t.settings.orientation?(a="top",s="height",o="h"):(a="left",s="width",o="w"),u=t.getEl("handle"),i=(t.layoutRect()[o]||100)-n.getSize(u)[s],l=i*((e-t._minValue)/(t._maxValue-t._minValue))+"px",u.style[a]=l,u.style.height=t.layoutRect().h+"px",r(u,"valuenow",e),r(u,"valuetext",""+t.settings.previewFilter(e)),r(u,"valuemin",t._minValue),r(u,"valuemax",t._maxValue)}return t.extend({init:function(t){var e=this;t.previewFilter||(t.previewFilter=function(t){return Math.round(100*t)/100}),e._super(t),e.classes.add("slider"),"v"==t.orientation&&e.classes.add("vertical"),e._minValue=t.minValue||0,e._maxValue=t.maxValue||100,e._initValue=e.state.get("value")},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div id="'+e+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function t(t,e,n){return(n+t)/(e-t)}function r(t,e,n){return n*(e-t)-t}function o(e,n){function o(o){var s;s=p.value(),s=r(e,n,t(e,n,s)+.05*o),s=i(s,e,n),p.value(s),p.fire("dragstart",{value:s}),p.fire("drag",{value:s}),p.fire("dragend",{value:s})}p.on("keydown",function(t){switch(t.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1)}})}function s(t,r,o){var s,a,l,f,g;p._dragHelper=new e(p._id,{handle:p._id+"-handle",start:function(t){s=t[u],a=parseInt(p.getEl("handle").style[c],10),l=(p.layoutRect()[h]||100)-n.getSize(o)[d],p.fire("dragstart",{value:g})},drag:function(e){var n=e[u]-s;f=i(a+n,0,l),o.style[c]=f+"px",g=t+f/l*(r-t),p.value(g),p.tooltip().text(""+p.settings.previewFilter(g)).show().moveRel(o,"bc tc"),p.fire("drag",{value:g})},stop:function(){p.tooltip().hide(),p.fire("dragend",{value:g})}})}var a,l,u,c,d,h,p=this;a=p._minValue,l=p._maxValue,"v"==p.settings.orientation?(u="screenY",c="top",d="height",h="h"):(u="screenX",c="left",d="width",h="w"),p._super(),o(a,l,p.getEl("handle")),s(a,l,p.getEl("handle"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){o(t,e.value)}),t._super()}})}),i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(t){return t.extend({renderHtml:function(){var t=this;return t.classes.add("spacer"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"></div>'}})}),i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(t,e,n){return t.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var t,i,r=this,o=r.getEl(),s=r.layoutRect();return r._super(),t=o.firstChild,i=o.lastChild,n(t).css({width:s.w-e.getSize(i).width,height:s.h-2}),n(i).css({height:s.h-2}),r},activeMenu:function(t){var e=this;n(e.getEl().lastChild).toggleClass(e.classPrefix+"active",t)},renderHtml:function(){var t,e=this,n=e._id,i=e.classPrefix,r=e.state.get("icon"),o=e.state.get("text"),s="";return t=e.settings.image,t?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",r=e.settings.icon?i+"ico "+i+"i-"+r:"",o&&(e.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+e.encode(o)+"</span>"),'<div id="'+n+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+s+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(r?" ":"")+e._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(t){var n=t.target;if(t.control==this)for(;n;){if(t.aria&&"down"!=t.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return t.stopImmediatePropagation(),void(e&&e.call(this,t));n=n.parentNode}}),delete t.settings.onclick,t._super()}})}),i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(t){return t.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(t,e,n){return t.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(t){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),e(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+t,n=this.getEl("t"+t),n.setAttribute("aria-selected","true"),e(n).addClass(this.classPrefix+"active"),this.items()[t].show().fire("showtab"),this.reflow(),this.items().each(function(e,n){t!=n&&e.hide()})},renderHtml:function(){var t=this,e=t._layout,n="",i=t.classPrefix;return t.preRender(),e.preRender(t),t.items().each(function(e,r){var o=t._id+"-t"+r;e.aria("role","tabpanel"),e.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+t.encode(e.settings.title)+"</div>"}),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1"><div id="'+t._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div></div>"},postRender:function(){var t=this;t._super(),t.settings.activeTab=t.settings.activeTab||0,t.activateTab(t.settings.activeTab),this.on("click",function(e){var n=e.target.parentNode;if(e.target.parentNode.id==t._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==e.target&&t.activateTab(i)})},initLayoutRect:function(){var t,e,i,r=this;e=n.getSize(r.getEl("head")).width,e=0>e?0:e,i=0,r.items().each(function(t){e=Math.max(e,t.layoutRect().minW),i=Math.max(i,t.layoutRect().minH)}),r.items().each(function(t){t.settings.x=0,t.settings.y=0,t.settings.w=e,t.settings.h=i,t.layoutRect({x:0,y:0,w:e,h:i})});var o=n.getSize(r.getEl("head")).height;return r.settings.minWidth=e,r.settings.minHeight=i+o,t=r._super(),t.deltaH+=o,t.innerH=t.h-t.deltaH,t}})}),i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(t,e,n){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("textbox"),t.multiline?e.classes.add("multiline"):(e.on("keydown",function(t){var n;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){return t.toJSON?(n=t,!1):void 0}),e.fire("submit",{data:n.toJSON()}))}),e.on("keyup",function(t){e.state.set("value",t.target.value)}))},repaint:function(){var t,e,n,i,r,o=this,s=0;t=o.getEl().style,e=o._layoutRect,r=o._lastRepaintRect||{};var a=document;return!o.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(t.lineHeight=e.h-s+"px"),n=o.borderBox,i=n.left+n.right+8,s=n.top+n.bottom+(o.settings.multiline?8:0),e.x!==r.x&&(t.left=e.x+"px",r.x=e.x),e.y!==r.y&&(t.top=e.y+"px",r.y=e.y),e.w!==r.w&&(t.width=e.w-i+"px",r.w=e.w),e.h!==r.h&&(t.height=e.h-s+"px",r.h=e.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var t,i,r=this,o=r.settings;return t={id:r._id,hidefocus:"1"},e.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=o[e]}),r.disabled()&&(t.disabled="disabled"),o.subtype&&(t.type=o.subtype),i=n.create(o.multiline?"textarea":"input",t),i.value=r.state.get("value"),i.className=r.classes,i.outerHTML},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),i("tinymce/Register",[],function(){var t=this||window,e=function(){return t.tinymce};return"function"==typeof t.define&&(t.define.amd||t.define("ephox/tinymce",[],e)),{}}),o(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"])}(this),function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i=arguments[0];for(n="["+(t?t+":":"")+i+"] http://errors.angularjs.org/1.6.4/"+(t?t+"/":"")+i,i=1;i<arguments.length;i++){n=n+(1==i?"?":"&")+"p"+(i-1)+"=";var r,o=encodeURIComponent;r=arguments[i],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,n+=o(r)}return new e(n)}}function n(t){return w(t)?void(b(t.objectMaxDepth)&&(ur.objectMaxDepth=i(t.objectMaxDepth)?t.objectMaxDepth:0/0)):ur}function i(t){return k(t)&&t>0}function r(t){if(null==t||S(t))return!1;if(_r(t)||x(t)||rr&&t instanceof rr)return!0;var e="length"in Object(t)&&t.length;return k(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var i,s;if(t)if($(t))for(i in t)"prototype"!==i&&"length"!==i&&"name"!==i&&t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else if(_r(t)||r(t)){var a="object"!=typeof t;for(i=0,s=t.length;s>i;i++)(a||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(_(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)lr.call(t,i)&&e.call(n,t[i],i,t);return t}function s(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function a(t){return function(e,n){t(n,e)}}function l(){return++br}function u(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;o>r;++r){var s=e[r];if(w(s)||$(s))for(var a=Object.keys(s),l=0,c=a.length;c>l;l++){var d=a[l],h=s[d];n&&w(h)?C(h)?t[d]=new Date(h.valueOf()):M(h)?t[d]=new RegExp(h):h.nodeName?t[d]=h.cloneNode(!0):O(h)?t[d]=h.clone():(w(t[d])||(t[d]=_r(h)?[]:{}),u(t[d],[h],!0)):t[d]=h}}return i?t.$$hashKey=i:delete t.$$hashKey,t}function c(t){return u(t,hr.call(arguments,1),!1)}function d(t){return u(t,hr.call(arguments,1),!0)}function h(t){return parseInt(t,10)}function p(t,e){return c(Object.create(t),e)}function f(){}function g(t){return t}function m(t){return function(){return t}}function v(t){return $(t.toString)&&t.toString!==gr}function y(t){return"undefined"==typeof t}function b(t){return"undefined"!=typeof t}function w(t){return null!==t&&"object"==typeof t}function _(t){return null!==t&&"object"==typeof t&&!mr(t)}function x(t){return"string"==typeof t}function k(t){return"number"==typeof t}function C(t){return"[object Date]"===gr.call(t)}function $(t){return"function"==typeof t}function M(t){return"[object RegExp]"===gr.call(t)}function S(t){return t&&t.window===t}function T(t){return t&&t.$evalAsync&&t.$watch}function D(t){return"boolean"==typeof t}function E(t){return t&&k(t.length)&&xr.test(gr.call(t))}function O(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function A(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function P(t){return cr(t.nodeName||t[0]&&t[0].nodeName)}function L(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function I(t,e,n){function r(t,e,n){if(n--,0>n)return"...";var i,r=e.$$hashKey;if(_r(t)){i=0;for(var o=t.length;o>i;i++)e.push(s(t[i],n))}else if(_(t))for(i in t)e[i]=s(t[i],n);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=s(t[i],n));else for(i in t)lr.call(t,i)&&(e[i]=s(t[i],n));return r?e.$$hashKey=r:delete e.$$hashKey,e}function s(t,e){if(!w(t))return t;var n=l.indexOf(t);if(-1!==n)return u[n];if(S(t)||T(t))throw vr("cpws");var n=!1,i=a(t);return void 0===i&&(i=_r(t)?[]:Object.create(mr(t)),n=!0),l.push(t),u.push(i),n?r(t,i,e):i}function a(t){switch(gr.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(s(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":return e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex,e;case"[object Blob]":return new t.constructor([t],{type:t.type})}return $(t.cloneNode)?t.cloneNode(!0):void 0}var l=[],u=[];if(n=i(n)?n:0/0,e){if(E(e)||"[object ArrayBuffer]"===gr.call(e))throw vr("cpta");if(t===e)throw vr("cpi");return _r(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),l.push(t),u.push(e),r(t,e,n)}return s(t,n)}function N(t,e){return t===e||t!==t&&e!==e}function R(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i=typeof t;if(i===typeof e&&"object"===i){if(!_r(t)){if(C(t))return C(e)?N(t.getTime(),e.getTime()):!1;if(M(t))return M(e)?t.toString()===e.toString():!1;if(T(t)||T(e)||S(t)||S(e)||_r(e)||C(e)||M(e))return!1;i=ue();for(n in t)if("$"!==n.charAt(0)&&!$(t[n])){if(!R(t[n],e[n]))return!1;i[n]=!0}for(n in e)if(!(n in i)&&"$"!==n.charAt(0)&&b(e[n])&&!$(e[n]))return!1;return!0}if(!_r(e))return!1;if((i=t.length)===e.length){for(n=0;i>n;n++)if(!R(t[n],e[n]))return!1;return!0}}return!1}function B(t,e,n){return t.concat(hr.call(e,n))}function H(t,e){var n=2<arguments.length?hr.call(arguments,2):[];return!$(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,B(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function F(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:S(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":T(n)&&(i="$SCOPE"),i}function z(t,e){return y(t)?void 0:(k(e)||(e=e?2:null),JSON.stringify(t,F,e))}function W(t){return x(t)?JSON.parse(t):t}function j(t,e){t=t.replace(Sr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return wr(n)?e:n}function G(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset();return e=j(e,i),n*=e-i,t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function V(t){t=rr(t).clone();try{t.empty()}catch(e){}var n=rr("<div>").append(t).html();try{return t[0].nodeType===Ar?cr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+cr(e)})}catch(i){return cr(n)}}function U(t){try{return decodeURIComponent(t)}catch(e){}}function q(t){var e={};return o((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(i=t.substring(0,n),r=t.substring(n+1)),i=U(i),b(i)&&(r=b(r)?U(r):!0,lr.call(e,i)?_r(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function Y(t){var e=[];return o(t,function(t,n){_r(t)?o(t,function(t){e.push(X(n,!0)+(!0===t?"":"="+X(t,!0)))}):e.push(X(n,!0)+(!0===t?"":"="+X(t,!0)))}),e.length?e.join("&"):""}function K(t){return X(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function X(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function Z(t,e){var n,i,r=Tr.length;for(i=0;r>i;++i)if(n=Tr[i]+e,x(n=t.getAttribute(n)))return n;return null}function J(e,n){var i,r,s={};o(Tr,function(t){t+="app",!i&&e.hasAttribute&&e.hasAttribute(t)&&(i=e,r=e.getAttribute(t))}),o(Tr,function(t){t+="app";var n;!i&&(n=e.querySelector("["+t.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(t))}),i&&(Dr?(s.strictDi=null!==Z(i,"strict-di"),n(i,r?[r]:[],s)):t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Q(e,n,i){w(i)||(i={}),i=c({strictDi:!1},i);var r=function(){if(e=rr(e),e.injector()){var r=e[0]===t.document?"document":V(e);throw vr("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng"),r=Ve(n,i.strictDi),r.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),r},s=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!a.test(t.name)?r():(t.name=t.name.replace(a,""),yr.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),r()},void($(yr.resumeDeferredBootstrap)&&yr.resumeDeferredBootstrap()))}function te(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ee(t){if(t=yr.element(t).injector(),!t)throw vr("test");return t.get("$$testability")}function ne(t,e){return e=e||"_",t.replace(Er,function(t,n){return(n?e:"")+t.toLowerCase()})}function ie(){var e;if(!Or){var n=Mr();(or=y(n)?t.jQuery:n?t[n]:void 0)&&or.fn.on?(rr=or,c(or.fn,{scope:Ur.scope,isolateScope:Ur.isolateScope,controller:Ur.controller,injector:Ur.injector,inheritedData:Ur.inheritedData}),e=or.cleanData,or.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)(n=or._data(i,"events"))&&n.$destroy&&or(i).triggerHandler("$destroy");e(t)}):rr=be,yr.element=rr,Or=!0}}function re(t,e,n){if(!t)throw vr("areq",e||"?",n||"required");return t}function oe(t,e,n){return n&&_r(t)&&(t=t[t.length-1]),re($(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function se(t,e){if("hasOwnProperty"===t)throw vr("badname",e)}function ae(t,e,n){if(!e)return t;e=e.split(".");for(var i,r=t,o=e.length,s=0;o>s;s++)i=e[s],t&&(t=(r=t)[i]);return!n&&$(t)?H(r,t):t}function le(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=rr(hr.call(t,0,r))),e.push(n));return e||t}function ue(){return Object.create(null)}function ce(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!v(t)||_r(t)||C(t)?z(t):t.toString()}return t}function de(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),r=e("ng");return t=n(t,"angular",Object),t.$$minErr=t.$$minErr||e,n(t,"module",function(){var t={};return function(e,o,s){var a={};if("hasOwnProperty"===e)throw r("badname","module");return o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=l),function(){return i[n||"push"]([t,e,arguments]),h}}function n(t,n,i){return i||(i=l),function(r,o){return o&&$(o)&&(o.$$moduleName=e),i.push([t,n,arguments]),h}}if(!o)throw i("nomod",e);var l=[],u=[],c=[],d=t("$injector","invoke","push",u),h={_invokeQueue:l,_configBlocks:u,_runBlocks:c,info:function(t){if(b(t)){if(!w(t))throw r("aobj","value");return a=t,this}return a},requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator",u),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:d,run:function(t){return c.push(t),this}};return s&&d(s),h})}})}function he(t,e){if(_r(t)){e=e||[];for(var n=0,i=t.length;i>n;n++)e[n]=t[n]}else if(w(t))for(n in e=e||{},t)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(e[n]=t[n]);return e||t}function pe(t,e){var n=[];return i(e)&&(t=I(t,null,e)),JSON.stringify(t,function(t,e){if(e=F(t,e),w(e)){if(0<=n.indexOf(e))return"...";n.push(e)}return e})}function fe(i){c(i,{errorHandlingConfig:n,bootstrap:Q,copy:I,extend:c,merge:d,equals:R,element:rr,forEach:o,injector:Ve,noop:f,bind:H,toJson:z,fromJson:W,identity:g,isUndefined:y,isDefined:b,isString:x,isFunction:$,isObject:w,isNumber:k,isElement:O,isArray:_r,version:Pr,isDate:C,lowercase:cr,uppercase:dr,callbacks:{$$counter:0},getTestability:ee,reloadWithDebugInfo:te,$$minErr:e,$$csp:$r,$$encodeUriSegment:K,$$encodeUriQuery:X,$$stringify:ce}),sr=de(t),sr("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:ei}),t.provider("$compile",tn).directive({a:Qo,input:ms,textarea:ms,form:is,script:ra,select:aa,option:la,ngBind:bs,ngBindHtml:_s,ngBindTemplate:ws,ngClass:ks,ngClassEven:$s,ngClassOdd:Cs,ngCloak:Ms,ngController:Ss,ngForm:rs,ngHide:Zs,ngIf:Es,ngInclude:Os,ngInit:Ps,ngNonBindable:Gs,ngPluralize:Ys,ngRepeat:Ks,ngShow:Xs,ngStyle:Js,ngSwitch:Qs,ngSwitchWhen:ta,ngSwitchDefault:ea,ngOptions:qs,ngTransclude:ia,ngModel:zs,ngList:Ls,ngChange:xs,pattern:ca,ngPattern:ca,required:ua,ngRequired:ua,minlength:ha,ngMinlength:ha,maxlength:da,ngMaxlength:da,ngValue:ys,ngModelOptions:js}).directive({ngInclude:As}).directive(ts).directive(Ts),t.provider({$anchorScroll:Ue,$animate:lo,$animateCss:ho,$$animateJs:so,$$animateQueue:ao,$$AnimateRunner:co,$$animateAsyncRun:uo,$browser:Ze,$cacheFactory:Je,$controller:an,$document:ln,$$isDocumentHidden:un,$exceptionHandler:cn,$filter:gi,$$forceReflow:bo,$interpolate:xn,$interval:kn,$http:yn,$httpParamSerializer:hn,$httpParamSerializerJQLike:pn,$httpBackend:wn,$xhrFactory:bn,$jsonpCallbacks:So,$location:Nn,$log:Rn,$parse:Kn,$rootScope:ti,$q:Xn,$$q:Zn,$sce:oi,$sceDelegate:ri,$sniffer:si,$templateCache:Qe,$templateRequest:ai,$$testability:li,$timeout:ui,$window:hi,$$rAF:Qn,$$jqLite:Fe,$$Map:Jr,$$cookieReader:fi})}]).info({angularVersion:"1.6.4"})}function ge(t,e){return e.toUpperCase()}function me(t){return t.replace(Nr,ge)}function ve(t){return t=t.nodeType,1===t||!t||9===t}function ye(t,e){var n,i,r=e.createDocumentFragment(),s=[];if(zr.test(t)){for(n=r.appendChild(e.createElement("div")),i=(Wr.exec(t)||["",""])[1].toLowerCase(),i=Gr[i]||Gr._default,n.innerHTML=i[1]+t.replace(jr,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;s=B(s,n.childNodes),n=r.firstChild,n.textContent=""}else s.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",o(s,function(t){r.appendChild(t)}),r}function be(e){if(e instanceof be)return e;var n;if(x(e)&&(e=kr(e),n=!0),!(this instanceof be)){if(n&&"<"!==e.charAt(0))throw Hr("nosel");return new be(e)}if(n){n=t.document;var i;e=(i=Fr.exec(e))?[n.createElement(i[1])]:(i=ye(e,n))?i.childNodes:[],De(this,e)}else $(e)?Ie(e):De(this,e)}function we(t){return t.cloneNode(!0)}function _e(t,e){!e&&ve(t)&&rr.cleanData([t]),t.querySelectorAll&&rr.cleanData(t.querySelectorAll("*"))}function xe(t,e,n,i){if(b(i))throw Hr("offargs");var r=(i=Ce(t))&&i.events,s=i&&i.handle;if(s)if(e){var a=function(e){var i=r[e];b(n)&&L(i||[],n),b(n)&&i&&0<i.length||(t.removeEventListener(e,s),delete r[e])};o(e.split(" "),function(t){a(t),Br[t]&&a(Br[t])})}else for(e in r)"$destroy"!==e&&t.removeEventListener(e,s),delete r[e]}function ke(t,e){var n=t.ng339,i=n&&Lr[n];i&&(e?delete i.data[e]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),xe(t)),delete Lr[n],t.ng339=void 0))}function Ce(t,e){var n=t.ng339,n=n&&Lr[n];return e&&!n&&(t.ng339=n=++Ir,n=Lr[n]={events:{},data:{},handle:void 0}),n}function $e(t,e,n){if(ve(t)){var i,r=b(n),o=!r&&e&&!w(e),s=!e;
if(t=(t=Ce(t,!o))&&t.data,r)t[me(e)]=n;else{if(s)return t;if(o)return t&&t[me(e)];for(i in e)t[me(i)]=e[i]}}}function Me(t,e){return t.getAttribute?-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" "):!1}function Se(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",kr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+kr(e)+" "," ")))})}function Te(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=kr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",kr(n))}}function De(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;n>i;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Ee(t,e){return Oe(t,"$"+(e||"ngController")+"Controller")}function Oe(t,e,n){for(9===t.nodeType&&(t=t.documentElement),e=_r(e)?e:[e];t;){for(var i=0,r=e.length;r>i;i++)if(b(n=rr.data(t,e[i])))return n;t=t.parentNode||11===t.nodeType&&t.host}}function Ae(t){for(_e(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Pe(t,e){e||_e(t);var n=t.parentNode;n&&n.removeChild(t)}function Le(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):rr(n).on("load",e)}function Ie(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Ne(t,e){var n=qr[e.toLowerCase()];return n&&Yr[P(t)]&&n}function Re(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(y(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var a=r.specialHandlerWrapper||Be;o>1&&(r=he(r));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||a(t,n,r[l])}};return n.elem=t,n}function Be(t,e,n){n.call(t,e)}function He(t,e,n){var i=e.relatedTarget;i&&(i===t||Vr.call(t,i))||n.call(t,e)}function Fe(){this.$get=function(){return c(be,{hasClass:function(t,e){return t.attr&&(t=t[0]),Me(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Te(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Se(t,e)}})}}function ze(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):(n=typeof t,n="function"===n||"object"===n&&null!==t?t.$$hashKey=n+":"+(e||l)():n+":"+t)}function We(){this._keys=[],this._values=[],this._lastKey=0/0,this._lastIndex=-1}function je(t){return t=Function.prototype.toString.call(t).replace(io,""),t.match(Qr)||t.match(to)}function Ge(t){return(t=je(t))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ve(t,e){function n(t){return function(e,n){return w(e)?void o(e,a(t)):t(e,n)}}function i(t,e){if(se(t,"service"),($(e)||_r(e))&&(e=f.instantiate(e)),!e.$get)throw ro("pget",t);return p[t+"Provider"]=e}function r(t,e){return function(){var n=b.invoke(e,this);if(y(n))throw ro("undef",t);return n}}function s(t,e,n){return i(t,{$get:!1!==n?r(t,e):e})}function l(t){re(y(t)||_r(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;n>e;e++){var i=t[e],r=f.get(i[0]);r[i[1]].apply(r,i[2])}}if(!h.get(t)){h.set(t,!0);try{x(t)?(e=sr(t),b.modules[t]=e,n=n.concat(l(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):$(t)?n.push(f.invoke(t)):_r(t)?n.push(f.invoke(t)):oe(t,"module")}catch(r){throw _r(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1===r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),ro("modulerr",t,r.stack||r.message||r)}}}),n}function u(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===c)throw ro("cdep",e+" <- "+d.join(" <- "));return t[e]}try{return d.unshift(e),t[e]=c,t[e]=n(e,i),t[e]}catch(r){throw t[e]===c&&delete t[e],r}finally{d.shift()}}function r(t,n,r){var o=[];t=Ve.$$annotate(t,e,r);for(var s=0,a=t.length;a>s;s++){var l=t[s];if("string"!=typeof l)throw ro("itkn",l);o.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return o}return{invoke:function(t,e,n,i){if("string"==typeof n&&(i=n,n=null),n=r(t,n,i),_r(t)&&(t=t[t.length-1]),i=t,ir||"function"!=typeof i)i=!1;else{var o=i.$$ngIsClass;D(o)||(o=i.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(i))),i=o}return i?(n.unshift(null),new(Function.prototype.bind.apply(t,n))):t.apply(e,n)},instantiate:function(t,e,n){var i=_r(t)?t[t.length-1]:t;return t=r(t,e,n),t.unshift(null),new(Function.prototype.bind.apply(i,t))},get:i,annotate:Ve.$$annotate,has:function(e){return p.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var c={},d=[],h=new Zr,p={$provide:{provider:n(i),factory:n(s),service:n(function(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}),value:n(function(t,e){return s(t,m(e),!1)}),constant:n(function(t,e){se(t,"constant"),p[t]=e,g[t]=e}),decorator:function(t,e){var n=f.get(t+"Provider"),i=n.$get;n.$get=function(){var t=b.invoke(i,n);return b.invoke(e,null,{$delegate:t})}}}},f=p.$injector=u(p,function(t,e){throw yr.isString(e)&&d.push(e),ro("unpr",d.join(" <- "))}),g={},v=u(g,function(t,e){var n=f.get(t+"Provider",e);return b.invoke(n.$get,n,void 0,t)}),b=v;p.$injectorProvider={$get:m(v)},b.modules=f.modules=ue();var _=l(t),b=v.get("$injector");return b.strictDi=e,o(_,function(t){t&&b.invoke(t)}),b}function Ue(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===P(t)?(e=t,!0):void 0}),e}function o(t){if(t){t.scrollIntoView();var n;n=s.yOffset,$(n)?n=n():O(n)?(n=n[0],n="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):k(n)||(n=0),n&&(t=t.getBoundingClientRect().top,e.scrollBy(0,t-n))}else e.scrollTo(0,0)}function s(t){t=x(t)?t:k(t)?t.toString():n.hash();var e;t?(e=a.getElementById(t))?o(e):(e=r(a.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var a=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Le(function(){i.$evalAsync(s)})}),s}]}function qe(t,e){return t||e?t?e?(_r(t)&&(t=t.join(" ")),_r(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Ye(t){x(t)&&(t=t.split(" "));var e=ue();return o(t,function(t){t.length&&(e[t]=!0)}),e}function Ke(t){return w(t)?t:{}}function Xe(t,e,n,i){function r(t){try{t.apply(null,hr.call(arguments,1))}finally{if(m--,0===m)for(;v.length;)try{v.pop()()}catch(e){n.error(e)}}}function s(){k=null,l()}function a(){b=C(),b=y(b)?null:b,R(b,S)&&(b=S),w=S=b}function l(){var t=w;a(),(_!==u.url()||t!==b)&&(_=u.url(),w=b,o($,function(t){t(u.url(),b)}))}var u=this,c=t.location,d=t.history,h=t.setTimeout,p=t.clearTimeout,g={};u.isMock=!1;var m=0,v=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){m++},u.notifyWhenNoOutstandingRequests=function(t){0===m?t():v.push(t)};var b,w,_=c.href,x=e.find("base"),k=null,C=i.history?function(){try{return d.state}catch(t){}}:f;a(),u.url=function(e,n,r){if(y(r)&&(r=null),c!==t.location&&(c=t.location),d!==t.history&&(d=t.history),e){var o=w===r;if(_===e&&(!i.history||o))return u;var s=_&&Dn(_)===Dn(e);return _=e,w=r,!i.history||s&&o?(s||(k=e),n?c.replace(e):s?(n=c,r=e.indexOf("#"),r=-1===r?"":e.substr(r),n.hash=r):c.href=e,c.href!==e&&(k=e)):(d[n?"replaceState":"pushState"](r,"",e),a()),k&&(k=e),u}return k||c.href.replace(/%27/g,"'")},u.state=function(){return b};var $=[],M=!1,S=null;u.onUrlChange=function(e){return M||(i.history&&rr(t).on("popstate",s),rr(t).on("hashchange",s),M=!0),$.push(e),e},u.$$applicationDestroyed=function(){rr(t).off("hashchange popstate",s)},u.$$checkUrlChange=l,u.baseHref=function(){var t=x.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},u.defer=function(t,e){var n;return m++,n=h(function(){delete g[n],r(t)},e||0),g[n]=!0,n},u.defer.cancel=function(t){return g[t]?(delete g[t],p(t),r(f),!0):!1}}function Ze(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Xe(t,i,e,n)}]}function Je(){this.$get=function(){function t(t,i){function r(t){t!==h&&(p?p===t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid",t);var s=0,a=c({},i,{id:t}),l=ue(),u=i&&i.capacity||Number.MAX_VALUE,d=ue(),h=null,p=null;return n[t]={put:function(t,e){if(!y(e)){if(u<Number.MAX_VALUE){var n=d[t]||(d[t]={key:t});r(n)}return t in l||s++,l[t]=e,s>u&&this.remove(p.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=d[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=d[t];if(!e)return;e===h&&(h=e.p),e===p&&(p=e.n),o(e.n,e.p),delete d[t]}t in l&&(delete l[t],s--)},removeAll:function(){l=ue(),s=0,d=ue(),h=p=null},destroy:function(){d=a=l=null,delete n[t]},info:function(){return c({},a,{size:s})}}}var n={};return t.info=function(){var t={};return o(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function Qe(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function tn(e,n){function i(t,e,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=ue();return o(t,function(t,o){if(t in k)r[o]=k[t];else{var s=t.match(i);if(!s)throw po("iscp",e,o,t,n?"controller bindings definition":"isolate scope definition");r[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(k[t]=r[o])}}),r}function r(t){var e=t.charAt(0);if(!e||e!==cr(e))throw po("baddir",t);if(t!==t.trim())throw po("baddir",t)}function s(t){var e=t.require||t.controller&&t.name;return!_r(e)&&w(e)&&o(e,function(t,n){var i=t.match(v);t.substring(i[0].length)||(e[n]=i[0]+n)}),e}var l={},u=/^\s*directive:\s*([\w-]+)\s+(.*)$/,d=/(([\w-]+)(?::([^;]+))?;?)/,h=A("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,_=/^(on[a-z]+|formaction)$/,k=ue();this.directive=function I(t,n){return re(t,"name"),se(t,"directive"),x(t)?(r(t),re(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var i=[];return o(l[t],function(r,o){try{var a=e.invoke(r);$(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=s(a);var l=a,u=a.restrict;if(u&&(!x(u)||!/[EACM]/.test(u)))throw po("badrestrict",u,t);l.restrict=u||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(c){n(c)}}),i}])),l[t].push(n)):o(t,a(I)),this},this.component=function(t,e){function n(t){function n(e){return $(e)||_r(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var r=e.template||e.templateUrl?e.template:"",s={controller:i,controllerAs:sn(e.controller)||e.controllerAs||"$ctrl",template:n(r),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return o(e,function(t,e){"$"===e.charAt(0)&&(s[e]=t)}),s}var i=e.controller||function(){};return o(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,$(i)&&(i[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return b(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(t){return b(t)?(C=t,this):C};var M=!1;this.preAssignBindingsEnabled=function(t){return b(t)?(M=t,this):M};var S=10;this.onChangesTtl=function(t){return arguments.length?(S=t,this):S};var E=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(E=t,this):E};var O=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(O=t,this):O},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,s,a,m,k,A,I,B){function F(){try{if(!--Se)throw xe=void 0,po("infchng",S);k.$apply(function(){for(var t=[],e=0,n=xe.length;n>e;++e)try{xe[e]()}catch(i){t.push(i)}if(xe=void 0,t.length)throw t})}finally{Se++}}function z(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;i>n;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function W(t,e,n){Ce.innerHTML="<span "+e+">",e=Ce.firstChild.attributes;var i=e[0];e.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function j(t,e){try{t.addClass(e)}catch(n){}}function G(t,e,n,i,r){t instanceof rr||(t=rr(t));var o=U(t,e,t,n,i,r);G.$$addScopeClass(t);var s=null;return function(e,n,i){if(!t)throw po("multilink");re(e,"scope"),r&&r.needsNewScope&&(e=e.$parent.$new()),i=i||{};var a=i.parentBoundTranscludeFn,l=i.transcludeControllers;if(i=i.futureParentElement,a&&a.$$boundTransclude&&(a=a.$$boundTransclude),s||(s=(i=i&&i[0])&&"foreignobject"!==P(i)&&gr.call(i).match(/SVG/)?"svg":"html"),i="html"!==s?rr(fe(s,rr("<div>").append(t).html())):n?Ur.clone.call(t):t,l)for(var u in l)i.data("$"+u+"Controller",l[u].instance);return G.$$addScopeInfo(i,e),n&&n(i,e),o&&o(e,i,i,a),n||(t=o=null),i}}function U(t,e,n,i,r,o){function s(t,n,i,r){var o,s,a,l,u,c,p;if(d)for(p=Array(n.length),l=0;l<h.length;l+=3)o=h[l],p[o]=n[o];else p=n;for(l=0,u=h.length;u>l;)s=p[h[l++]],n=h[l++],o=h[l++],n?(n.scope?(a=t.$new(),G.$$addScopeInfo(rr(s),a)):a=t,c=n.transcludeOnThisElement?Y(t,n.transclude,r):!n.templateOnThisElement&&r?r:!r&&e?Y(t,e):null,n(o,a,s,i,c)):o&&o(t,s.childNodes,void 0,r)}for(var a,l,u,c,d,h=[],p=_r(t)||t instanceof rr,f=0;f<t.length;f++)a=new z,11===ir&&q(t,f,p),l=K(t[f],[],a,0===f?i:void 0,r),(o=l.length?te(l,t[f],a,e,n,null,[],[],o):null)&&o.scope&&G.$$addScopeClass(a.$$element),a=o&&o.terminal||!(u=t[f].childNodes)||!u.length?null:U(u,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:e),(o||a)&&(h.push(f,o,a),c=!0,d=d||o),o=null;return c?s:null}function q(t,e,n){var i,r=t[e],o=r.parentNode;if(r.nodeType===Ar)for(;i=o?r.nextSibling:t[e+1],i&&i.nodeType===Ar;)r.nodeValue+=i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===t[e+1]&&t.splice(e+1,1)}function Y(t,e,n){function i(i,r,o,s,a){return i||(i=t.$new(!1,a),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var r,o=i.$$slots=ue();for(r in e.$$slots)o[r]=e.$$slots[r]?Y(t,e.$$slots[r],n):null;return i}function K(t,e,n,i,r){var o,s=n.$attr;switch(t.nodeType){case 1:o=P(t),se(e,nn(o),"E",i,r);for(var a,l,u,c,h=t.attributes,p=0,f=h&&h.length;f>p;p++){var g=!1,m=!1;a=h[p],l=a.name,u=a.value,a=nn(l),(c=Oe.test(a))&&(l=l.replace(go,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()})),(a=a.match(Ae))&&ae(a[1])&&(g=l,m=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),a=nn(l.toLowerCase()),s[a]=l,(c||!n.hasOwnProperty(a))&&(n[a]=u,Ne(t,a)&&(n[a]=!0)),me(t,e,u,a,c),se(e,a,"A",i,r,g,m)}if("input"===o&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Me)break;if(s=t.className,w(s)&&(s=s.animVal),x(s)&&""!==s)for(;t=d.exec(s);)a=nn(t[2]),se(e,a,"C",i,r)&&(n[a]=kr(t[3])),s=s.substr(t.index+t[0].length);break;case Ar:pe(e,t.nodeValue);break;case 8:if(!$e)break;X(t,e,n,i,r)}return e.sort(de),e}function X(t,e,n,i,r){try{var o=u.exec(t.nodeValue);if(o){var s=nn(o[1]);se(e,s,"M",i,r)&&(n[s]=kr(o[2]))}}catch(a){}}function Z(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw po("uterdir",e,n);1===t.nodeType&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return rr(i)}function J(t,e,n){return function(i,r,o,s,a){return r=Z(r[0],e,n),t(i,r,o,s,a)}}function Q(t,e,n,i,r,o){var s;return t?G(e,n,i,r,o):function(){return s||(s=G(e,n,i,r,o),e=n=o=null),s.apply(this,arguments)}}function te(t,e,n,i,s,a,l,u,d){function h(t,e,n,i){t&&(n&&(t=J(t,n,i)),t.require=f.require,t.directiveName=g,(C===f||f.$$isolateScope)&&(t=ye(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=J(e,n,i)),e.require=f.require,e.directiveName=g,(C===f||f.$$isolateScope)&&(e=ye(e,{isolateScope:!0})),u.push(e))}function p(t,i,s,a,d){function h(t,e,n,i){var r;if(T(t)||(i=n,n=e,e=t,t=void 0),A&&(r=b),n||(n=A?D.parent():D),!i)return d(t,e,r,n,P);var o=d.$$slots[i];if(o)return o(t,e,r,n,P);if(y(o))throw po("noslot",i,V(D))}var p,f,g,m,v,b,_,D;e===s?(a=n,D=n.$$element):(D=rr(s),a=new z(D,n)),v=i,C?m=i.$new(!0):x&&(v=i.$parent),d&&(_=h,_.$$boundTransclude=d,_.isSlotFilled=function(t){return!!d.$$slots[t]}),k&&(b=ie(D,a,_,k,m,i,C)),C&&(G.$$addScopeInfo(D,m,!0,!(S&&(S===C||S===C.$$originalDirective))),G.$$addScopeClass(D,!0),m.$$isolateBindings=C.$$isolateBindings,f=_e(i,a,m,m.$$isolateBindings,C),f.removeWatches&&m.$on("$destroy",f.removeWatches));for(p in b){f=k[p],g=b[p];var E=f.$$bindings.bindToController;if(M){g.bindingInfo=E?_e(v,a,g.instance,E,f):{};var O=g();O!==g.instance&&(g.instance=O,D.data("$"+f.name+"Controller",O),g.bindingInfo.removeWatches&&g.bindingInfo.removeWatches(),g.bindingInfo=_e(v,a,g.instance,E,f))}else g.instance=g(),D.data("$"+f.name+"Controller",g.instance),g.bindingInfo=_e(v,a,g.instance,E,f)}for(o(k,function(t,e){var n=t.require;t.bindToController&&!_r(n)&&w(n)&&c(b[e].instance,ee(e,n,D,b))}),o(b,function(t){var e=t.instance;if($(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){r(n)}if($(e.$onInit))try{e.$onInit()}catch(i){r(i)}$(e.$doCheck)&&(v.$watch(function(){e.$doCheck()}),e.$doCheck()),$(e.$onDestroy)&&v.$on("$destroy",function(){e.$onDestroy()})}),p=0,f=l.length;f>p;p++)g=l[p],be(g,g.isolateScope?m:i,D,a,g.require&&ee(g.directiveName,g.require,D,b),_);var P=i;for(C&&(C.template||null===C.templateUrl)&&(P=m),t&&t(P,s.childNodes,void 0,d),p=u.length-1;p>=0;p--)g=u[p],be(g,g.isolateScope?m:i,D,a,g.require&&ee(g.directiveName,g.require,D,b),_);o(b,function(t){t=t.instance,$(t.$postLink)&&t.$postLink()})}d=d||{};for(var f,g,m,v,b,_=-Number.MAX_VALUE,x=d.newScopeDirective,k=d.controllerDirectives,C=d.newIsolateScopeDirective,S=d.templateDirective,D=d.nonTlbTranscludeDirective,E=!1,O=!1,A=d.hasElementTranscludeDirective,L=n.$$element=rr(e),I=i,N=!1,R=!1,B=0,F=t.length;F>B;B++){f=t[B];var W=f.$$start,j=f.$$end;if(W&&(L=Z(e,W,j)),m=void 0,_>f.priority)break;if((b=f.scope)&&(f.templateUrl||(w(b)?(he("new/isolated scope",C||x,f,L),C=f):he("new/isolated scope",C,f,L)),x=x||f),g=f.name,!N&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(b=B+1;N=t[b++];)if(N.transclude&&!N.$$tlb||N.replace&&(N.templateUrl||N.template)){R=!0;break}N=!0}if(!f.templateUrl&&f.controller&&(k=k||ue(),he("'"+g+"' controller",k[g],f,L),k[g]=f),b=f.transclude)if(E=!0,f.$$tlb||(he("transclusion",D,f,L),D=f),"element"===b)A=!0,_=f.priority,m=L,L=n.$$element=rr(G.$$createComment(g,n[g])),e=L[0],ve(s,hr.call(m,0),e),m[0].$$parentNode=m[0].parentNode,I=Q(R,m,i,_,a&&a.name,{nonTlbTranscludeDirective:D});else{var U=ue();if(w(b)){m=[];var q=ue(),Y=ue();o(b,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,q[t]=e,U[e]=null,Y[e]=n}),o(L.contents(),function(t){var e=q[nn(P(t))];e?(Y[e]=!0,U[e]=U[e]||[],U[e].push(t)):m.push(t)}),o(Y,function(t,e){if(!t)throw po("reqslot",e)});for(var X in U)U[X]&&(U[X]=Q(R,U[X],i))}else m=rr(we(e)).contents();L.empty(),I=Q(R,m,i,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),I.$$slots=U}if(f.template)if(O=!0,he("template",S,f,L),S=f,b=$(f.template)?f.template(L,n):f.template,b=Ee(b),f.replace){if(a=f,m=zr.test(b)?on(fe(f.templateNamespace,kr(b))):[],e=m[0],1!==m.length||1!==e.nodeType)throw po("tplrt",g,"");ve(s,L,e),F={$attr:{}},b=K(e,[],F);var te=t.splice(B+1,t.length-(B+1));(C||x)&&oe(b,C,x),t=t.concat(b).concat(te),le(n,F),F=t.length}else L.html(b);if(f.templateUrl)O=!0,he("template",S,f,L),S=f,f.replace&&(a=f),p=ce(t.splice(B,t.length-B),L,n,s,E&&I,l,u,{controllerDirectives:k,newScopeDirective:x!==f&&x,newIsolateScopeDirective:C,templateDirective:S,nonTlbTranscludeDirective:D}),F=t.length;else if(f.compile)try{v=f.compile(L,n,I);var ne=f.$$originalDirective||f;$(v)?h(null,H(ne,v),W,j):v&&h(H(ne,v.pre),H(ne,v.post),W,j)}catch(re){r(re,V(L))}f.terminal&&(p.terminal=!0,_=Math.max(_,f.priority))}return p.scope=x&&!0===x.scope,p.transcludeOnThisElement=E,p.templateOnThisElement=O,p.transclude=I,d.hasElementTranscludeDirective=A,p}function ee(t,e,n,i){var r;if(x(e)){var s=e.match(v);e=e.substring(s[0].length);var a=s[1]||s[3],s="?"===s[2];if("^^"===a?n=n.parent():r=(r=i&&i[e])&&r.instance,!r){var l="$"+e+"Controller";r=a?n.inheritedData(l):n.data(l)}if(!r&&!s)throw po("ctreq",e,t)}else if(_r(e))for(r=[],a=0,s=e.length;s>a;a++)r[a]=ee(t,e[a],n,i);else w(e)&&(r={},o(e,function(e,o){r[o]=ee(t,e,n,i)}));return r||null}function ie(t,e,n,i,r,o,s){var a,l=ue();for(a in i){var u=i[a],c={$scope:u===s||u.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},d=u.controller;"@"===d&&(d=e[u.name]),c=m(d,c,!0,u.controllerAs),l[u.name]=c,t.data("$"+u.name+"Controller",c.instance)}return l}function oe(t,e,n){for(var i=0,r=t.length;r>i;i++)t[i]=p(t[i],{$$isolateScope:e,$$newScope:n})}function se(t,n,r,o,s,a,u){if(n===s)return null;var c=null;if(l.hasOwnProperty(n)){s=e.get(n+"Directive");for(var d=0,h=s.length;h>d;d++)if(n=s[d],(y(o)||o>n.priority)&&-1!==n.restrict.indexOf(r)){if(a&&(n=p(n,{$$start:a,$$end:u})),!n.$$bindings){var f=c=n,g=n.name,m={isolateScope:null,bindToController:null};if(w(f.scope)&&(!0===f.bindToController?(m.bindToController=i(f.scope,g,!0),m.isolateScope={}):m.isolateScope=i(f.scope,g,!1)),w(f.bindToController)&&(m.bindToController=i(f.bindToController,g,!0)),m.bindToController&&!f.controller)throw po("noctrl",g);c=c.$$bindings=m,w(c.isolateScope)&&(n.$$isolateBindings=c.isolateScope)}t.push(n),c=n}}return c}function ae(t){if(l.hasOwnProperty(t))for(var n=e.get(t+"Directive"),i=0,r=n.length;r>i;i++)if(t=n[i],t.multiElement)return!0;return!1}function le(t,e){var n=e.$attr,i=t.$attr;o(t,function(i,r){"$"!==r.charAt(0)&&(e[r]&&e[r]!==i&&(i=i.length?i+(("style"===r?";":" ")+e[r]):e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function ce(t,e,n,i,a,l,u,c){var d,h,f=[],g=e[0],m=t.shift(),v=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=$(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,b=m.templateNamespace;return e.empty(),s(y).then(function(r){var s,p;if(r=Ee(r),m.replace){if(r=zr.test(r)?on(fe(b,kr(r))):[],s=r[0],1!==r.length||1!==s.nodeType)throw po("tplrt",m.name,y);r={$attr:{}},ve(i,e,s);var _=K(s,[],r);w(m.scope)&&oe(_,!0),t=_.concat(t),le(n,r)}else s=g,e.html(r);for(t.unshift(v),d=te(t,s,n,a,e,m,l,u,c),o(i,function(t,n){t===s&&(i[n]=e[0])}),h=U(e[0].childNodes,a);f.length;){r=f.shift(),p=f.shift();var x=f.shift(),k=f.shift(),_=e[0];if(!r.$$destroyed){if(p!==g){var C=p.className;c.hasElementTranscludeDirective&&m.replace||(_=we(s)),ve(x,rr(p),_),j(rr(_),C)}p=d.transcludeOnThisElement?Y(r,d.transclude,k):k,d(h,r,_,i,p)}}f=null})["catch"](function(t){t instanceof Error&&r(t)}),function(t,e,n,i,r){t=r,e.$$destroyed||(f?f.push(e,n,i,t):(d.transcludeOnThisElement&&(t=Y(e,d.transclude,r)),d(h,e,n,i,t)))}}function de(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function he(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw po("multidir",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,V(i))}function pe(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){t=t.parent();var e=!!t.length;return e&&G.$$addBindingClass(t),function(t,n){var r=n.parent();e||G.$$addBindingClass(r),G.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){n[0].nodeValue=t})}}})}function fe(e,n){switch(e=cr(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function ge(t,e){if("srcdoc"===e)return A.HTML;var n=P(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return A.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return A.RESOURCE_URL}function me(t,e,i,r,o){var s=ge(t,r),a=h[r]||o,l=n(i,!o,s,a);if(l){if("multiple"===r&&"select"===P(t))throw po("selmulti",V(t));if(_.test(r))throw po("nodomevents");e.push({priority:100,compile:function(){return{pre:function(t,e,o){e=o.$$observers||(o.$$observers=ue());var u=o[r];u!==i&&(l=u&&n(u,!0,s,a),i=u),l&&(o[r]=l(t),(e[r]||(e[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||t).$watch(l,function(t,e){"class"===r&&t!==e?o.$updateClass(t,e):o.$set(r,t)}))}}}})}}function ve(e,n,i){var r,o,s=n[0],a=n.length,l=s.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]===s){e[r++]=i,o=r+a-1;for(var u=e.length;u>r;r++,o++)u>o?e[r]=e[o]:delete e[r];e.length-=a-1,e.context===s&&(e.context=i);break}for(l&&l.replaceChild(i,s),e=t.document.createDocumentFragment(),r=0;a>r;r++)e.appendChild(n[r]);for(rr.hasData(s)&&(rr.data(i,rr.data(s)),rr(s).off("$destroy")),rr.cleanData(e.querySelectorAll("*")),r=1;a>r;r++)delete n[r];n[0]=i,n.length=1}function ye(t,e){return c(function(){return t.apply(null,arguments)},t,e)}function be(t,e,n,i,o,s){try{t(e,n,i,o,s)}catch(a){r(a,V(n))}}function _e(t,e,i,r,s){function l(e,n,r){$(i.$onChanges)&&!N(n,r)&&(xe||(t.$$postDigest(F),xe=[]),c||(c={},xe.push(u)),c[e]&&(r=c[e].previousValue),c[e]=new en(r,n))}function u(){i.$onChanges(c),c=void 0}var c,d=[],h={};return o(r,function(r,o){var u,c,p,g,m=r.attrName,v=r.optional;switch(r.mode){case"@":v||lr.call(e,m)||(i[o]=e[m]=void 0),v=e.$observe(m,function(t){(x(t)||D(t))&&(l(o,t,i[o]),i[o]=t)}),e.$$observers[m].$$scope=t,u=e[m],x(u)?i[o]=n(u)(t):D(u)&&(i[o]=u),h[o]=new en(fo,i[o]),d.push(v);break;case"=":if(!lr.call(e,m)){if(v)break;e[m]=void 0}if(v&&!e[m])break;c=a(e[m]),g=c.literal?R:N,p=c.assign||function(){throw u=i[o]=c(t),po("nonassign",e[m],m,s.name)},u=i[o]=c(t),v=function(e){return g(e,i[o])||(g(e,u)?p(t,e=i[o]):i[o]=e),u=e},v.$stateful=!0,v=r.collection?t.$watchCollection(e[m],v):t.$watch(a(e[m],v),null,c.literal),d.push(v);break;case"<":if(!lr.call(e,m)){if(v)break;e[m]=void 0}if(v&&!e[m])break;c=a(e[m]);var y=c.literal,b=i[o]=c(t);h[o]=new en(fo,i[o]),v=t.$watch(c,function(t,e){if(e===t){if(e===b||y&&R(e,b))return;e=b}l(o,t,e),i[o]=t},y),d.push(v);break;case"&":if(c=e.hasOwnProperty(m)?a(e[m]):f,c===f&&v)break;i[o]=function(e){return c(t,e)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var t=0,e=d.length;e>t;++t)d[t]()}}}var xe,ke=/^\w/,Ce=t.document.createElement("div"),$e=E,Me=O,Se=S;z.prototype={$normalize:nn,$addClass:function(t){t&&0<t.length&&I.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&I.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=rn(t,e);n&&n.length&&I.addClass(this.$$element,n),(n=rn(e,t))&&n.length&&I.removeClass(this.$$element,n)},$set:function(t,e,n,i){var s=Ne(this.$$element[0],t),a=Kr[t],l=t;if(s?(this.$$element.prop(t,e),i=s):a&&(this[a]=e,l=a),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=ne(t,"-")),s=P(this.$$element),"a"===s&&("href"===t||"xlinkHref"===t)||"img"===s&&"src"===t)this[t]=e=B(e,"src"===t);else if("img"===s&&"srcset"===t&&b(e)){for(var s="",a=kr(e),u=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,u=/\s/.test(a)?u:/(,)/,a=a.split(u),u=Math.floor(a.length/2),c=0;u>c;c++)var d=2*c,s=s+B(kr(a[d]),!0),s=s+(" "+kr(a[d+1]));a=kr(a[2*c]).split(/\s/),s+=B(kr(a[0]),!0),2===a.length&&(s+=" "+kr(a[1])),this[t]=e=s}!1!==n&&(null===e||y(e)?this.$$element.removeAttr(i):ke.test(i)?this.$$element.attr(i,e):W(this.$$element[0],i,e)),(t=this.$$observers)&&o(t[l],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=ue()),r=i[t]||(i[t]=[]);return r.push(e),k.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){L(r,e)}}};var Te=n.startSymbol(),De=n.endSymbol(),Ee="{{"===Te&&"}}"===De?g:function(t){return t.replace(/\{\{/g,Te).replace(/}}/g,De)},Oe=/^ngAttr[A-Z]/,Ae=/^(.+)Start$/;return G.$$addBindingInfo=C?function(t,e){var n=t.data("$binding")||[];_r(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,G.$$addBindingClass=C?function(t){j(t,"ng-binding")}:f,G.$$addScopeInfo=C?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:f,G.$$addScopeClass=C?function(t,e){j(t,e?"ng-isolate-scope":"ng-scope")}:f,G.$$createComment=function(e,n){var i="";return C&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},G}]}function en(t,e){this.previousValue=t,this.currentValue=e}function nn(t){return t.replace(go,"").replace(mo,ge)}function rn(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),o=0;t:for(;o<i.length;o++){for(var s=i[o],a=0;a<r.length;a++)if(s===r[a])continue t;n+=(0<n.length?" ":"")+s}return n}function on(t){t=rr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];(8===n.nodeType||n.nodeType===Ar&&""===n.nodeValue.trim())&&pr.call(t,e,1)}return t}function sn(t,e){if(e&&x(e))return e;if(x(t)){var n=yo.exec(t);if(n)return n[3]}}function an(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){se(e,"controller"),w(e)?c(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(t,n,i,r){if(!t||!w(t.$scope))throw e("$controller")("noscp",r,n);t.$scope[n]=i}return function(e,s,a,l){var u,d,h;if(a=!0===a,l&&x(l)&&(h=l),x(e)){if(l=e.match(yo),!l)throw vo("ctrlfmt",e);if(d=l[1],h=h||l[3],e=t.hasOwnProperty(d)?t[d]:ae(s.$scope,d,!0)||(n?ae(r,d,!0):void 0),!e)throw vo("ctrlreg",d);oe(e,d,!0)}return a?(a=(_r(e)?e[e.length-1]:e).prototype,u=Object.create(a||null),h&&o(s,h,u,d||e.name),c(function(){var t=i.invoke(e,u,s,d);return t!==u&&(w(t)||$(t))&&(u=t,h&&o(s,h,u,d||e.name)),u},{instance:u,identifier:h})):(u=i.instantiate(e,s,d),h&&o(s,h,u,d||e.name),u)}}]}function ln(){this.$get=["$window",function(t){return rr(t.document)}]}function un(){this.$get=["$document","$rootScope",function(t,e){function n(){r=i.hidden}var i=t[0],r=i&&i.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return r}}]}function cn(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function dn(t){return w(t)?C(t)?t.toISOString():z(t):t}function hn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return s(t,function(t,n){null===t||y(t)||(_r(t)?o(t,function(t){e.push(X(n)+"="+X(dn(t)))}):e.push(X(n)+"="+X(dn(t))))}),e.join("&")}}}function pn(){this.$get=function(){return function(t){function e(t,i,r){null===t||y(t)||(_r(t)?o(t,function(t,n){e(t,i+"["+(w(t)?n:"")+"]")}):w(t)&&!C(t)?s(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(X(i)+"="+X(dn(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function fn(t,e){if(x(t)){var n=t.replace(Co,"").trim();if(n){var i=e("Content-Type");if((i=i&&0===i.indexOf(wo))||(i=(i=n.match(xo))&&ko[i[0]].test(n)),i)try{t=W(n)}catch(r){throw $o("baddata",t,r)}}}return t}function gn(t){var e,n=ue();return x(t)?o(t.split("\n"),function(t){e=t.indexOf(":");var i=cr(kr(t.substr(0,e)));t=kr(t.substr(e+1)),i&&(n[i]=n[i]?n[i]+", "+t:t)}):w(t)&&o(t,function(t,e){var i=cr(e),r=kr(t);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function mn(t){var e;return function(n){return e||(e=gn(t)),n?(n=e[cr(n)],void 0===n&&(n=null),n):e}}function vn(t,e,n,i){return $(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function yn(){var t=this.defaults={transformResponse:[fn],transformRequest:[function(t){return w(t)&&"[object File]"!==gr.call(t)&&"[object Blob]"!==gr.call(t)&&"[object FormData]"!==gr.call(t)?z(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:he(_o),put:he(_o),patch:he(_o)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return b(t)?(n=!!t,this):n};var i=this.interceptors=[];
this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,s,a,l,u,d,h,p){function g(n){function i(t,e){for(var n=0,i=e.length;i>n;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function s(t,e){var n,i={};return o(t,function(t,r){$(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function a(t){var e=c({},t);return e.data=vn(t.data,t.headers,t.status,l.transformResponse),t=t.status,t>=200&&300>t?e:d.reject(e)}if(!w(n))throw e("$http")("badreq",n);if(!x(p.valueOf(n.url)))throw e("$http")("badreq",n.url);var l=c({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);l.headers=function(e){var n,i,r,o=t.headers,a=c({},e.headers),o=c({},o.common,o[cr(e.method)]);t:for(n in o){i=cr(n);for(r in a)if(cr(r)===i)continue t;a[n]=o[n]}return s(a,he(e))}(n),l.method=dr(l.method),l.paramSerializer=x(l.paramSerializer)?h.get(l.paramSerializer):l.paramSerializer,r.$$incOutstandingRequestCount();var u=[],g=[];return n=d.resolve(l),o(C,function(t){(t.request||t.requestError)&&u.unshift(t.request,t.requestError),(t.response||t.responseError)&&g.push(t.response,t.responseError)}),n=i(n,u),n=n.then(function(e){var n=e.headers,i=vn(e.data,mn(n),void 0,e.transformRequest);return y(i)&&o(n,function(t,e){"content-type"===cr(e)&&delete n[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,i).then(a,a)}),n=i(n,g),n=n["finally"](function(){r.$$completeOutstandingRequest(f)})}function m(e,i){function r(t){if(t){var e={};return o(t,function(t,i){e[i]=function(e){function i(){t(e)}n?u.$applyAsync(i):u.$$phase?i():u.$apply(i)}}),e}}function l(t,e,i,r){function o(){c(e,t,i,r)}m&&(t>=200&&300>t?m.put(E,[t,e,gn(i),r]):m.remove(E)),n?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function c(t,n,i,r){n=n>=-1?n:0,(n>=200&&300>n?M.resolve:M.reject)({data:t,status:n,headers:mn(i),config:e,statusText:r})}function h(t){c(t.data,t.status,he(t.headers()),t.statusText)}function f(){var t=g.pendingRequests.indexOf(e);-1!==t&&g.pendingRequests.splice(t,1)}var m,C,M=d.defer(),S=M.promise,T=e.headers,D="jsonp"===cr(e.method),E=e.url;return D?E=p.getTrustedResourceUrl(E):x(E)||(E=p.valueOf(E)),E=v(E,e.paramSerializer(e.params)),D&&(E=_(E,e.jsonpCallbackParam)),g.pendingRequests.push(e),S.then(f,f),!e.cache&&!t.cache||!1===e.cache||"GET"!==e.method&&"JSONP"!==e.method||(m=w(e.cache)?e.cache:w(t.cache)?t.cache:k),m&&(C=m.get(E),b(C)?C&&$(C.then)?C.then(h,h):_r(C)?c(C[1],C[0],he(C[2]),C[3]):c(C,200,{},"OK"):m.put(E,S)),y(C)&&((C=di(e.url)?a()[e.xsrfCookieName||t.xsrfCookieName]:void 0)&&(T[e.xsrfHeaderName||t.xsrfHeaderName]=C),s(e.method,E,i,l,T,e.timeout,e.withCredentials,e.responseType,r(e.eventHandlers),r(e.uploadEventHandlers))),S}function v(t,e){return 0<e.length&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}function _(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw $o("badjsonp",t);if(new RegExp("[&?]"+e+"=").test(t))throw $o("badjsonp",e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}var k=l("$http");t.paramSerializer=x(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var C=[];return o(i,function(t){C.unshift(x(t)?h.get(t):h.invoke(t))}),g.pendingRequests=[],function(){o(arguments,function(t){g[t]=function(e,n){return g(c({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(){o(arguments,function(t){g[t]=function(e,n,i){return g(c({},i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),g.defaults=t,g}]}function bn(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function wn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return _n(t,i,t.defer,e,n[0])}]}function _n(t,e,n,i,r){function s(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=r.createElement("script"),s=null;return o.type="text/javascript",o.src=t,o.async=!0,s=function(t){o.removeEventListener("load",s),o.removeEventListener("error",s),r.body.removeChild(o),o=null;var a=-1,l="unknown";t&&("load"!==t.type||i.wasCalled(e)||(t={type:"error"}),l=t.type,a="error"===t.type?404:200),n&&n(a,l)},o.addEventListener("load",s),o.addEventListener("error",s),r.body.appendChild(o),s}return function(r,a,l,u,c,d,h,p,f,g){function m(){w&&w(),_&&_.abort()}if(a=a||t.url(),"jsonp"===cr(r))var v=i.createCallback(a),w=s(a,v,function(t,e){var r=200===t&&i.getResponse(v);b(k)&&n.cancel(k),w=_=null,u(t,r,"",e),i.removeCallback(v)});else{var _=e(r,a);if(_.open(r,a,!0),o(c,function(t,e){b(t)&&_.setRequestHeader(e,t)}),_.onload=function(){var t=_.statusText||"",e="response"in _?_.response:_.responseText,i=1223===_.status?204:_.status;0===i&&(i=e?200:"file"===ci(a).protocol?404:0);var r=_.getAllResponseHeaders();b(k)&&n.cancel(k),w=_=null,u(i,e,r,t)},r=function(){b(k)&&n.cancel(k),w=_=null,u(-1,null,null,"")},_.onerror=r,_.onabort=r,_.ontimeout=r,o(f,function(t,e){_.addEventListener(e,t)}),o(g,function(t,e){_.upload.addEventListener(e,t)}),h&&(_.withCredentials=!0),p)try{_.responseType=p}catch(x){if("json"!==p)throw x}_.send(y(l)?null:l)}if(d>0)var k=n(m,d);else d&&$(d.then)&&d.then(m)}}function xn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function s(n){return n.replace(h,t).replace(p,e)}function a(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function l(o,l,h,p){function f(t){try{var e=t;return t=h?r.getTrusted(h,e):r.valueOf(e),p&&!b(t)?t:ce(t)}catch(n){i(Mo.interr(o,n))}}if(!o.length||-1===o.indexOf(t)){var g;return l||(l=s(o),g=m(l),g.exp=o,g.expressions=[],g.$$watchDelegate=a),g}p=!!p;var v,w,_=0,x=[],k=[];g=o.length;for(var C=[],M=[];g>_;){if(-1===(v=o.indexOf(t,_))||-1===(w=o.indexOf(e,v+u))){_!==g&&C.push(s(o.substring(_)));break}_!==v&&C.push(s(o.substring(_,v))),_=o.substring(v+u,w),x.push(_),k.push(n(_,f)),_=w+d,M.push(C.length),C.push("")}if(h&&1<C.length&&Mo.throwNoconcat(o),!l||x.length){var S=function(t){for(var e=0,n=x.length;n>e;e++){if(p&&y(t[e]))return;C[M[e]]=t[e]}return C.join("")};return c(function(t){var e=0,n=x.length,r=Array(n);try{for(;n>e;e++)r[e]=k[e](t);return S(r)}catch(s){i(Mo.interr(o,s))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(k,function(i,r){var o=S(i);$(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var u=t.length,d=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function kn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,a,l,u){function c(){d?o.apply(null,h):o(g)}var d=4<arguments.length,h=d?hr.call(arguments,4):[],p=e.setInterval,f=e.clearInterval,g=0,m=b(u)&&!u,v=(m?i:n).defer(),y=v.promise;return l=b(l)?l:0,y.$$intervalId=p(function(){m?r.defer(c):t.$evalAsync(c),v.notify(g++),l>0&&g>=l&&(v.resolve(g),f(y.$$intervalId),delete s[y.$$intervalId]),m||t.$apply()},a),s[y.$$intervalId]=v,y}var s={};return o.cancel=function(t){return t&&t.$$intervalId in s?(s[t.$$intervalId].promise["catch"](f),s[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete s[t.$$intervalId],!0):!1},o}]}function Cn(t){t=t.split("/");for(var e=t.length;e--;)t[e]=K(t[e]);return t.join("/")}function $n(t,e){var n=ci(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||Do[n.protocol]||null}function Mn(t,e){if(Oo.test(t))throw Eo("badpath",t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=ci(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=q(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Sn(t,e){return t.slice(0,e.length)===e}function Tn(t,e){return Sn(e,t)?e.substr(t.length):void 0}function Dn(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function En(t){return t.replace(/(#.+)|#$/,"$1")}function On(t,e,n){this.$$html5=!0,n=n||"",$n(t,this),this.$$parse=function(t){var n=Tn(e,t);if(!x(n))throw Eo("ipthprfx",t,e);Mn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Y(this.$$search),n=this.$$hash?"#"+K(this.$$hash):"";this.$$url=Cn(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return b(o=Tn(t,i))?(s=o,s=n&&b(o=Tn(n,o))?e+(Tn("/",o)||o):t+s):b(o=Tn(e,i))?s=e+o:e===i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function An(t,e,n){$n(t,this),this.$$parse=function(i){var r,o=Tn(t,i)||Tn(e,i);y(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",y(o)&&(t=i,this.replace())):(r=Tn(n,o),y(r)&&(r=o)),Mn(r,this),i=this.$$path;var o=t,s=/^\/[A-Z]:(\/.*)/;Sn(r,o)&&(r=r.replace(o,"")),s.exec(r)||(i=(r=s.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var e=Y(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=Cn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e){return Dn(t)===Dn(e)?(this.$$parse(e),!0):!1}}function Pn(t,e,n){this.$$html5=!0,An.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,s;return t===Dn(i)?o=i:(s=Tn(e,i))?o=t+n+s:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=Y(this.$$search),i=this.$$hash?"#"+K(this.$$hash):"";this.$$url=Cn(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function Ln(t){return function(){return this[t]}}function In(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Nn(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return D(t)?(e.enabled=t,this):w(t)?(D(t.enabled)&&(e.enabled=t.enabled),D(t.requireBase)&&(e.requireBase=t.requireBase),(D(t.rewriteLinks)||x(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,s){function a(t,e,n){var r=u.url(),o=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(s){throw u.url(r),u.$$state=o,s}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c;c=i.baseHref();var d,h=i.url();if(e.enabled){if(!c&&e.requireBase)throw Eo("nobase");d=h.substring(0,h.indexOf("/",h.indexOf("//")+2))+(c||"/"),c=r.history?On:Pn}else d=Dn(h),c=An;var p=d.substr(0,Dn(d).lastIndexOf("/")+1);u=new c(d,p,"#"+t),u.$$parseLinkUrl(h,h),u.$$state=i.state();var f=/^\s*(javascript|mailto):/i;o.on("click",function(t){var r=e.rewriteLinks;if(r&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var a=rr(t.target);"a"!==P(a[0]);)if(a[0]===o[0]||!(a=a.parent())[0])return;if(!x(r)||!y(a.attr(r))){var r=a.prop("href"),l=a.attr("href")||a.attr("xlink:href");w(r)&&"[object SVGAnimatedString]"===r.toString()&&(r=ci(r.animVal).href),f.test(r)||!r||a.attr("target")||t.isDefaultPrevented()||!u.$$parseLinkUrl(r,l)||(t.preventDefault(),u.absUrl()!==i.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}}),En(u.absUrl())!==En(h)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){Sn(t,p)?(n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;t=En(t),u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=o,a(r,!1,o)):(g=!1,l(r,o)))}),n.$$phase||n.$digest()):s.location.href=t}),n.$watch(function(){if(g||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var t=En(i.url()),e=En(u.absUrl()),o=i.state(),s=u.$$replace,c=t!==e||u.$$html5&&r.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=o):(c&&a(e,s,o===u.$$state?null:u.$$state),l(t,o)))}))}u.$$replace=!1}),u}]}function Rn(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack&&s?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||f;t=!1;try{t=!!r.apply}catch(s){}return t?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}var s=ir||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Bn(t){return t+""}function Hn(t,e){return"undefined"!=typeof t?t:e}function Fn(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function zn(t,e){var n,i,r;switch(t.type){case Bo.Program:n=!0,o(t.body,function(t){zn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Bo.Literal:t.constant=!0,t.toWatch=[];break;case Bo.UnaryExpression:zn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Bo.BinaryExpression:zn(t.left,e),zn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Bo.LogicalExpression:zn(t.left,e),zn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Bo.ConditionalExpression:zn(t.test,e),zn(t.alternate,e),zn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Bo.Identifier:t.constant=!1,t.toWatch=[t];break;case Bo.MemberExpression:zn(t.object,e),t.computed&&zn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Bo.CallExpression:n=r=t.filter?!e(t.callee.name).$stateful:!1,i=[],o(t.arguments,function(t){zn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=r?i:[t];break;case Bo.AssignmentExpression:zn(t.left,e),zn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Bo.ArrayExpression:n=!0,i=[],o(t.elements,function(t){zn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case Bo.ObjectExpression:n=!0,i=[],o(t.properties,function(t){zn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch),t.computed&&(zn(t.key,e),t.key.constant||i.push.apply(i,t.key.toWatch))}),t.constant=n,t.toWatch=i;break;case Bo.ThisExpression:t.constant=!1,t.toWatch=[];break;case Bo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Wn(t){if(1===t.length){t=t[0].expression;var e=t.toWatch;return 1!==e.length?e:e[0]!==t?e:void 0}}function jn(t){return t.type===Bo.Identifier||t.type===Bo.MemberExpression}function Gn(t){return 1===t.body.length&&jn(t.body[0].expression)?{type:Bo.AssignmentExpression,left:t.body[0].expression,right:{type:Bo.NGValueParameter},operator:"="}:void 0}function Vn(t){this.$filter=t}function Un(t){this.$filter=t}function qn(t,e,n){this.ast=new Bo(t,n),this.astCompiler=n.csp?new Un(e):new Vn(e)}function Yn(t){return $(t.valueOf)?t.valueOf():Lo.call(t)}function Kn(){var t,e,n=ue(),i={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){i[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(r){function s(t,e,n){return null==t||null==e?t===e:"object"!=typeof t||(t=Yn(t),"object"!=typeof t||n)?t===e||t!==t&&e!==e:!1}function a(t,e,n,i,r){var o,a=i.inputs;if(1===a.length){var l=s,a=a[0];return t.$watch(function(t){var e=a(t);return s(e,l,i.literal)||(o=i(t,void 0,void 0,[e]),l=e&&Yn(e)),o},e,n,r)}for(var u=[],c=[],d=0,h=a.length;h>d;d++)u[d]=s,c[d]=null;return t.$watch(function(t){for(var e=!1,n=0,r=a.length;r>n;n++){var l=a[n](t);(e||(e=!s(l,u[n],i.literal)))&&(c[n]=l,u[n]=l&&Yn(l))}return e&&(o=i(t,void 0,void 0,c)),o},e,n,r)}function l(t,e,n,i,r){function o(t){return i(t)}function s(t,n,i){c=t,$(e)&&e(t,n,i),d(t)&&i.$$postDigest(function(){d(c)&&l()})}var l,c,d=i.literal?u:b;return l=i.inputs?a(t,s,n,i,r):t.$watch(o,s,n)}function u(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}function c(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function d(t,e){function n(n,i,r,s){return r=o&&s?s[0]:t(n,i,r,s),e(r,n,i)}function i(n,i,r,a){return r=o&&a?a[0]:t(n,i,r,a),n=e(r,n,i),s(r)?n:r}if(!e)return t;var r=t.$$watchDelegate,o=!1,s=t.literal?u:b,l=t.oneTime?i:n;return l.literal=t.literal,l.oneTime=t.oneTime,o=!t.inputs,r&&r!==a?(l.$$watchDelegate=r,l.inputs=t.inputs):e.$stateful||(l.$$watchDelegate=a,l.inputs=t.inputs?t.inputs:[t]),l}var h={csp:$r().noUnsafeEval,literals:I(i),isIdentifierStart:$(t)&&t,isIdentifierContinue:$(e)&&e};return function(t,e){var i,o,s;switch(typeof t){case"string":return s=t=t.trim(),i=n[s],i||(":"===t.charAt(0)&&":"===t.charAt(1)&&(o=!0,t=t.substring(2)),i=new Ro(h),i=new qn(i,r,h).parse(t),i.constant?i.$$watchDelegate=c:o?(i.oneTime=!0,i.$$watchDelegate=l):i.inputs&&(i.$$watchDelegate=a),n[s]=i),d(i,e);case"function":return d(t,e);default:return d(f,e)}}}]}function Xn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Jn(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function Zn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Jn(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function Jn(t,n,i){function r(){return new s}function s(){var t=this.promise=new a;this.resolve=function(e){d(t,e)},this.reject=function(e){p(t,e)},this.notify=function(e){g(t,e)}}function a(){this.$$state={status:0}}function l(){for(;!k&&C.length;){var t=C.shift();if(!t.pur){t.pur=!0;var e=t.value,e="Possibly unhandled rejection: "+("function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):y(e)?"undefined":"string"!=typeof e?pe(e,void 0):e);t.value instanceof Error?n(t.value,e):n(e)}}}function u(e){!i||e.pending||2!==e.status||e.pur||(0===k&&0===C.length&&t(l),C.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++k,t(function(){var n,r,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var s=0,a=o.length;a>s;++s){e.pur=!0,r=o[s][0],n=o[s][e.status];try{$(n)?d(r,n(e.value)):1===e.status?d(r,e.value):p(r,e.value)}catch(u){p(r,u)}}}finally{--k,i&&0===k&&t(l)}}))}function d(t,e){t.$$state.status||(e===t?f(t,x("qcycle",e)):h(t,e))}function h(t,e){function n(e){s||(s=!0,h(t,e))}function i(e){s||(s=!0,f(t,e))}function r(e){g(t,e)}var o,s=!1;try{(w(e)||$(e))&&(o=e.then),$(o)?(t.$$state.status=-1,o.call(e,n,i,r)):(t.$$state.value=e,t.$$state.status=1,u(t.$$state))}catch(a){i(a)}}function p(t,e){t.$$state.status||f(t,e)}function f(t,e){t.$$state.value=e,t.$$state.status=2,u(t.$$state)}function g(e,i){var r=e.$$state.pending;0>=e.$$state.status&&r&&r.length&&t(function(){for(var t,e,o=0,s=r.length;s>o;o++){e=r[o][0],t=r[o][3];try{g(e,$(t)?t(i):i)}catch(a){n(a)}}})}function m(t){var e=new a;return p(e,t),e}function v(t,e,n){var i=null;try{$(n)&&(i=n())}catch(r){return m(r)}return i&&$(i.then)?i.then(function(){return e(t)},m):e(t)}function b(t,e,n,i){var r=new a;return d(r,t),r.then(e,n,i)}function _(t){if(!$(t))throw x("norslvr",t);var e=new a;return t(function(t){d(e,t)},function(t){p(e,t)}),e}var x=e("$q",TypeError),k=0,C=[];c(a.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var i=new a;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&u(this.$$state),i},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,M,t)},function(e){return v(e,m,t)},e)}});var M=b;return _.prototype=a.prototype,_.defer=r,_.reject=m,_.when=b,_.resolve=M,_.all=function(t){var e=new a,n=0,i=_r(t)?[]:{};return o(t,function(t,r){n++,b(t).then(function(t){i[r]=t,--n||d(e,i)},function(t){p(e,t)})}),0===n&&d(e,i),e},_.race=function(t){var e=r();return o(t,function(t){b(t).then(e.resolve,e.reject)}),e.promise},_}function Qn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function ti(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++br,this.$$ChildScope=null}return e.prototype=t,e}var n=10,i=e("$rootScope"),s=null,a=null;this.digestTtl=function(t){return arguments.length&&(n=t),n},this.$get=["$exceptionHandler","$parse","$browser",function(e,l,u){function c(t){t.currentScope.$$destroyed=!0}function d(t){9===ir&&(t.$$childHead&&d(t.$$childHead),t.$$nextSibling&&d(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function h(){this.$id=++br,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(x.$$phase)throw i("inprog",x.$$phase);x.$$phase=t}function g(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function m(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function v(){}function b(){for(;M.length;)try{M.shift()()}catch(t){e(t)}a=null}function _(){null===a&&(a=u.defer(function(){x.$apply(b)}))}h.prototype={constructor:h,$new:function(e,n){var i;return n=n||this,e?(i=new h,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!==this)&&i.$on("$destroy",c),i},$watch:function(t,e,n,i){var r=l(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,a=o.$$watchers,u={fn:e,last:v,get:r,exp:i||t,eq:!!n};return s=null,$(e)||(u.fn=f),a||(a=o.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(u),a.$$digestWatchIndex++,g(this,1),function(){var t=L(a,u);t>=0&&(g(o,-1),t<a.$$digestWatchIndex&&a.$$digestWatchIndex--),s=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(r,r,a)):e(r,i,a)}var i=Array(t.length),r=Array(t.length),s=[],a=this,l=!1,u=!0;if(!t.length){var c=!0;return a.$evalAsync(function(){c&&e(r,r,a)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){r[e]=t,i[e]=o,l||(l=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){i=t;var e,n,s,a;if(!y(i)){if(w(i))if(r(i))for(o!==h&&(o=h,g=o.length=0,c++),t=i.length,g!==t&&(c++,o.length=g=t),e=0;t>e;e++)a=o[e],s=i[e],n=a!==a&&s!==s,n||a===s||(c++,o[e]=s);else{o!==p&&(o=p={},g=0,c++),t=0;for(e in i)lr.call(i,e)&&(t++,s=i[e],a=o[e],e in o?(n=a!==a&&s!==s,n||a===s||(c++,o[e]=s)):(g++,o[e]=s,c++));if(g>t)for(e in c++,o)lr.call(i,e)||(g--,delete o[e])}else o!==i&&(o=i,c++);return c}}n.$stateful=!0;var i,o,s,a=this,u=1<e.length,c=0,d=l(t,n),h=[],p={},f=!0,g=0;return this.$watch(d,function(){if(f?(f=!1,e(i,i,a)):e(i,s,a),u)if(w(i))if(r(i)){s=Array(i.length);for(var t=0;t<i.length;t++)s[t]=i[t]}else for(t in s={},i)lr.call(i,t)&&(s[t]=i[t]);else s=i})},$digest:function(){var t,r,o,l,c,d,h,f,g,m,y=n,w=[];p("$digest"),u.$$checkUrlChange(),this===x&&null!==a&&(u.defer.cancel(a),b()),s=null;do{for(h=!1,f=this,d=0;d<k.length;d++){try{m=k[d],(l=m.fn)(m.scope,m.locals)}catch(_){e(_)}s=null}k.length=0;t:do{if(d=f.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(t=d[d.$$digestWatchIndex])if(c=t.get,(r=c(f))===(o=t.last)||(t.eq?R(r,o):wr(r)&&wr(o))){if(t===s){h=!1;break t}}else h=!0,s=t,t.last=t.eq?I(r,null):r,l=t.fn,l(r,o===v?r:o,f),5>y&&(g=4-y,w[g]||(w[g]=[]),w[g].push({msg:$(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:o}))}catch(M){e(M)}if(!(d=f.$$watchersCount&&f.$$childHead||f!==this&&f.$$nextSibling))for(;f!==this&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((h||k.length)&&!y--)throw x.$$phase=null,i("infdig",n,w)}while(h||k.length);for(x.$$phase=null;S<C.length;)try{C[S++]()}catch(T){e(T)}C.length=S=0,u.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&u.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var e in this.$$listenerCount)m(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(t,e){return l(t)(this,e)},$evalAsync:function(t,e){x.$$phase||k.length||u.defer(function(){k.length&&x.$digest()}),k.push({scope:this,fn:l(t),locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{p("$apply");try{return this.$eval(t)}finally{x.$$phase=null}}catch(n){e(n)}finally{try{x.$digest()}catch(i){throw e(i),i}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&M.push(e),t=l(t),_()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,m(r,1,t))}},$emit:function(t){var n,i,r,o=[],s=this,a=!1,l={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=B([l],arguments,1);do{for(n=s.$$listeners[t]||o,l.currentScope=s,i=0,r=n.length;r>i;i++)if(n[i])try{n[i].apply(null,u)}catch(c){e(c)}else n.splice(i,1),i--,r--;if(a)return l.currentScope=null,l;s=s.$parent}while(s);return l.currentScope=null,l},$broadcast:function(t){var n=this,i=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var o,s,a=B([r],arguments,1);n=i;){for(r.currentScope=n,i=n.$$listeners[t]||[],o=0,s=i.length;s>o;o++)if(i[o])try{i[o].apply(null,a)}catch(l){e(l)}else i.splice(o,1),o--,s--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var x=new h,k=x.$$asyncQueue=[],C=x.$$postDigestQueue=[],M=x.$$applyAsyncQueue=[],S=0;return x}]}function ei(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=ci(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function ni(t){if("self"===t)return t;if(x(t)){if(-1<t.indexOf("***"))throw Ho("iwcard",t);return t=Cr(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(M(t))return new RegExp("^"+t.source+"$");throw Ho("imatcher")}function ii(t){var e=[];return b(t)&&o(t,function(t){e.push(ni(t))}),e}function ri(){this.SCE_CONTEXTS=Fo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=ii(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=ii(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?di(e):!!t.exec(e.href)}function r(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var o=function(){throw Ho("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var s=r(),a={};return a[Fo.HTML]=r(s),a[Fo.CSS]=r(s),a[Fo.URL]=r(s),a[Fo.JS]=r(s),a[Fo.RESOURCE_URL]=r(a[Fo.URL]),{trustAs:function(t,e){var n=a.hasOwnProperty(t)?a[t]:null;if(!n)throw Ho("icontext",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw Ho("itype",t);return new n(e)},getTrusted:function(n,r){if(null===r||y(r)||""===r)return r;var s=a.hasOwnProperty(n)?a[n]:null;if(s&&r instanceof s)return r.$$unwrapTrustedValue();if(n===Fo.RESOURCE_URL){var l,u,s=ci(r.toString()),c=!1;for(l=0,u=t.length;u>l;l++)if(i(t[l],s)){c=!0;break}if(c)for(l=0,u=e.length;u>l;l++)if(i(e[l],s)){c=!1;break}if(c)return r;throw Ho("insecurl",r.toString())}if(n===Fo.HTML)return o(r);throw Ho("unsafe")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function oi(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>ir)throw Ho("iequirks");var i=he(Fo);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=g),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,s=i.getTrusted,a=i.trustAs;return o(Fo,function(t,e){var n=cr(e);i[("parse_as_"+n).replace(zo,ge)]=function(e){return r(t,e)},i[("get_trusted_"+n).replace(zo,ge)]=function(e){return s(t,e)},i[("trust_as_"+n).replace(zo,ge)]=function(e){return a(t,e)}}),i}]}function si(){this.$get=["$window","$document",function(t,e){var n={},i=!((!t.nw||!t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,r=h((/android (\d+)/.exec(cr((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=s.body&&s.body.style,l=!1,u=!1;return a&&(l=!!("transition"in a||"webkitTransition"in a),u=!!("animation"in a||"webkitAnimation"in a)),{history:!(!i||4>r||o),hasEvent:function(t){if("input"===t&&ir)return!1;if(y(n[t])){var e=s.createElement("div");n[t]="on"+t in e}return n[t]},csp:$r(),transitions:l,animations:u,android:r}}]}function ai(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,i,r,o){function s(a,l){s.totalPendingRequests++,(!x(a)||y(n.get(a)))&&(a=o.getTrustedResourceUrl(a));var u=i.defaults&&i.defaults.transformResponse;return _r(u)?u=u.filter(function(t){return t!==fn}):u===fn&&(u=null),i.get(a,c({cache:n,transformResponse:u},t))["finally"](function(){s.totalPendingRequests--}).then(function(t){return n.put(a,t.data),t.data},function(t){return l||(t=Wo("tpload",a,t.status,t.statusText),e(t)),r.reject(t)})}return s.totalPendingRequests=0,s}]}function li(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){t=t.getElementsByClassName("ng-binding");var i=[];return o(t,function(t){var r=yr.element(t).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+Cr(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!==r.indexOf(e)&&i.push(t)})}),i},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)
}}}]}function ui(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,a,l){$(o)||(l=a,a=o,o=f);var u,c=hr.call(arguments,3),d=b(l)&&!l,h=(d?i:n).defer(),p=h.promise;return u=e.defer(function(){try{h.resolve(o.apply(null,c))}catch(e){h.reject(e),r(e)}finally{delete s[p.$$timeoutId]}d||t.$apply()},a),p.$$timeoutId=u,s[u]=h,p}var s={};return o.cancel=function(t){return t&&t.$$timeoutId in s?(s[t.$$timeoutId].promise["catch"](f),s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function ci(t){return ir&&(jo.setAttribute("href",t),t=jo.href),jo.setAttribute("href",t),{href:jo.href,protocol:jo.protocol?jo.protocol.replace(/:$/,""):"",host:jo.host,search:jo.search?jo.search.replace(/^\?/,""):"",hash:jo.hash?jo.hash.replace(/^#/,""):"",hostname:jo.hostname,port:jo.port,pathname:"/"===jo.pathname.charAt(0)?jo.pathname:"/"+jo.pathname}}function di(t){return t=x(t)?ci(t):t,t.protocol===Go.protocol&&t.host===Go.host}function hi(){this.$get=m(t)}function pi(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,o,s,a,l;try{t=n.cookie||""}catch(u){t=""}if(t!==r)for(r=t,t=r.split("; "),i={},s=0;s<t.length;s++)o=t[s],a=o.indexOf("="),a>0&&(l=e(o.substring(0,a)),y(i[l])&&(i[l]=e(o.substring(a+1))));return i}}function fi(){this.$get=pi}function gi(t){function e(n,i){if(w(n)){var r={};return o(n,function(t,n){r[n]=e(n,t)}),r}return t.factory(n+"Filter",i)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",wi),e("date",Oi),e("filter",mi),e("json",Ai),e("limitTo",Pi),e("lowercase",Zo),e("number",_i),e("orderBy",Ii),e("uppercase",Jo)}function mi(){return function(t,n,i,o){if(!r(t)){if(null==t)return t;throw e("filter")("notarray",t)}o=o||"$";var s;switch(bi(n)){case"function":break;case"boolean":case"null":case"number":case"string":s=!0;case"object":n=vi(n,i,o,s);break;default:return t}return Array.prototype.filter.call(t,n)}}function vi(t,e,n,i){var r=w(t)&&n in t;return!0===e?e=R:$(e)||(e=function(t,e){return y(t)?!1:null===t||null===e?t===e:w(e)||w(t)&&!v(t)?!1:(t=cr(""+t),e=cr(""+e),-1!==t.indexOf(e))}),function(o){return r&&!w(o)?yi(o,t[n],e,n,!1):yi(o,t,e,n,i)}}function yi(t,e,n,i,r,o){var s=bi(t),a=bi(e);if("string"===a&&"!"===e.charAt(0))return!yi(t,e.substring(1),n,i,r);if(_r(t))return t.some(function(t){return yi(t,e,n,i,r)});switch(s){case"object":var l;if(r){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&yi(t[l],e,n,i,!0))return!0;return o?!1:yi(t,e,n,i,!1)}if("object"===a){for(l in e)if(o=e[l],!$(o)&&!y(o)&&(s=l===i,!yi(s?t:t[l],o,n,i,s,s)))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function bi(t){return null===t?"null":typeof t}function wi(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return y(n)&&(n=e.CURRENCY_SYM),y(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Ci(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function _i(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Ci(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function xi(t){var e,n,i,r,o,s=0;for(-1<(n=t.indexOf(Uo))&&(t=t.replace(Uo,"")),0<(i=t.search(/e/i))?(0>n&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):0>n&&(n=t.length),i=0;t.charAt(i)===qo;i++);if(i===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===qo;)o--;for(n-=i,e=[],r=0;o>=i;i++,r++)e[r]=+t.charAt(i)}return n>Vo&&(e=e.splice(0,Vo-1),s=n-1,n=1),{d:e,e:s,i:n}}function ki(t,e,n,i){var r=t.d,o=r.length-t.i;if(e=y(e)?Math.min(Math.max(n,o),i):+e,n=e+t.i,i=r[n],n>0){r.splice(Math.max(t.i,n));for(var s=n;s<r.length;s++)r[s]=0}else for(o=Math.max(0,o),t.i=1,r.length=Math.max(1,n=e+1),r[0]=0,s=1;n>s;s++)r[s]=0;if(i>=5)if(0>n-1){for(i=0;i>n;i--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[n-1]++;for(;o<Math.max(0,e);o++)r.push(0);(e=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0))&&(r.unshift(e),t.i++)}function Ci(t,e,n,i,r){if(!x(t)&&!k(t)||isNaN(t))return"";var o=!isFinite(t),s=!1,a=Math.abs(t)+"",l="";if(o)l="∞";else{for(s=xi(a),ki(s,r,e.minFrac,e.maxFrac),l=s.d,a=s.i,r=s.e,o=[],s=l.reduce(function(t,e){return t&&!e},!0);0>a;)l.unshift(0),a++;for(a>0?o=l.splice(a,l.length):(o=l,l=[0]),a=[],l.length>=e.lgSize&&a.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)a.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&a.unshift(l.join("")),l=a.join(n),o.length&&(l+=i+o.join("")),r&&(l+="e+"+r)}return 0>t&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function $i(t,e,n,i){var r="";for((0>t||i&&0>=t)&&(i?t=-t+1:(t=-t,r="-")),t=""+t;t.length<e;)t=qo+t;return n&&(t=t.substr(t.length-e)),r+t}function Mi(t,e,n,i,r){return n=n||0,function(o){return o=o["get"+t](),(n>0||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),$i(o,e,i,r)}}function Si(t,e,n){return function(i,r){var o=i["get"+t](),s=dr((n?"STANDALONE":"")+(e?"SHORT":"")+t);return r[s][o]}}function Ti(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Di(t){return function(e){var n=Ti(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,e=1+Math.round(e/6048e5),$i(e,t)}}function Ei(t,e){return 0>=t.getFullYear()?e.ERAS[0]:e.ERAS[1]}function Oi(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var i=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=h(e[9]+e[10]),r=h(e[9]+e[11])),o.call(t,h(e[1]),h(e[2])-1,h(e[3])),i=h(e[4]||0)-i,r=h(e[5]||0)-r,o=h(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),s.call(t,i,r,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var s,a,l="",u=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,x(n)&&(n=Xo.test(n)?h(n):e(n)),k(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;i;)(a=Ko.exec(i))?(u=B(u,a,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=j(r,c),n=G(n,r,!0)),o(u,function(e){s=Yo[e],l+=s?s(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Ai(){return function(t,e){return y(e)&&(e=2),z(t,e)}}function Pi(){return function(t,e,n){return e=1/0===Math.abs(Number(e))?Number(e):h(e),wr(e)?t:(k(t)&&(t=t.toString()),r(t)?(n=!n||isNaN(n)?0:h(n),n=0>n?Math.max(0,t.length+n):n,e>=0?Li(t,n,n+e):0===n?Li(t,e,t.length):Li(t,Math.max(0,n+e),n)):t)}}function Li(t,e,n){return x(t)?t.slice(e,n):hr.call(t,e,n)}function Ii(t){function n(e){return e.map(function(e){var n=1,i=g;if($(e))i=e;else if(x(e)&&(("+"===e.charAt(0)||"-"===e.charAt(0))&&(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant)))var r=i(),i=function(t){return t[r]};return{get:i,descending:n}})}function i(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t,e){var n=0,i=t.type,r=e.type;if(i===r){var r=t.value,o=e.value;"string"===i?(r=r.toLowerCase(),o=o.toLowerCase()):"object"===i&&(w(r)&&(r=t.index),w(o)&&(o=e.index)),r!==o&&(n=o>r?-1:1)}else n=r>i?-1:1;return n}return function(t,s,a,l){if(null==t)return t;if(!r(t))throw e("orderBy")("notarray",t);_r(s)||(s=[s]),0===s.length&&(s=["+"]);var u=n(s),c=a?-1:1,d=$(l)?l:o;return t=Array.prototype.map.call(t,function(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:u.map(function(n){var r=n.get(t);return n=typeof r,null===r?(n="string",r="null"):"object"===n&&($(r.valueOf)&&(r=r.valueOf(),i(r))||v(r)&&(r=r.toString(),i(r))),{value:r,type:n,index:e}})}}),t.sort(function(t,e){for(var n=0,i=u.length;i>n;n++){var r=d(t.predicateValues[n],e.predicateValues[n]);if(r)return r*u[n].descending*c}return d(t.tieBreaker,e.tieBreaker)*c}),t=t.map(function(t){return t.value})}}function Ni(t){return $(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function Ri(t,e,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=es,this.$$element=t,this.$$animate=i,Bi(this)}function Bi(t){t.$$classCache={},t.$$classCache[Ns]=!(t.$$classCache[Is]=t.$$element.hasClass(Is))}function Hi(t){function e(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function n(t,n,i){n=n?"-"+ne(n,"-"):"",e(t,Is+n,!0===i),e(t,Ns+n,!1===i)}var i=t.set,r=t.unset;t.clazz.prototype.$setValidity=function(t,o,s){y(o)?(this.$pending||(this.$pending={}),i(this.$pending,t,s)):(this.$pending&&r(this.$pending,t,s),Fi(this.$pending)&&(this.$pending=void 0)),D(o)?o?(r(this.$error,t,s),i(this.$$success,t,s)):(i(this.$error,t,s),r(this.$$success,t,s)):(r(this.$error,t,s),r(this.$$success,t,s)),this.$pending?(e(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,n(this,"",null)):(e(this,"ng-pending",!1),this.$valid=Fi(this.$error),this.$invalid=!this.$valid,n(this,"",this.$valid)),o=this.$pending&&this.$pending[t]?void 0:this.$error[t]?!1:this.$$success[t]?!0:null,n(this,t,o),this.$$parentForm.$setValidity(t,o,this)}}function Fi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function zi(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Wi(t,e,n,i,r,o){var s=cr(e[0].type);if(!r.android){var a=!1;e.on("compositionstart",function(){a=!0}),e.on("compositionend",function(){a=!1,u()})}var l,u=function(t){if(l&&(o.defer.cancel(l),l=null),!a){var r=e.val();t=t&&t.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(r=kr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,t)}};if(r.hasEvent("input"))e.on("input",u);else{var c=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),fs[s]&&i.$$hasNativeValidators&&s===n.type&&e.on("keydown wheel mousedown",function(t){if(!l){var e=this.validity,n=e.badInput,i=e.typeMismatch;l=o.defer(function(){l=null,e.badInput===n&&e.typeMismatch===i||u(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function ji(t,e){return function(n,i){var r,s;if(C(n))return n;if(x(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),os.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),s=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return 0/0}}function Gi(t,e,n,i){return function(r,o,s,a,l,u,c){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return b(t)&&!C(t)?n(t)||void 0:t}Vi(r,o,s,a),Wi(r,o,s,a,l,u);var p,f=a&&a.$options.getOption("timezone");if(a.$$parserName=t,a.$parsers.push(function(t){return a.$isEmpty(t)?null:e.test(t)?(t=n(t,p),f&&(t=G(t,f)),t):void 0}),a.$formatters.push(function(t){if(t&&!C(t))throw Hs("datefmt",t);return d(t)?((p=t)&&f&&(p=G(p,f,!0)),c("date")(t,i,f)):(p=null,"")}),b(s.min)||s.ngMin){var g;a.$validators.min=function(t){return!d(t)||y(g)||n(t)>=g},s.$observe("min",function(t){g=h(t),a.$validate()})}if(b(s.max)||s.ngMax){var m;a.$validators.max=function(t){return!d(t)||y(m)||n(t)<=m},s.$observe("max",function(t){m=h(t),a.$validate()})}}}function Vi(t,e,n,i){(i.$$hasNativeValidators=w(e[0].validity))&&i.$parsers.push(function(t){var n=e.prop("validity")||{};return n.badInput||n.typeMismatch?void 0:t})}function Ui(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ls.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!k(e))throw Hs("numfmt",e);e=e.toString()}return e})}function qi(t){return b(t)&&!k(t)&&(t=parseFloat(t)),wr(t)?void 0:t}function Yi(t){var e=t.toString(),n=e.indexOf(".");return-1===n?t>-1&&1>t&&(t=/e-(\d+)$/.exec(e))?Number(t[1]):0:e.length-n-1}function Ki(t,e,n){t=Number(t);var i=(0|t)!==t,r=(0|e)!==e,o=(0|n)!==n;if(i||r||o){var s=i?Yi(t):0,a=r?Yi(e):0,l=o?Yi(n):0,s=Math.max(s,a,l),s=Math.pow(10,s);t*=s,e*=s,n*=s,i&&(t=Math.round(t)),r&&(e=Math.round(e)),o&&(n=Math.round(n))}return 0===(t-e)%n}function Xi(t,e,n,i,r){if(b(i)){if(t=t(i),!t.constant)throw Hs("constexpr",n,i);return t(e)}return r}function Zi(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r===e[o])continue t;n.push(r)}return n}function i(t){var e=t;return _r(t)?e=t.map(i).join(" "):w(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}t="ngClass"+t;var r;return["$parse",function(s){return{restrict:"AC",link:function(a,l,u){function c(t,e){var n=[];return o(t,function(t){(e>0||p[t])&&(p[t]=(p[t]||0)+e,p[t]===+(e>0)&&n.push(t))}),n.join(" ")}function d(t){if(t===e){var n=h,n=c(n&&n.split(" "),1);u.$addClass(n)}else n=h,n=c(n&&n.split(" "),-1),u.$removeClass(n);f=t}var h,p=l.data("$classCounts"),f=!0;p||(p=ue(),l.data("$classCounts",p)),"ngClass"!==t&&(r||(r=s("$index",function(t){return 1&t})),a.$watch(r,d)),a.$watch(s(u[t],i),function(t){if(x(t)||(t=i(t)),f===e){var r=t,o=h&&h.split(" "),s=r&&r.split(" "),r=n(o,s),o=n(s,o),r=c(r,-1),o=c(o,1);u.$addClass(o),u.$removeClass(r)}h=t})}}}]}function Ji(t,e,n,i,r,o,s,a,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=es,this.$options=Fs,this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=s,this.$$parse=r,this.$$q=a,this.$$exceptionHandler=e,Bi(this),Qi(this)}function Qi(t){t.$$scope.$watch(function(e){if(e=t.$$ngModelGet(e),e!==t.$modelValue&&(t.$modelValue===t.$modelValue||e===e)){t.$modelValue=t.$$rawModelValue=e,t.$$parserValid=void 0;for(var n=t.$formatters,i=n.length,r=e;i--;)r=n[i](r);t.$viewValue!==r&&(t.$$updateEmptyClasses(r),t.$viewValue=t.$$lastCommittedViewValue=r,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,f))}return e})}function tr(t){this.$$options=t}function er(t,e){o(e,function(e,n){b(t[n])||(t[n]=e)})}function nr(t,e){t.prop("selected",e),t.attr("selected",e)}var ir,rr,or,sr,ar=/^\/(.+)\/([a-z]*)$/,lr=Object.prototype.hasOwnProperty,ur={objectMaxDepth:5},cr=function(t){return x(t)?t.toLowerCase():t},dr=function(t){return x(t)?t.toUpperCase():t},hr=[].slice,pr=[].splice,fr=[].push,gr=Object.prototype.toString,mr=Object.getPrototypeOf,vr=e("ng"),yr=t.angular||(t.angular={}),br=0;ir=t.document.documentMode;var wr=Number.isNaN||function(t){return t!==t};f.$inject=[],g.$inject=[];var _r=Array.isArray,xr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,kr=function(t){return x(t)?t.trim():t},Cr=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},$r=function(){if(!b($r.rules)){var e=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");$r.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=$r;try{new Function(""),n=!1}catch(i){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return $r.rules},Mr=function(){if(b(Mr.name_))return Mr.name_;var e,n,i,r,o=Tr.length;for(n=0;o>n;++n)if(i=Tr[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return Mr.name_=r},Sr=/:/g,Tr=["ng-","data-ng-","ng:","x-ng-"],Dr=function(e){var n=e.currentScript;return n?n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement?(n=n.attributes,[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})):!1:!0}(t.document),Er=/[A-Z]/g,Or=!1,Ar=3,Pr={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};be.expando="ng339";var Lr=be.cache={},Ir=1;be._data=function(t){return this.cache[t[this.expando]]||{}};var Nr=/-([a-z])/g,Rr=/^-ms-/,Br={mouseleave:"mouseout",mouseenter:"mouseover"},Hr=e("jqLite"),Fr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,zr=/<|&#?\w+;/,Wr=/<([\w:-]+)/,jr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Gr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gr.optgroup=Gr.option,Gr.tbody=Gr.tfoot=Gr.colgroup=Gr.caption=Gr.thead,Gr.th=Gr.td;var Vr=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Ur=be.prototype={ready:Ie,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return rr(t>=0?this[t]:this[this.length+t])},length:0,push:fr,sort:[].sort,splice:[].splice},qr={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){qr[cr(t)]=t});var Yr={};o("input select option textarea button form details".split(" "),function(t){Yr[t]=!0});var Kr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:$e,removeData:ke,hasData:function(t){for(var e in Lr[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;n>e;e++)ke(t[e])}},function(t,e){be[e]=t}),o({data:$e,inheritedData:Oe,scope:function(t){return rr.data(t,"$scope")||Oe(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return rr.data(t,"$isolateScope")||rr.data(t,"$isolateScopeNoTemplate")},controller:Ee,injector:function(t){return Oe(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Me,css:function(t,e,n){return e=me(e.replace(Rr,"ms-")),b(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i=t.nodeType;if(i!==Ar&&2!==i&&8!==i&&t.getAttribute){var i=cr(e),r=qr[i];if(!b(n))return t=t.getAttribute(e),r&&null!==t&&(t=i),null===t?void 0:t;null===n||!1===n&&r?t.removeAttribute(e):t.setAttribute(e,r?i:n)}},prop:function(t,e,n){return b(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return 1===n||n===Ar?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===P(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(_e(t,!0),void(t.innerHTML=e))},empty:Ae},function(t,e){be.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Ae&&y(2===t.length&&t!==Me&&t!==Ee?e:n)){if(w(e)){for(i=0;o>i;i++)if(t===$e)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(i=t.$dv,o=y(i)?Math.min(o,1):o,r=0;o>r;r++){var s=t(this[r],e,n);i=i?i+s:s}return i}for(i=0;o>i;i++)t(this[i],e,n);return this}}),o({removeData:ke,on:function(t,e,n,i){if(b(i))throw Hr("onargs");if(ve(t)){i=Ce(t,!0);var r=i.events,o=i.handle;o||(o=i.handle=Re(t,r)),i=0<=e.indexOf(" ")?e.split(" "):[e];for(var s=i.length,a=function(e,i,s){var a=r[e];a||(a=r[e]=[],a.specialHandlerWrapper=i,"$destroy"===e||s||t.addEventListener(e,o)),a.push(n)};s--;)e=i[s],Br[e]?(a(Br[e],He),a(e,void 0,!0)):a(e)}},off:xe,one:function(t,e,n){t=rr(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;_e(t),o(new be(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(1===n||11===n){e=new be(e);for(var n=0,i=e.length;i>n;n++)t.appendChild(e[n])}},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;o(new be(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){var n=rr(e).eq(0).clone()[0],i=t.parentNode;i&&i.replaceChild(n,t),n.appendChild(t)},remove:Pe,detach:function(t){Pe(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i){e=new be(e);for(var r=0,o=e.length;o>r;r++){var s=e[r];i.insertBefore(s,n.nextSibling),n=s}}},addClass:Te,removeClass:Se,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;y(i)&&(i=!Me(t,e)),(i?Te:Se)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:we,triggerHandler:function(t,e,n){var i,r,s=e.type||e,a=Ce(t);(a=(a=a&&a.events)&&a[s])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:f,type:s,target:t},e.type&&(i=c(i,e)),e=he(a),r=n?[i].concat(n):[i],o(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(t,e){be.prototype[e]=function(e,n,i){for(var r,o=0,s=this.length;s>o;o++)y(r)?(r=t(this[o],e,n,i),b(r)&&(r=rr(r))):De(r,t(this[o],e,n,i));return b(r)?r:this}}),be.prototype.bind=be.prototype.on,be.prototype.unbind=be.prototype.off;var Xr=Object.create(null);We.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t))},_transformKey:function(t){return wr(t)?Xr:t},get:function(t){return t=this._transformKey(t),t=this._idx(t),-1!==t?this._values[t]:void 0},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},"delete":function(t){return t=this._transformKey(t),t=this._idx(t),-1===t?!1:(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=0/0,this._lastIndex=-1,!0)}};var Zr=We,Jr=[function(){this.$get=[function(){return Zr}]}],Qr=/^([^(]+?)=>/,to=/^[^(]*\(\s*([^)]*)\)/m,eo=/,/,no=/^\s*(_?)(\S+?)\1\s*$/,io=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ro=e("$injector");Ve.$$annotate=function(t,e,n){var i;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw x(n)&&n||(n=t.name||Ge(t)),ro("strictdi",n);e=je(t),o(e[1].split(eo),function(t){t.replace(no,function(t,e,n){i.push(n)})})}t.$inject=i}}else _r(t)?(e=t.length-1,oe(t[e],"fn"),i=t.slice(0,e)):oe(t,"fn",!0);return i};var oo=e("$animate"),so=function(){this.$get=f},ao=function(){var t=new Zr,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&(e=x(e)?e.split(" "):_r(e)?e:[],o(e,function(e){e&&(i=!0,t[e]=n)})),i}function s(){o(e,function(e){var n=t.get(e);if(n){var i=Ye(e.attr("class")),r="",s="";o(n,function(t,e){t!==!!i[e]&&(t?r+=(r.length?" ":"")+e:s+=(s.length?" ":"")+e)}),o(e,function(t){r&&Te(t,r),s&&Se(t,s)}),t["delete"](e)}}),e.length=0}return{enabled:f,on:f,off:f,pin:f,push:function(o,a,l,u){return u&&u(),l=l||{},l.from&&o.css(l.from),l.to&&o.css(l.to),(l.addClass||l.removeClass)&&(a=l.addClass,u=l.removeClass,l=t.get(o)||{},a=r(l,a,!0),u=r(l,u,!1),(a||u)&&(t.set(o,l),e.push(o),1===e.length&&i.$$postDigest(s))),o=new n,o.complete(),o}}}]},lo=["$provide",function(t){var e=this,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw oo("notcsel",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(n.toString()))throw n=null,oo("nongcls","ng-animate");return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i;t:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break t}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&rr(i),r=r&&rr(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",Ke(o))},move:function(n,i,r,o){return i=i&&rr(i),r=r&&rr(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",Ke(o))},leave:function(e,n){return t.push(e,"leave",Ke(n),function(){e.remove()})},addClass:function(e,n,i){return i=Ke(i),i.addClass=qe(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=Ke(i),i.removeClass=qe(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=Ke(r),r.addClass=qe(r.addClass,n),r.removeClass=qe(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=Ke(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,i):i,o.tempClasses=qe(o.tempClasses,r||"ng-inline-animate"),t.push(e,"animate",o)}}}]}],uo=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),1<n.length||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},co=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,r){function s(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){i()?r(t,0,!1):e(t)},this._state=0}return s.chain=function(t,e){function n(){i===t.length?e(!0):t[i](function(t){!1===t?e(!1):(i++,n())})}var i=0;n()},s.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;o(t,function(t){t.done(n)})},s.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:f,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},s}]},ho=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o.addClass&&(e.addClass(o.addClass),o.addClass=null),o.removeClass&&(e.removeClass(o.removeClass),o.removeClass=null),o.to&&(e.css(o.to),o.to=null),s||a.complete(),s=!0}),a}var o=i||{};o.$$prepared||(o=I(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(e.css(o.from),o.from=null);var s,a=new n;return{start:r,end:r}}}]},po=e("$compile"),fo=new function(){};tn.$inject=["$provide","$$sanitizeUriProvider"],en.prototype.isFirstChange=function(){return this.previousValue===fo};var go=/^((?:x|data)[:\-_])/i,mo=/[:\-_]+(.)/g,vo=e("$controller"),yo=/^(\S+)(\s+as\s+([\w$]+))?$/,bo=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof rr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},wo="application/json",_o={"Content-Type":wo+";charset=utf-8"},xo=/^\[|^\{(?!\{)/,ko={"[":/]$/,"{":/}$/},Co=/^\)]\}',?\n/,$o=e("$http"),Mo=yr.$interpolateMinErr=e("$interpolate");Mo.throwNoconcat=function(t){throw Mo("noconcat",t)},Mo.interr=function(t,e){return Mo("interr",t,e.toString())};var So=function(){this.$get=function(){function t(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var e=yr.callbacks,n={};return{createCallback:function(i){i="_"+(e.$$counter++).toString(36);var r="angular.callbacks."+i,o=t(i);return n[r]=e[i]=o,r},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){delete e[n[t].id],delete n[t]}}}},To=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Do={http:80,https:443,ftp:21},Eo=e("$location"),Oo=/^\s*[\\/]{2,}/,Ao={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Ln("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=To.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Ln("$$protocol"),host:Ln("$$host"),port:Ln("$$port"),path:In("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||k(t))t=t.toString(),this.$$search=q(t);else{if(!w(t))throw Eo("isrcharg");t=I(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:In("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Pn,An,On],function(t){t.prototype=Object.create(Ao),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==On||!this.$$html5)throw Eo("nostate");return this.$$state=y(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var Po=e("$parse"),Lo={}.constructor.prototype.valueOf,Io=ue();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Io[t]=!0});var No={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ro=function(t){this.options=t};Ro.prototype={constructor:Ro,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),'"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=Io[e],r=Io[n];Io[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&56319>=n&&i>=56320&&57343>=i?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)
},throwError:function(t,e,n){throw n=n||this.index,e=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,Po("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=cr(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=No[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Bo=function(t,e){this.lexer=t,this.options=e};Bo.Program="Program",Bo.ExpressionStatement="ExpressionStatement",Bo.AssignmentExpression="AssignmentExpression",Bo.ConditionalExpression="ConditionalExpression",Bo.LogicalExpression="LogicalExpression",Bo.BinaryExpression="BinaryExpression",Bo.UnaryExpression="UnaryExpression",Bo.CallExpression="CallExpression",Bo.MemberExpression="MemberExpression",Bo.Identifier="Identifier",Bo.Literal="Literal",Bo.ArrayExpression="ArrayExpression",Bo.Property="Property",Bo.ObjectExpression="ObjectExpression",Bo.ThisExpression="ThisExpression",Bo.LocalsExpression="LocalsExpression",Bo.NGValueParameter="NGValueParameter",Bo.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Bo.Program,body:t}},expressionStatement:function(){return{type:Bo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!jn(t))throw Po("lval");t={type:Bo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Bo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Bo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Bo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Bo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=I(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Bo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Bo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Bo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Bo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:Bo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Bo.Identifier,name:t.text}},constant:function(){return{type:Bo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Bo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Bo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Bo.ObjectExpression,properties:e}},throwError:function(t,e){throw Po("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Po("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Po("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){t=this.tokens[t];var o=t.text;if(o===e||o===n||o===i||o===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return(t=this.peek(t,e,n,i))?(this.tokens.shift(),t):!1},selfReferential:{"this":{type:Bo.ThisExpression},$locals:{type:Bo.LocalsExpression}}},Vn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},zn(t,e.$filter);var n,i="";return this.stage="assign",(n=Gn(t))&&(this.state.computing="assign",i=this.nextId(),this.recurse(n,i),this.return_(i),i="fn.assign="+this.generateFunction("assign","s,v,l")),n=Wn(t.body),e.stage="inputs",o(n,function(t,n){var i="fn"+n;e.state[i]={vars:[],body:[],own:{}},e.state.computing=i;var r=e.nextId();e.recurse(t,r),e.return_(r),e.state.inputs.push(i),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t),t='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",t=new Function("$filter","getStringValue","ifDefined","plus",t)(this.$filter,Bn,Hn,Fn),this.state=this.stage=void 0,t},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,i,r,s){var a,l,u,c,d,h=this;if(i=i||f,!s&&b(t.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,i,r,!0));else switch(t.type){case Bo.Program:o(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){l=t}),n!==t.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case Bo.Literal:c=this.escape(t.value),this.assign(e,c),i(e||c);break;case Bo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){l=t}),c=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,c),i(c);break;case Bo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){a=t}),this.recurse(t.right,void 0,void 0,function(t){l=t}),c="+"===t.operator?this.plus(a,l):"-"===t.operator?this.ifDefined(a,0)+t.operator+this.ifDefined(l,0):"("+a+")"+t.operator+"("+l+")",this.assign(e,c),i(c);break;case Bo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),i(e);break;case Bo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),i(e);break;case Bo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){r&&1!==r&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),i(e);break;case Bo.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,a,void 0,function(){h.if_(h.notNull(a),function(){t.computed?(l=h.nextId(),h.recurse(t.property,l),h.getStringValue(l),r&&1!==r&&h.if_(h.not(h.computedMember(a,l)),h.lazyAssign(h.computedMember(a,l),"{}")),c=h.computedMember(a,l),h.assign(e,c),n&&(n.computed=!0,n.name=l)):(r&&1!==r&&h.if_(h.isNull(h.nonComputedMember(a,t.property.name)),h.lazyAssign(h.nonComputedMember(a,t.property.name),"{}")),c=h.nonComputedMember(a,t.property.name),h.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),i(e)},!!r);break;case Bo.CallExpression:e=e||this.nextId(),t.filter?(l=h.filter(t.callee.name),u=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),u.push(e)}),c=l+"("+u.join(",")+")",h.assign(e,c),i(e)):(l=h.nextId(),a={},u=[],h.recurse(t.callee,l,a,function(){h.if_(h.notNull(l),function(){o(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){u.push(t)})}),c=a.name?h.member(a.context,a.name,a.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",h.assign(e,c)},function(){h.assign(e,"undefined")}),i(e)}));break;case Bo.AssignmentExpression:l=this.nextId(),a={},this.recurse(t.left,void 0,a,function(){h.if_(h.notNull(a.context),function(){h.recurse(t.right,l),c=h.member(a.context,a.name,a.computed)+t.operator+l,h.assign(e,c),i(e||c)})},1);break;case Bo.ArrayExpression:u=[],o(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){u.push(t)})}),c="["+u.join(",")+"]",this.assign(e,c),i(e||c);break;case Bo.ObjectExpression:u=[],d=!1,o(t.properties,function(t){t.computed&&(d=!0)}),d?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(a=h.nextId(),h.recurse(t.key,a)):a=t.key.type===Bo.Identifier?t.key.name:""+t.key.value,l=h.nextId(),h.recurse(t.value,l),h.assign(h.member(e,a,t.computed),l)})):(o(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===Bo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(e,c)),i(e||c);break;case Bo.ThisExpression:this.assign(e,"s"),i(e||"s");break;case Bo.LocalsExpression:this.assign(e,"l"),i(e||"l");break;case Bo.NGValueParameter:this.assign(e,"v"),i(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,i,r,o){var s=this;return function(){s.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(k(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Po("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Un.prototype={compile:function(t){var e=this;zn(t,e.$filter);var n,i;(n=Gn(t))&&(i=this.recurse(n)),n=Wn(t.body);var r;n&&(r=[],o(n,function(t,n){var i=e.recurse(t);t.input=i,r.push(i),t.watchId=n}));var s=[];return o(t.body,function(t){s.push(e.recurse(t.expression))}),t=0===t.body.length?f:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(i){n=i(t,e)}),n},i&&(t.assign=function(t,e,n){return i(t,n,e)}),r&&(t.inputs=r),t},recurse:function(t,e,n){var i,r,s,a=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Bo.Literal:return this.value(t.value,e);case Bo.UnaryExpression:return r=this.recurse(t.argument),this["unary"+t.operator](r,e);case Bo.BinaryExpression:return i=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](i,r,e);case Bo.LogicalExpression:return i=this.recurse(t.left),r=this.recurse(t.right),this["binary"+t.operator](i,r,e);case Bo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Bo.Identifier:return a.identifier(t.name,e,n);case Bo.MemberExpression:return i=this.recurse(t.object,!1,!!n),t.computed||(r=t.property.name),t.computed&&(r=this.recurse(t.property)),t.computed?this.computedMember(i,r,e,n):this.nonComputedMember(i,r,e,n);case Bo.CallExpression:return s=[],o(t.arguments,function(t){s.push(a.recurse(t))}),t.filter&&(r=this.$filter(t.callee.name)),t.filter||(r=this.recurse(t.callee,!0)),t.filter?function(t,n,i,o){for(var a=[],l=0;l<s.length;++l)a.push(s[l](t,n,i,o));return t=r.apply(void 0,a,o),e?{context:void 0,name:void 0,value:t}:t}:function(t,n,i,o){var a,l=r(t,n,i,o);if(null!=l.value){a=[];for(var u=0;u<s.length;++u)a.push(s[u](t,n,i,o));a=l.value.apply(l.context,a)}return e?{value:a}:a};case Bo.AssignmentExpression:return i=this.recurse(t.left,!0,1),r=this.recurse(t.right),function(t,n,o,s){var a=i(t,n,o,s);return t=r(t,n,o,s),a.context[a.name]=t,e?{value:t}:t};case Bo.ArrayExpression:return s=[],o(t.elements,function(t){s.push(a.recurse(t))}),function(t,n,i,r){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,i,r));return e?{value:o}:o};case Bo.ObjectExpression:return s=[],o(t.properties,function(t){s.push(t.computed?{key:a.recurse(t.key),computed:!0,value:a.recurse(t.value)}:{key:t.key.type===Bo.Identifier?t.key.name:""+t.key.value,computed:!1,value:a.recurse(t.value)})}),function(t,n,i,r){for(var o={},a=0;a<s.length;++a)s[a].computed?o[s[a].key(t,n,i,r)]=s[a].value(t,n,i,r):o[s[a].key]=s[a].value(t,n,i,r);return e?{value:o}:o};case Bo.ThisExpression:return function(t){return e?{value:t}:t};case Bo.LocalsExpression:return function(t,n){return e?{value:n}:n};case Bo.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){return n=t(n,i,r,o),n=b(n)?+n:0,e?{value:n}:n}},"unary-":function(t,e){return function(n,i,r,o){return n=t(n,i,r,o),n=b(n)?-n:-0,e?{value:n}:n}},"unary!":function(t,e){return function(n,i,r,o){return n=!t(n,i,r,o),e?{value:n}:n}},"binary+":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s);return i=e(i,r,o,s),a=Fn(a,i),n?{value:a}:a}},"binary-":function(t,e,n){return function(i,r,o,s){var a=t(i,r,o,s);return i=e(i,r,o,s),a=(b(a)?a:0)-(b(i)?i:0),n?{value:a}:a}},"binary*":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)*e(i,r,o,s),n?{value:i}:i}},"binary/":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)/e(i,r,o,s),n?{value:i}:i}},"binary%":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)%e(i,r,o,s),n?{value:i}:i}},"binary===":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)===e(i,r,o,s),n?{value:i}:i}},"binary!==":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)!==e(i,r,o,s),n?{value:i}:i}},"binary==":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)==e(i,r,o,s),n?{value:i}:i}},"binary!=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)!=e(i,r,o,s),n?{value:i}:i}},"binary<":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)<e(i,r,o,s),n?{value:i}:i}},"binary>":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)>e(i,r,o,s),n?{value:i}:i}},"binary<=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)<=e(i,r,o,s),n?{value:i}:i}},"binary>=":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)>=e(i,r,o,s),n?{value:i}:i}},"binary&&":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)&&e(i,r,o,s),n?{value:i}:i}},"binary||":function(t,e,n){return function(i,r,o,s){return i=t(i,r,o,s)||e(i,r,o,s),n?{value:i}:i}},"ternary?:":function(t,e,n,i){return function(r,o,s,a){return r=t(r,o,s,a)?e(r,o,s,a):n(r,o,s,a),i?{value:r}:r}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(i,r){return i=r&&t in r?r:i,n&&1!==n&&i&&null==i[t]&&(i[t]={}),r=i?i[t]:void 0,e?{context:i,name:t,value:r}:r}},computedMember:function(t,e,n,i){return function(r,o,s,a){var l,u,c=t(r,o,s,a);return null!=c&&(l=e(r,o,s,a),l+="",i&&1!==i&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(t,e,n,i){return function(r,o,s,a){return r=t(r,o,s,a),i&&1!==i&&r&&null==r[e]&&(r[e]={}),o=null!=r?r[e]:void 0,n?{context:r,name:e,value:o}:o}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}},qn.prototype={constructor:qn,parse:function(t){t=this.ast.ast(t);var e=this.astCompiler.compile(t);return e.literal=0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Bo.Literal||t.body[0].expression.type===Bo.ArrayExpression||t.body[0].expression.type===Bo.ObjectExpression),e.constant=t.constant,e}};var Ho=e("$sce"),Fo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},zo=/_([a-z])/g,Wo=e("$compile"),jo=t.document.createElement("a"),Go=ci(t.location.href);pi.$inject=["$document"],gi.$inject=["$provide"];var Vo=22,Uo=".",qo="0";wi.$inject=["$locale"],_i.$inject=["$locale"];var Yo={yyyy:Mi("FullYear",4,0,!1,!0),yy:Mi("FullYear",2,0,!0,!0),y:Mi("FullYear",1,0,!1,!0),MMMM:Si("Month"),MMM:Si("Month",!0),MM:Mi("Month",2,1),M:Mi("Month",1,1),LLLL:Si("Month",!1,!0),dd:Mi("Date",2),d:Mi("Date",1),HH:Mi("Hours",2),H:Mi("Hours",1),hh:Mi("Hours",2,-12),h:Mi("Hours",1,-12),mm:Mi("Minutes",2),m:Mi("Minutes",1),ss:Mi("Seconds",2),s:Mi("Seconds",1),sss:Mi("Milliseconds",3),EEEE:Si("Day"),EEE:Si("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return t=-1*n,t=(t>=0?"+":"")+($i(Math[t>0?"floor":"ceil"](t/60),2)+$i(Math.abs(t%60),2))},ww:Di(2),w:Di(1),G:Ei,GG:Ei,GGG:Ei,GGGG:function(t,e){return 0>=t.getFullYear()?e.ERANAMES[0]:e.ERANAMES[1]}},Ko=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Xo=/^-?\d+$/;Oi.$inject=["$locale"];var Zo=m(cr),Jo=m(dr);Ii.$inject=["$parse"];var Qo=m({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===gr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ts={};o(qr,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!==t){var i=nn("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),ts[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(Kr,function(t,e){ts[e]=function(){return{priority:100,link:function(t,n,i){return"ngPattern"===e&&"/"===i.ngPattern.charAt(0)&&(n=i.ngPattern.match(ar))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=nn("ng-"+t);ts[e]=function(){return{priority:99,link:function(n,i,r){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===gr.call(i.prop("href"))&&(s="xlinkHref",r.$attr[s]="xlink:href",o=null),r.$observe(e,function(e){e?(r.$set(s,e),ir&&o&&i.prop(o,r[s])):"href"===t&&r.$set(s,null)})}}}});var es={$addControl:f,$$renameControl:function(t,e){t.$name=e},$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f};Ri.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Ri.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){se(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),L(this.$$controls,t),t.$$parentForm=es},$setDirty:function(){this.$$animate.removeClass(this.$$element,Rs),this.$$animate.addClass(this.$$element,Bs),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Rs,Bs+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Hi({clazz:Ri,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(L(i,n),0===i.length&&delete t[e])}});var ns=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||f}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Ri,compile:function(n,r){n.addClass(Rs).addClass(Is);var o=r.name?"name":t&&r.ngForm?"ngForm":!1;return{pre:function(t,n,r,s){var a=s[0];if(!("action"in r)){var l=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",l)},0,!1)})}(s[1]||a.$$parentForm).$addControl(a);var u=o?i(a.$name):f;o&&(u(t,a),r.$observe(o,function(e){a.$name!==e&&(u(t,void 0),a.$$parentForm.$$renameControl(a,e),(u=i(a.$name))(t,a))})),n.on("$destroy",function(){a.$$parentForm.$removeControl(a),u(t,void 0),c(a,es)})}}}}}]},is=ns(),rs=ns(!0),os=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ss=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,as=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ls=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,us=/^(\d{4,})-(\d{2})-(\d{2})$/,cs=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ds=/^(\d{4,})-W(\d\d)$/,hs=/^(\d{4,})-(\d\d)$/,ps=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,fs=ue();o(["date","datetime-local","month","time","week"],function(t){fs[t]=!0});var gs={text:function(t,e,n,i,r,o){Wi(t,e,n,i,r,o),zi(i)},date:Gi("date",us,ji(us,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Gi("datetimelocal",cs,ji(cs,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Gi("time",ps,ji(ps,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Gi("week",ds,function(t,e){if(C(t))return t;if(x(t)){ds.lastIndex=0;var n=ds.exec(t);if(n){var i=+n[1],r=+n[2],o=n=0,s=0,a=0,l=Ti(i),r=7*(r-1);return e&&(n=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),a=e.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,s,a)}}return 0/0},"yyyy-Www"),month:Gi("month",hs,ji(hs,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,r,o){Vi(t,e,n,i),Ui(i),Wi(t,e,n,i,r,o);var s,a;if((b(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||y(s)||t>=s},n.$observe("min",function(t){s=qi(t),i.$validate()})),(b(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||y(a)||a>=t},n.$observe("max",function(t){a=qi(t),i.$validate()})),b(n.step)||n.ngStep){var l;i.$validators.step=function(t,e){return i.$isEmpty(e)||y(l)||Ki(e,s||0,l)},n.$observe("step",function(t){l=qi(t),i.$validate()})}},url:function(t,e,n,i,r,o){Wi(t,e,n,i,r,o),zi(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||ss.test(n)}},email:function(t,e,n,i,r,o){Wi(t,e,n,i,r,o),zi(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||as.test(n)}},radio:function(t,e,n,i){var r=!n.ngTrim||"false"!==kr(n.ngTrim);y(n.name)&&e.attr("name",++br),e.on("click",function(t){var o;e[0].checked&&(o=n.value,r&&(o=kr(o)),i.$setViewValue(o,t&&t.type))}),i.$render=function(){var t=n.value;r&&(t=kr(t)),e[0].checked=t===i.$viewValue},n.$observe("value",i.$render)},range:function(t,e,n,i,r,o){function s(t,i){e.attr(t,n[t]),n.$observe(t,i)}function a(t){d=qi(t),wr(i.$modelValue)||(c?(t=e.val(),d>t&&(t=d,e.val(t)),i.$setViewValue(t)):i.$validate())}function l(t){h=qi(t),wr(i.$modelValue)||(c?(t=e.val(),t>h&&(e.val(h),t=d>h?d:h),i.$setViewValue(t)):i.$validate())}function u(t){p=qi(t),wr(i.$modelValue)||(c&&i.$viewValue!==e.val()?i.$setViewValue(e.val()):i.$validate())}Vi(t,e,n,i),Ui(i),Wi(t,e,n,i,r,o);var c=i.$$hasNativeValidators&&"range"===e[0].type,d=c?0:void 0,h=c?100:void 0,p=c?1:void 0,f=e[0].validity;t=b(n.min),r=b(n.max),o=b(n.step);var g=i.$render;i.$render=c&&b(f.rangeUnderflow)&&b(f.rangeOverflow)?function(){g(),i.$setViewValue(e.val())}:g,t&&(i.$validators.min=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||y(d)||e>=d},s("min",a)),r&&(i.$validators.max=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||y(h)||h>=e},s("max",l)),o&&(i.$validators.step=c?function(){return!f.stepMismatch}:function(t,e){return i.$isEmpty(e)||y(p)||Ki(e,d||0,p)},s("step",u))},checkbox:function(t,e,n,i,r,o,s,a){var l=Xi(a,t,"ngTrueValue",n.ngTrueValue,!0),u=Xi(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return R(t,l)}),i.$parsers.push(function(t){return t?l:u})},hidden:f,button:f,submit:f,reset:f,file:f},ms=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,s,a){a[0]&&(gs[cr(s.type)]||gs.text)(r,o,s,a[0],e,t,n,i)}}}}],vs=/^(true|false|\d+)$/,ys=function(){function t(t,e,n){var i=b(n)?n:9===ir?"":null;t.prop("value",i),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return vs.test(n.ngValue)?function(e,n,i){e=e.$eval(i.ngValue),t(n,i,e)}:function(e,n,i){e.$watch(i.ngValue,function(e){t(n,i,e)})}}}},bs=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=ce(t)})}}}}],ws=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){n=t(i.attr(r.$attr.ngBindTemplate)),e.$$addBindingInfo(i,n.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=y(t)?"":t})}}}}],_s=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),s=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(s,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],xs=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),ks=Zi("",!0),Cs=Zi("Odd",0),$s=Zi("Even",1),Ms=Ni({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ss=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ts={},Ds={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=nn("ng-"+t);Ts[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var s=n(o[e]);return function(e,n){n.on(t,function(n){var r=function(){s(e,{$event:n})};Ds[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Es=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,s){var a,l,u;n.$watch(r.ngIf,function(n){n?l||s(function(n,o){l=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),a={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),a&&(u=le(a.clone),t.leave(u).done(function(t){!1!==t&&(u=null)}),a=null))})}}}],Os=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:yr.noop,compile:function(i,r){var o=r.ngInclude||r.src,s=r.onload||"",a=r.autoscroll;return function(i,r,l,u,c){var d,h,p,f=0,g=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).done(function(t){!1!==t&&(h=null)}),h=p,p=null)};i.$watch(o,function(o){var l=function(t){!1===t||!b(a)||a&&!i.$eval(a)||e()},h=++f;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&h===f){var e=i.$new();u.template=t,t=c(e,function(t){g(),n.enter(t,null,r).done(l)
}),d=e,p=t,d.$emit("$includeContentLoaded",o),i.$eval(s)}},function(){i.$$destroyed||h!==f||(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],As=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){gr.call(i[0]).match(/SVG/)?(i.empty(),e(ye(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),e(i.contents())(n))}}}],Ps=Ni({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ls=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=n.ngList||", ",s="false"!==n.ngTrim,a=s?kr(r):r;i.$parsers.push(function(t){if(!y(t)){var e=[];return t&&o(t.split(a),function(t){t&&e.push(s?kr(t):t)}),e}}),i.$formatters.push(function(t){return _r(t)?t.join(r):void 0}),i.$isEmpty=function(t){return!t||!t.length}}}},Is="ng-valid",Ns="ng-invalid",Rs="ng-pristine",Bs="ng-dirty",Hs=e("ngModel");Ji.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Ji.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return $(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){$(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Hs("nonassign",this.$$attr.ngModel,V(this.$$element))},$render:f,$isEmpty:function(t){return y(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Bs),this.$$animate.addClass(this.$$element,Rs)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Rs),this.$$animate.addClass(this.$$element,Bs),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!wr(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){r||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function i(){var n=!0;return o(u.$validators,function(i,r){var o=Boolean(i(t,e));n=n&&o,s(r,o)}),n?!0:(o(u.$asyncValidators,function(t,e){s(e,null)}),!1)}function r(){var n=[],i=!0;o(u.$asyncValidators,function(r,o){var a=r(t,e);if(!a||!$(a.then))throw Hs("nopromise",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?u.$$q.all(n).then(function(){a(i)},f):a(!0)}function s(t,e){l===u.$$currentValidationRunId&&u.$setValidity(t,e)}function a(t){l===u.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var l=this.$$currentValidationRunId,u=this;(function(){var t=u.$$parserName||"parse";return y(u.$$parserValid)?(s(t,null),!0):(u.$$parserValid||(o(u.$validators,function(t,e){s(e,null)}),o(u.$asyncValidators,function(t,e){s(e,null)})),s(t,u.$$parserValid),u.$$parserValid)})()&&i()?r():a(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var t=this.$$lastCommittedViewValue,e=this;if(this.$$parserValid=y(t)?void 0:!0)for(var n=0;n<this.$parsers.length;n++)if(t=this.$parsers[n](t),y(t)){this.$$parserValid=!1;break}wr(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");this.$$rawModelValue=t,r&&(this.$modelValue=t,e.$modelValue!==i&&e.$$writeModelToScope()),this.$$runValidators(t,this.$$lastCommittedViewValue,function(n){r||(e.$modelValue=n?t:void 0,e.$modelValue!==i&&e.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");k(e[t])?e=e[t]:k(e["default"])&&(e=e["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},Hi({clazz:Ji,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Fs,zs=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ji,priority:1,compile:function(e){return e.addClass(Rs).addClass("ng-untouched").addClass(Is),{pre:function(t,e,n,i){var r=i[0];e=i[1]||r.$$parentForm,(i=i[2])&&(r.$options=i.$options),r.$$initGetterSetters(),e.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){function o(){s.$setTouched()}var s=r[0];s.$options.getOption("updateOn")&&n.on(s.$options.getOption("updateOn"),function(t){s.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){s.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],Ws=/(\s+|^)default(\s+|$)/;tr.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=c({},t),o(t,function(n,i){"$inherit"===n?"*"===i?e=!0:(t[i]=this.$$options[i],"updateOn"===i&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(t.updateOnDefault=!1,t[i]=kr(n.replace(Ws,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],er(t,this.$$options)),er(t,Fs.$$options),new tr(t)}},Fs=new tr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var js=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Fs,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},Gs=Ni({terminal:!0,priority:1e3}),Vs=e("ngOptions"),Us=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,qs=["$compile","$document","$parse",function(e,n,i){function s(t,e,n){function o(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function s(t){var e;if(!u&&r(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var a=t.match(Us);if(!a)throw Vs("iexp",t,V(e));var l=a[5]||a[7],u=a[6];t=/ as /.test(a[0])&&a[1];var c=a[9];e=i(a[2]?a[1]:l);var d=t&&i(t)||e,h=c&&i(c),p=c?function(t,e){return h(n,e)}:function(t){return ze(t)},f=function(t,e){return p(t,w(t,e))},g=i(a[2]||a[1]),m=i(a[3]||""),v=i(a[4]||""),y=i(a[8]),b={},w=u?function(t,e){return b[u]=e,b[l]=t,b}:function(t){return b[l]=t,b};return{trackBy:c,getTrackByValue:f,getWatchables:i(y,function(t){var e=[];t=t||[];for(var i=s(t),r=i.length,o=0;r>o;o++){var l=t===i?o:i[o],u=t[l],l=w(u,l),u=p(u,l);e.push(u),(a[2]||a[1])&&(u=g(n,l),e.push(u)),a[4]&&(l=v(n,l),e.push(l))}return e}),getOptions:function(){for(var t=[],e={},i=y(n)||[],r=s(i),a=r.length,l=0;a>l;l++){var u=i===r?l:r[l],h=w(i[u],u),b=d(n,h),u=p(b,h),_=g(n,h),x=m(n,h),h=v(n,h),b=new o(u,b,_,x,h);t.push(b),e[u]=b}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[f(t)]},getViewValueFromOption:function(t){return c?I(t.viewValue):t.viewValue}}}}}var a=t.document.createElement("option"),l=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=f},post:function(t,i,r,u){function c(t){var e=(t=w.getOptionFromViewValue(t))&&t.element;return e&&!e.selected&&(e.selected=!0),t}function d(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function h(){var t=w&&p.readValue();if(w)for(var e=w.items.length-1;e>=0;e--){var n=w.items[e];Pe(b(n.group)?n.element.parentNode:n.element)}w=_.getOptions();var r={};y&&i.prepend(p.emptyOption),w.items.forEach(function(t){var e;if(b(t.group)){e=r[t.group],e||(e=l.cloneNode(!1),x.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e);var n=a.cloneNode(!1)}else e=x,n=a.cloneNode(!1);e.appendChild(n),d(t,n)}),i[0].appendChild(x),f.$render(),f.$isEmpty(t)||(e=p.readValue(),(_.trackBy||g?R(t,e):t===e)||(f.$setViewValue(e),f.$render()))}var p=u[0],f=u[1],g=r.multiple;u=0;for(var m=i.children(),v=m.length;v>u;u++)if(""===m[u].value){p.hasEmptyOption=!0,p.emptyOption=m.eq(u);break}var y=!!p.emptyOption;rr(a.cloneNode(!1)).val("?");var w,_=s(r.ngOptions,i,t),x=n[0].createDocumentFragment();p.generateUnknownOptionValue=function(){return"?"},g?(p.writeValue=function(t){var e=t&&t.map(c)||[];w.items.forEach(function(t){t.element.selected&&-1===Array.prototype.indexOf.call(e,t)&&(t.element.selected=!1)})},p.readValue=function(){var t=i.val()||[],e=[];return o(t,function(t){(t=w.selectValueMap[t])&&!t.disabled&&e.push(w.getViewValueFromOption(t))}),e},_.trackBy&&t.$watchCollection(function(){return _r(f.$viewValue)?f.$viewValue.map(function(t){return _.getTrackByValue(t)}):void 0},function(){f.$render()})):(p.writeValue=function(t){var e=w.selectValueMap[i.val()],n=w.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(p.removeUnknownOption(),p.unselectEmptyOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):y?p.selectEmptyOption():p.unknownOption.parent().length?p.updateUnknownOption(t):p.renderUnknownOption(t)},p.readValue=function(){var t=w.selectValueMap[i.val()];return t&&!t.disabled?(p.unselectEmptyOption(),p.removeUnknownOption(),w.getViewValueFromOption(t)):null},_.trackBy&&t.$watch(function(){return _.getTrackByValue(f.$viewValue)},function(){f.$render()})),y&&(p.emptyOption.remove(),e(p.emptyOption)(t),8===p.emptyOption[0].nodeType?(p.hasEmptyOption=!1,p.registerOption=function(t,e){""===e.val()&&(p.hasEmptyOption=!0,p.emptyOption=e,p.emptyOption.removeClass("ng-scope"),f.$render(),e.on("$destroy",function(){p.hasEmptyOption=!1,p.emptyOption=void 0}))}):p.emptyOption.removeClass("ng-scope")),i.empty(),h(),t.$watchCollection(_.getWatchables,h)}}}}],Ys=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(s,a,l){function u(t){a.text(t||"")}var c,d=l.count,h=l.$attr.when&&a.attr(l.$attr.when),p=l.offset||0,g=s.$eval(h)||{},m={},v=e.startSymbol(),b=e.endSymbol(),w=v+d+"-"+p+b,_=yr.noop;o(l,function(t,e){var n=r.exec(e);n&&(n=(n[1]?"-":"")+cr(n[2]),g[n]=a.attr(l.$attr[e]))}),o(g,function(t,n){m[n]=e(t.replace(i,w))}),s.$watch(d,function(e){var i=parseFloat(e),r=wr(i);r||i in g||(i=t.pluralCat(i-p)),i===c||r&&wr(c)||(_(),r=m[i],y(r)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),_=f,u()):_=s.$watch(r,u),c=i)})}}}],Ks=["$parse","$animate","$compile",function(t,n,i){var s=e("ngRepeat"),a=function(t,e,n,i,r,o,s){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,l){var u=l.ngRepeat,c=i.$$createComment("end ngRepeat",u),d=u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp",u);var h=d[1],p=d[2],f=d[3],g=d[4],d=h.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!d)throw s("iidexp",h);var m=d[3]||d[1],v=d[2];if(f&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(f)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(f)))throw s("badident",f);var y,b,w,_,x={$id:ze};return g?y=t(g):(w=function(t,e){return ze(e)},_=function(t){return t}),function(t,e,i,l,d){y&&(b=function(e,n,i){return v&&(x[v]=e),x[m]=n,x.$index=i,y(t,x)});var h=ue();t.$watchCollection(p,function(i){var l,p,g,y,x,k,C,$,M,S,T=e[0],D=ue();if(f&&(t[f]=i),r(i))$=i,p=b||w;else for(S in p=b||_,$=[],i)lr.call(i,S)&&"$"!==S.charAt(0)&&$.push(S);for(y=$.length,S=Array(y),l=0;y>l;l++)if(x=i===$?l:$[l],k=i[x],C=p(x,k,l),h[C])M=h[C],delete h[C],D[C]=M,S[l]=M;else{if(D[C])throw o(S,function(t){t&&t.scope&&(h[t.id]=t)}),s("dupes",u,C,k);S[l]={id:C,scope:void 0,clone:void 0},D[C]=!0}for(g in h){if(M=h[g],C=le(M.clone),n.leave(C),C[0].parentNode)for(l=0,p=C.length;p>l;l++)C[l].$$NG_REMOVED=!0;M.scope.$destroy()}for(l=0;y>l;l++)if(x=i===$?l:$[l],k=i[x],M=S[l],M.scope){g=T;do g=g.nextSibling;while(g&&g.$$NG_REMOVED);M.clone[0]!==g&&n.move(le(M.clone),null,T),T=M.clone[M.clone.length-1],a(M.scope,l,m,k,v,x,y)}else d(function(t,e){M.scope=e;var i=c.cloneNode(!1);t[t.length++]=i,n.enter(t,null,T),T=i,M.clone=t,D[M.id]=M,a(M.scope,l,m,k,v,x,y)});h=D})}}}}],Xs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Zs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Js=Ni(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Qs=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,s){var a=[],l=[],u=[],c=[],d=function(t,e){return function(n){!1!==n&&t.splice(e,1)}};n.$watch(r.ngSwitch||r.on,function(n){for(var i,r;u.length;)t.cancel(u.pop());for(i=0,r=c.length;r>i;++i){var h=le(l[i].clone);c[i].$destroy(),(u[i]=t.leave(h)).done(d(u,i))}l.length=0,c.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(i,r){c.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen"),l.push({clone:i}),t.enter(i,o.parent(),o)})})})}}}],ta=Ni({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){t=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),o(t,function(t){i.cases["!"+t]=i.cases["!"+t]||[],i.cases["!"+t].push({transclude:r,element:e})})}}),ea=Ni({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),na=e("ngTransclude"),ia=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){function s(){n(t,function(t){e.append(t)})}if(!o)throw na("orphan",V(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude=""),i=i.ngTransclude||i.ngTranscludeSlot,o(function(t,n){var i;if(i=t.length)t:{i=0;for(var r=t.length;r>i;i++){var o=t[i];if(o.nodeType!==Ar||o.nodeValue.trim()){i=!0;break t}}i=void 0}i?e.append(t):(s(),n.$destroy())},null,i),i&&!o.isSlotFilled(i)&&s()}}}}],ra=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"===n.type&&t.put(n.id,e[0].text)}}}],oa={$setViewValue:f,$render:f},sa=["$element","$scope",function(e,n){function i(){a||(a=!0,n.$$postDigest(function(){a=!1,o.ngModelCtrl.$render()}))}function r(t){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,s=new Zr;o.selectValueMap={},o.ngModelCtrl=oa,o.multiple=!1,o.unknownOption=rr(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){t=o.generateUnknownOptionValue(t),o.unknownOption.val(t),e.prepend(o.unknownOption),nr(o.unknownOption,!0),e.val(t)},o.updateUnknownOption=function(t){t=o.generateUnknownOptionValue(t),o.unknownOption.val(t),nr(o.unknownOption,!0),e.val(t)},o.generateUnknownOptionValue=function(t){return"? "+ze(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),nr(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&o.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){o.renderUnknownOption=f}),o.readValue=function(){var t=e.val(),t=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(t)?t:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];n&&nr(rr(n),!1),o.hasOption(t)?(o.removeUnknownOption(),n=ze(t),e.val(n in o.selectValueMap?n:t),nr(rr(e[0].options[e[0].selectedIndex]),!0)):null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)},o.addOption=function(t,e){if(8!==e[0].nodeType){se(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=s.get(t)||0;s.set(t,n+1),i()}},o.removeOption=function(t){var e=s.get(t);e&&(1===e?(s["delete"](t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):s.set(t,e-1))},o.hasOption=function(t){return!!s.get(t)};var a=!1,l=!1;o.registerOption=function(t,e,n,s,a){if(n.$attr.ngValue){var l,u=0/0;n.$observe("value",function(t){var n,i=e.prop("selected");b(u)&&(o.removeOption(l),delete o.selectValueMap[u],n=!0),u=ze(t),l=t,o.selectValueMap[u]=t,o.addOption(t,e),e.attr("value",u),n&&i&&r()})}else s?n.$observe("value",function(t){o.readValue();var n,i=e.prop("selected");b(l)&&(o.removeOption(l),n=!0),l=t,o.addOption(t,e),n&&i&&r()}):a?t.$watch(a,function(t,i){n.$set("value",t);var s=e.prop("selected");i!==t&&o.removeOption(i),o.addOption(t,e),i&&s&&r()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?r(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),i(),(o.multiple&&t&&-1!==t.indexOf(e)||t===e)&&r(!0)})}}],aa=function(){return{restrict:"E",require:["select","?ngModel"],controller:sa,priority:1,link:{pre:function(t,e,n,i){var r=i[0],s=i[1];if(s){if(r.ngModelCtrl=s,e.on("change",function(){r.removeUnknownOption(),t.$apply(function(){s.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&!e.disabled&&(e=e.value,t.push(e in r.selectValueMap?r.selectValueMap[e]:e))}),t},r.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(-1!==Array.prototype.indexOf.call(t,e.value)||-1!==Array.prototype.indexOf.call(t,r.selectValueMap[e.value]));n!==e.selected&&nr(rr(e),n)})};var a,l=0/0;t.$watch(function(){l!==s.$viewValue||R(a,s.$viewValue)||(a=he(s.$viewValue),s.$render()),l=s.$viewValue}),s.$isEmpty=function(t){return!t||0===t.length}}}else r.registerOption=f},post:function(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}},la=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var i,r;return b(n.ngValue)||(b(n.value)?i=t(n.value,!0):(r=t(e.text(),!0))||n.$set("value",e.text())),function(t,e,n){var o=e.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(t,e,n,i,r)}}}}],ua=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},ca=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(x(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp",s,t,V(n));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||y(o)||o.test(e)}}}}},da=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=h(t),r=wr(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},ha=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=h(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?t.console&&console.log("WARNING: Tried to load angular more than once."):(ie(),fe(yr),yr.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,n){var i=0|t,r=n;return void 0===r&&(r=Math.min(e(t),3)),Math.pow(10,r),1==i&&0==r?"one":"other"}})}]),rr(function(){J(t.document,Q)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),i[r](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),r=n||i[e](),o=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[a]()}if(r.hasClass("active"))return this.sliding=!1;var u=r[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,i.addClass(s),r.addClass(s),i.one("bsTransitionEnd",function(){r.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&"show"==e&&(e=!e),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;e.call(i,"hide"),r||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var a=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")
};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=t(this),o=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(o),a=s.data("bs.collapse"),l=a?"toggle":r.data(),u=r.attr("data-parent"),c=u&&t(u);a&&a.transitioning||(c&&c.find('[data-toggle="collapse"][data-parent="'+u+'"]').not(r).addClass("collapsed"),r[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(s,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(r).remove(),t(o).each(function(){var i=n(t(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.2.0",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var u=l.index(l.filter(":focus"));38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',s.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(s);l&&(s=s.replace(a,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),c=r[0].offsetWidth,d=r[0].offsetHeight;if(l){var h=s,p=this.$element.parent(),f=this.getPosition(p);s="bottom"==s&&u.top+u.height+d-f.scroll>f.height?"top":"top"==s&&u.top-f.scroll-d<0?"bottom":"right"==s&&u.right+c>f.width?"left":"left"==s&&u.left-c<f.left?"right":s,r.removeClass(h).addClass(s)}var g=this.getCalculatedOffset(s,u,c,d);this.applyPlacement(g,s);var m=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var d=c.left?2*c.left-r+l:2*c.top-o+u,h=c.left?"left":"top",p=c.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][p],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?t(window).width():e.outerWidth(),height:i?t(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var u=e.left-o,c=e.left+o+n;u<s.left?r.left=s.left-u:c>s.width&&(r.left=s.left+s.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){var r=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=t(this),r=i.data("target")||i.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<=r[0])return s!=(t=o[0])&&this.activate(t);for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&t.support.transition&&o.hasClass("fade");s?o.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),i=this.$target.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.top,a=o.bottom;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top(this.$element)),"function"==typeof a&&(a=o.bottom(this.$element));var l=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=a&&r.top+this.$element.height()>=e-a?"bottom":null!=s&&s>=i?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var u="affix"+(l?"-"+l:""),c=t.Event(u+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(u).trigger(t.Event(u.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-a}))}}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(e,n,i){function r(){n.removeClass("collapse").addClass("collapsing"),t.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function s(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),t.removeClass(n,"in",{to:{height:"0"}}).then(a)}function a(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}e.$watch(i.collapse,function(t){t?s():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){i.addGroup(t),t.$watch("isOpen",function(e){e&&i.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,i,r){t(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(r.toggleEvent,function(){var i=e.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(i?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){function r(){return s(n.btnCheckboxTrue,!0)}function o(){return s(n.btnCheckboxFalse,!1)}function s(e,n){var i=t.$eval(e);return angular.isDefined(i)?i:n}var a=i[0],l=i[1];l.$render=function(){e.toggleClass(a.activeClass,angular.equals(l.$modelValue,r()))},e.bind(a.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(a.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(t,e,n){function i(t){if(angular.isUndefined(c[t].index))return c[t];var e;for(c.length,e=0;e<c.length;++e)if(c[e].index==t)return c[e]}function r(){o();var n=+t.interval;!isNaN(n)&&n>0&&(a=e(s,n))}function o(){a&&(e.cancel(a),a=null)}function s(){var e=+t.interval;l&&!isNaN(e)&&e>0?t.next():t.pause()}var a,l,u=this,c=u.slides=t.slides=[],d=-1;u.currentSlide=null;var h=!1;u.select=t.select=function(e,i){function o(){h||(angular.extend(e,{direction:i,active:!0}),angular.extend(u.currentSlide||{},{direction:i,active:!1}),n.enabled()&&!t.noTransition&&e.$element&&(t.$currentTransition=!0,e.$element.one("$animate:close",function(){t.$currentTransition=null})),u.currentSlide=e,d=s,r())}var s=u.indexOfSlide(e);void 0===i&&(i=s>u.getCurrentIndex()?"next":"prev"),e&&e!==u.currentSlide&&o()},t.$on("$destroy",function(){h=!0}),u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:d},u.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:c.indexOf(t)},t.next=function(){var e=(u.getCurrentIndex()+1)%c.length;return t.$currentTransition?void 0:u.select(i(e),"next")},t.prev=function(){var e=u.getCurrentIndex()-1<0?c.length-1:u.getCurrentIndex()-1;return t.$currentTransition?void 0:u.select(i(e),"prev")},t.isActive=function(t){return u.currentSlide===t},t.$watch("interval",r),t.$on("$destroy",o),t.play=function(){l||(l=!0,r())},t.pause=function(){t.noPause||(l=!1,o())},u.addSlide=function(e,n){e.$element=n,c.push(e),1===c.length||e.active?(u.select(c[c.length-1]),1==c.length&&t.play()):e.active=!1},u.removeSlide=function(t){angular.isDefined(t.index)&&c.sort(function(t,e){return+t.index>+e.index});var e=c.indexOf(t);c.splice(e,1),c.length>0&&t.active?u.select(e>=c.length?c[e-1]:c[e]):d>e&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}).animation(".item",["$animate",function(t){return{beforeAddClass:function(e,n,i){if("active"==n&&e.parent()&&!e.parent().scope().noTransition){var r=!1,o=e.isolateScope().direction,s="next"==o?"left":"right";return e.addClass(o),t.addClass(e,s).then(function(){r||e.removeClass(s+" "+o),i()}),function(){r=!0}}i()},beforeRemoveClass:function(e,n,i){if("active"==n&&e.parent()&&!e.parent().scope().noTransition){var r=!1,o=e.isolateScope().direction,s="next"==o?"left":"right";return t.addClass(e,s).then(function(){r||e.removeClass(s),i()}),function(){r=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],i=t.split("");return angular.forEach(o,function(e,r){var o=t.indexOf(r);if(o>-1){t=t.split(""),i[o]="("+e.regex+")",t[o]="$";for(var s=o+1,a=o+r.length;a>s;s++)i[s]="",t[s]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:e(n,"index")}}function i(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t
}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}}};this.parse=function(e,o,s){if(!angular.isString(e)||!o)return e;o=t.DATETIME_FORMATS[o]||o,o=o.replace(r,"\\$&"),this.parsers[o]||(this.parsers[o]=n(o));var a=this.parsers[o],l=a.regex,u=a.map,c=e.match(l);if(c&&c.length){var d,h;d=s?{year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var p=1,f=c.length;f>p;p++){var g=u[p-1];g.apply&&g.apply.call(d,c[p])}return i(d.year,d.month,d.date)&&(h=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),h}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function i(t){return"static"===(n(t,"position")||"static")}var r=function(e){for(var n=t[0],r=e.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(e){var n=this.offset(e),i={top:0,left:0},o=r(e[0]);o!=t[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var s=e[0].getBoundingClientRect();return{width:s.width||e.prop("offsetWidth"),height:s.height||e.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,i){var r,o,s,a,l=n.split("-"),u=l[0],c=l[1]||"center";r=i?this.offset(t):this.position(t),o=e.prop("offsetWidth"),s=e.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},h={center:function(){return r.top+r.height/2-s/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":a={top:h[c](),left:d[u]()};break;case"left":a={top:h[c](),left:r.left-o};break;case"bottom":a={top:h[u](),left:d[c]()};break;default:a={top:r.top-s,left:d[c]()}}return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,i,r,o,s,a){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){l[n]=angular.isDefined(e[n])?8>r?i(e[n])(t.$parent):t.$parent.$eval(e[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(i){e[i]?t.$parent.$watch(n(e[i]),function(t){l[i]=t?new Date(t):null,l.refreshView()}):l[i]=a[i]?new Date(a[i]):null}),t.datepickerMode=t.datepickerMode||a.datepickerMode,t.maxMode=l.maxMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(e.initDate)?(this.activeDate=t.$parent.$eval(e.initDate)||new Date,t.$parent.$watch(e.initDate,function(t){t&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(l.activeDate=t,l.refreshView())})):this.activeDate=new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$viewValue){var t=new Date(u.$viewValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:t,label:s(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){r(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,i,r){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function s(t,e){var n=new Array(e),i=new Date(t),r=0;for(i.setHours(12);e>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function a(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),o=new Date(n,i,1),l=r.startingDay-o.getDay(),u=l>0?7-l:-l,c=new Date(o);u>0&&c.setDate(-u+1);for(var d=s(c,42),h=0;42>h;h++)d[h]=angular.extend(r.createDateObject(d[h],r.formatDay),{secondary:d[h].getMonth()!==i,uid:e.uniqueId+"-"+h});e.labels=new Array(7);for(var p=0;7>p;p++)e.labels[p]={abbr:t(d[p].date,r.formatDayHeader),full:t(d[p].date,"EEEE")};if(e.title=t(r.activeDate,r.formatDayTitle),e.rows=r.split(d,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-r.startingDay)%7,g=e.rows.length,m=0;g>m;m++)e.weekNumbers.push(a(e.rows[m][f].date))}},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},r.handleKeyDown=function(t){var e=r.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getMonth()+("pageup"===t?-1:1);r.activeDate.setMonth(n,1),e=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(e)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=new Array(12),i=r.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(r.createDateObject(new Date(i,o,1),r.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(r.activeDate,r.formatMonthTitle),e.rows=r.split(n,3)},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},r.handleKeyDown=function(t){var e=r.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getFullYear()+("pageup"===t?-1:1);r.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);r.activeDate.setMonth(e)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,i){function r(t){return parseInt((t-1)/o,10)*o+1}var o=i.yearRange;i.step={years:o},i.element=e,i._refreshView=function(){for(var e=new Array(o),n=0,s=r(i.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(i.createDateObject(new Date(s+n,0,1),i.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=i.split(e,5)},i.compare=function(t,e){return t.getFullYear()-e.getFullYear()},i.handleKeyDown=function(t){var e=i.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*i.step.years:"home"===t?e=r(i.activeDate.getFullYear()):"end"===t&&(e=r(i.activeDate.getFullYear())+o-1),i.activeDate.setFullYear(e)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,i,r,o,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,l,u,c){function d(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function h(t){if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=o.parse(t,f,a.date)||new Date(t);return isNaN(e)?void 0:e}return void 0}return null}function p(t,e){var n=t||e;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=o.parse(n,f)||new Date(n);return!isNaN(i)}return!1}return!0}var f,g=angular.isDefined(u.closeOnDateSelection)?a.$parent.$eval(u.closeOnDateSelection):s.closeOnDateSelection,m=angular.isDefined(u.datepickerAppendToBody)?a.$parent.$eval(u.datepickerAppendToBody):s.appendToBody;a.showButtonBar=angular.isDefined(u.showButtonBar)?a.$parent.$eval(u.showButtonBar):s.showButtonBar,a.getText=function(t){return a[t+"Text"]||s[t+"Text"]};var v=!1;if(s.html5Types[u.type]?(f=s.html5Types[u.type],v=!0):(f=u.datepickerPopup||s.datepickerPopup,u.$observe("datepickerPopup",function(t){var e=t||s.datepickerPopup;if(e!==f&&(f=e,c.$modelValue=null,!f))throw new Error("datepickerPopup must have a date format specified.")})),!f)throw new Error("datepickerPopup must have a date format specified.");if(v&&u.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});var b=angular.element(y.children()[0]);if(v&&"month"==u.type&&(b.attr("datepicker-mode",'"month"'),b.attr("min-mode","month")),u.datepickerOptions){var w=a.$parent.$eval(u.datepickerOptions);w.initDate&&(a.initDate=w.initDate,b.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(t,e){b.attr(d(e),t)})}a.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(u[t]){var n=e(u[t]);if(a.$parent.$watch(n,function(e){a.watchData[t]=e}),b.attr(d(t),"watchData."+t),"datepickerMode"===t){var i=n.assign;a.$watch("watchData."+t,function(t,e){t!==e&&i(a.$parent,t)})}}}),u.dateDisabled&&b.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&b.attr("show-weeks",u.showWeeks),u.customClass&&b.attr("custom-class","customClass({ date: date, mode: mode })"),v?c.$formatters.push(function(t){return a.date=t,t}):(c.$$parserName="date",c.$validators.date=p,c.$parsers.unshift(h),c.$formatters.push(function(t){return a.date=t,c.$isEmpty(t)?t:r(t,f)})),a.dateSelection=function(t){angular.isDefined(t)&&(a.date=t);var e=a.date?r(a.date,f):"";l.val(e),c.$setViewValue(e),g&&(a.isOpen=!1,l[0].focus())},c.$viewChangeListeners.push(function(){a.date=o.parse(c.$viewValue,f,a.date)||new Date(c.$viewValue)});var _=function(t){a.isOpen&&t.target!==l[0]&&a.$apply(function(){a.isOpen=!1})},x=function(t){a.keydown(t)};l.bind("keydown",x),a.keydown=function(t){27===t.which?(t.preventDefault(),a.isOpen&&t.stopPropagation(),a.close()):40!==t.which||a.isOpen||(a.isOpen=!0)},a.$watch("isOpen",function(t){t?(a.$broadcast("datepicker.focus"),a.position=m?i.offset(l):i.position(l),a.position.top=a.position.top+l.prop("offsetHeight"),n.bind("click",_)):n.unbind("click",_)}),a.select=function(t){if("today"===t){var e=new Date;angular.isDate(a.date)?(t=new Date(a.date),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}a.dateSelection(t)},a.close=function(){a.isOpen=!1,l[0].focus()};var k=t(y)(a);y.remove(),m?n.find("body").append(k):l.after(k),a.$on("$destroy",function(){k.remove(),l.unbind("keydown",x),n.unbind("click",_)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.bind("click",i),t.bind("keydown",r)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",i),t.unbind("keydown",r))};var i=function(t){if(n&&(!t||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(t&&i&&i[0].contains(t.target))){var r=n.getElement();t&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},r=function(t){27===t.which&&(n.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(t,e,n,i,r,o,s,a){var l,u=this,c=t.$new(),d=i.openClass,h=angular.noop,p=e.onToggle?n(e.onToggle):angular.noop,f=!1;this.init=function(i){u.$element=i,e.isOpen&&(l=n(e.isOpen),h=l.assign,t.$watch(l,function(t){c.isOpen=!!t})),f=angular.isDefined(e.dropdownAppendToBody),f&&u.dropdownMenu&&(a.find("body").append(u.dropdownMenu),i.on("$destroy",function(){u.dropdownMenu.remove()}))},this.toggle=function(t){return c.isOpen=arguments.length?!!t:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return u.toggleElement},c.getAutoClose=function(){return e.autoClose||"always"},c.getElement=function(){return u.$element},c.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},c.$watch("isOpen",function(e,n){if(f&&u.dropdownMenu){var i=s.positionElements(u.$element,u.dropdownMenu,"bottom-left",!0);u.dropdownMenu.css({top:i.top+"px",left:i.left+"px",display:e?"block":"none"})}o[e?"addClass":"removeClass"](u.$element,d),e?(c.focusToggleElement(),r.open(c)):r.close(c),h(t,e),angular.isDefined(e)&&e!==n&&p(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){c.isOpen=!1}),t.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,i){i.init(e)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,i){i&&(i.dropdownMenu=e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,i){if(i){i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.bind("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e==t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){function e(e){e.animate=!1,t(function(){e.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,n){return t.addClass(n.backdropClass),e}}}]).directive("modalWindow",["$modalStack","$q",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},n.$isRendered=!0;var o=e.defer();r.$observe("modalRender",function(t){"true"==t&&o.resolve()}),o.promise.then(function(){n.animate=!0;var e=i[0].querySelectorAll("[autofocus]");e.length?e[0].focus():i[0].focus();var r=t.getTop();r&&t.modalRendered(r.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,i,r,o){function s(){for(var t=-1,e=f.keys(),n=0;n<e.length;n++)f.get(e[n]).value.backdrop&&(t=n);return t}function a(t){var e=n.find("body").eq(0),i=f.get(t).value;f.remove(t),u(i.modalDomEl,i.modalScope,function(){e.toggleClass(p,f.length()>0),l()})}function l(){if(d&&-1==s()){var t=h;u(d,h,function(){t=null}),d=void 0,h=void 0}}function u(n,i,o){function s(){s.done||(s.done=!0,n.remove(),i.$destroy(),o&&o())}i.animate=!1,n.attr("modal-animation")&&t.enabled()?n.one("$animate:close",function(){r.$evalAsync(s)}):e(s)}function c(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var d,h,p="modal-open",f=o.createNew(),g={};return r.$watch(s,function(t){h&&(h.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=f.top(),e&&e.value.keyboard&&(t.preventDefault(),r.$apply(function(){g.dismiss(e.key,"escape key press")})))}),g.open=function(t,e){var o=n[0].activeElement;f.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var a=n.find("body").eq(0),l=s();if(l>=0&&!d){h=r.$new(!0),h.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",e.backdropClass),e.animation&&u.attr("modal-animation","true"),d=i(u)(h),a.append(d)}var c=angular.element('<div modal-window="modal-window"></div>');c.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:f.length()-1,animate:"animate"}).html(e.content),e.animation&&c.attr("modal-animation","true");var g=i(c)(e.scope);f.top().value.modalDomEl=g,f.top().value.modalOpener=o,a.append(g),a.addClass(p)},g.close=function(t,e){var n=f.get(t);return n&&c(n,e,!0)?(n.value.deferred.resolve(e),a(t),n.value.modalOpener.focus(),!0):!n},g.dismiss=function(t,e){var n=f.get(t);return n&&c(n,e,!1)?(n.value.deferred.reject(e),a(t),n.value.modalOpener.focus(),!0):!n},g.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},g.getTop=function(){return f.top()},g.modalRendered=function(t){var e=f.get(t);e&&e.value.renderDeferred.resolve()},g}]).provider("$modal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(e,n,i,r,o,s){function a(t){return t.template?i.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}function l(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(i.when(e.invoke(t)))}),n}var u={};return u.open=function(e){var r=i.defer(),u=i.defer(),c=i.defer(),d={result:r.promise,opened:u.promise,rendered:c.promise,close:function(t){return s.close(d,t)},dismiss:function(t){return s.dismiss(d,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=i.all([a(e)].concat(l(e.resolve)));return h.then(function(t){var i=(e.scope||n).$new();i.$close=d.close,i.$dismiss=d.dismiss;var a,l={},u=1;e.controller&&(l.$scope=i,l.$modalInstance=d,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),a=o(e.controller,l),e.controllerAs&&(i[e.controllerAs]=a)),s.open(d,{scope:i,deferred:r,renderDeferred:c,content:t[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){r.reject(t)}),h.then(function(){u.resolve(!0)},function(t){u.reject(t)}),d},u}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var i=this,r={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(s,a){r=s,this.config=a,r.$render=function(){i.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){i.itemsPerPage=parseInt(e,10),t.totalPages=i.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage,t.$watch("totalItems",function(){t.totalPages=i.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):r.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(r.$viewValue,10)||1},t.selectPage=function(e,n){t.page!==e&&e>0&&e<=t.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(e),r.$render())},t.getText=function(e){return t[e+"Text"]||i.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function s(t,e,n){return{number:t,text:e,active:n}}function a(t,e){var n=[],i=1,r=e,o=angular.isDefined(c)&&e>c;o&&(d?(i=Math.max(t-Math.floor(c/2),1),r=i+c-1,r>e&&(r=e,i=r-c+1)):(i=(Math.ceil(t/c)-1)*c+1,r=Math.min(i+c-1,e)));for(var a=i;r>=a;a++){var l=s(a,a,a===t);n.push(l)}if(o&&!d){if(i>1){var u=s(i-1,"...",!1);n.unshift(u)}if(e>r){var h=s(r+1,"...",!1);n.push(h)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):e.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):e.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):e.directionLinks,l.init(u,e),r.maxSize&&n.$parent.$watch(t(r.maxSize),function(t){c=parseInt(t,10),l.render()});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=a(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,i,r){var o=r[0],s=r[1];s&&(e.align=angular.isDefined(i.align)?e.$parent.$eval(i.align):t.align,o.init(s,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,s,a,l,u){return function(r,c,d,h){function p(t){var e=t||h.trigger||d,i=n[e]||e;return{show:e,hide:i}}h=angular.extend({},e,i,h);var f=t(r),g=u.startSymbol(),m=u.endSymbol(),v="<div "+f+'-popup title="'+g+"title"+m+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var t=o(v);return function(e,n,i){function o(){E.isOpen?d():u()}function u(){(!D||e.$eval(i[c+"Enable"]))&&(y(),E.popupDelay?M||(M=s(f,E.popupDelay,!1),M.then(function(t){t()})):f()())}function d(){e.$apply(function(){g()})}function f(){return M=null,$&&(s.cancel($),$=null),(h.useContentExp?E.contentExp():E.content)?(m(),k.css({top:0,left:0,display:"block"}),E.$digest(),O(),E.isOpen=!0,E.$apply(),O):angular.noop}function g(){E.isOpen=!1,s.cancel(M),M=null,E.animation?$||($=s(v,500)):v()}function m(){k&&v(),C=E.$new(),k=t(C,function(t){S?a.find("body").append(t):n.after(t)}),C.$watch(function(){s(O,0,!1)}),h.useContentExp&&C.$watch("contentExp()",function(t){!t&&E.isOpen&&g()})}function v(){$=null,k&&(k.remove(),k=null),C&&(C.$destroy(),C=null)}function y(){b(),w(),_()}function b(){E.popupClass=i[c+"Class"]}function w(){var t=i[c+"Placement"];E.placement=angular.isDefined(t)?t:h.placement}function _(){var t=i[c+"PopupDelay"],e=parseInt(t,10);E.popupDelay=isNaN(e)?h.popupDelay:e}function x(){var t=i[c+"Trigger"];A(),T=p(t),T.show===T.hide?n.bind(T.show,o):(n.bind(T.show,u),n.bind(T.hide,d))}var k,C,$,M,S=angular.isDefined(h.appendToBody)?h.appendToBody:!1,T=p(void 0),D=angular.isDefined(i[c+"Enable"]),E=e.$new(!0),O=function(){if(k){var t=l.positionElements(n,k,E.placement,S);t.top+="px",t.left+="px",k.css(t)}};E.origScope=e,E.isOpen=!1,E.contentExp=function(){return e.$eval(i[r])},h.useContentExp||i.$observe(r,function(t){E.content=t,!t&&E.isOpen&&g()}),i.$observe("disabled",function(t){t&&E.isOpen&&g()}),i.$observe(c+"Title",function(t){E.title=t});var A=function(){n.unbind(T.show,u),n.unbind(T.hide,d)};x();var P=e.$eval(i[c+"Animation"]);E.animation=angular.isDefined(P)?!!P:h.animation;var L=e.$eval(i[c+"AppendToBody"]);S=angular.isDefined(L)?L:S,S&&e.$on("$locationChangeSuccess",function(){E.isOpen&&g()}),e.$on("$destroy",function(){s.cancel($),s.cancel(M),A(),v(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,o,s){var a,l,u,c=r.$eval(s.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),a&&(a.$destroy(),a=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(e.parseAsResourceUrl(s.tooltipTemplateTransclude),function(e){var s=++d;e?(i(e,!0).then(function(i){if(s===d){var r=c.$new(),l=i,p=n(l)(r,function(e){h(),t.enter(e,o)});a=r,u=p,a.$emit("$includeContentLoaded",e)}},function(){s===d&&(h(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):h()}),r.$on("$destroy",h)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var i=this,r=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;
this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n){r||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,i.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(i.$setViewValue(e),i.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var r=n.indexOf(t);if(t.active&&n.length>1&&!i){var o=r==n.length-1?r-1:r+1;e.select(n[o])}n.splice(r,1)};var i;t.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,i,r){return function(n,i,o,s){n.$watch("active",function(t){t&&s.select(n)}),n.disabled=!1,o.disable&&n.$parent.$watch(t(o.disable),function(t){n.disabled=!!t}),o.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(t(o.disabled),function(t){n.disabled=!!t})),n.select=function(){n.disabled||(n.active=!0)},s.addTab(n),n.$on("$destroy",function(){s.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,i){var r=e.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,i,r,o){function s(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function a(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function u(t){c(),f.$setViewValue(new Date(p)),d(t)}function c(){f.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function d(e){var n=p.getHours(),i=p.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),"m"!==e&&(t.minutes=l(i)),t.meridian=p.getHours()<12?g[0]:g[1]}function h(t){var e=new Date(p.getTime()+6e4*t);p.setHours(e.getHours(),e.getMinutes()),u()}var p=new Date,f={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){f=n,f.$render=this.render,f.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),s=i.eq(1),a=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;a&&this.setupMousewheelEvents(r,s);var l=angular.isDefined(e.arrowkeys)?t.$parent.$eval(e.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(r,s),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(r,s)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,f.$error.time){var n=s(),i=a();angular.isDefined(n)&&angular.isDefined(i)&&(p.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(e,n){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(i(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(i(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply())}),n.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply())})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var i=function(e,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=s();angular.isDefined(t)?(p.setHours(t),u("h")):i(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=a();angular.isDefined(t)?(p.setMinutes(t),u("m")):i(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=f.$viewValue;isNaN(t)?(f.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(p=t),c(),d())},t.incrementHours=function(){h(60*m)},t.decrementHours=function(){h(60*-m)},t.incrementMinutes=function(){h(v)},t.decrementMinutes=function(){h(-v)},t.toggleMeridian=function(){h(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(t,e,n,i,r){function o(t){for(var e in t)if(void 0!==a.style[e])return t[e]}r||i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var s=function(i,r,o){o=o||{};var a=t.defer(),l=s[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(l,u),a.resolve(i)})};return l&&i.bind(l,u),e(function(){angular.isString(r)?i.addClass(r):angular.isFunction(r)?r(i):angular.isObject(r)&&i.css(r),l||a.resolve(i)}),a.promise.cancel=function(){l&&i.unbind(l,u),a.reject("Transition cancelled")},a.promise},a=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return s.transitionEndEventName=o(l),s.animationEndEventName=o(u),s}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,i,r,o,s){var a=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,d){var h,p=l.$eval(c.typeaheadMinLength)||1,f=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,b=c.typeaheadAppendToBody?l.$eval(c.typeaheadAppendToBody):!1,w=l.$eval(c.typeaheadFocusFirst)!==!1,_=e(c.ngModel).assign,x=s.parse(c.typeahead),k=l.$new();l.$on("$destroy",function(){k.$destroy()});var C="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":C});var $=angular.element("<div typeahead-popup></div>");$.attr({id:C,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&$.attr("template-url",c.typeaheadTemplateUrl);var M=function(){k.matches=[],k.activeIdx=-1,u.attr("aria-expanded",!1)},S=function(t){return C+"-option-"+t};k.$watch("activeIdx",function(t){0>t?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",S(t))});var T=function(t){var e={$viewValue:t};m(l,!0),n.when(x.source(l,e)).then(function(n){var i=t===d.$viewValue;if(i&&h)if(n&&n.length>0){k.activeIdx=w?0:-1,k.matches.length=0;for(var r=0;r<n.length;r++)e[x.itemName]=n[r],k.matches.push({id:S(r),label:x.viewMapper(k,e),model:n[r]});k.query=t,k.position=b?o.offset(u):o.position(u),k.position.top=k.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else M();i&&m(l,!1)},function(){M(),m(l,!1)})};M(),k.query=void 0;var D,E=function(t){D=i(function(){T(t)},f)},O=function(){D&&i.cancel(D)};d.$parsers.unshift(function(t){return h=!0,t&&t.length>=p?f>0?(O(),E(t)):T(t):(m(l,!1),O(),M()),g?t:t?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),t)}),d.$formatters.push(function(t){var e,n,i={};return g||d.$setValidity("editable",!0),y?(i.$model=t,y(l,i)):(i[x.itemName]=t,e=x.viewMapper(l,i),i[x.itemName]=void 0,n=x.viewMapper(l,i),e!==n?e:t)}),k.select=function(t){var e,n,r={};r[x.itemName]=n=k.matches[t].model,e=x.modelMapper(l,r),_(l,e),d.$setValidity("editable",!0),d.$setValidity("parse",!0),v(l,{$item:n,$model:e,$label:x.viewMapper(l,r)}),M(),i(function(){u[0].focus()},0,!1)},u.bind("keydown",function(t){0!==k.matches.length&&-1!==a.indexOf(t.which)&&(-1!=k.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===t.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===t.which||9===t.which?k.$apply(function(){k.select(k.activeIdx)}):27===t.which&&(t.stopPropagation(),M(),k.$digest()))}),u.bind("blur",function(){h=!1});var A=function(t){u[0]!==t.target&&(M(),k.$digest())};r.bind("click",A),l.$on("$destroy",function(){r.unbind("click",A),b&&P.remove(),$.remove()});var P=t($)(k);b?r.find("body").append(P):u.after(P)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var s=n(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t(s).then(function(t){e(t.trim())(i,function(t){r.replaceWith(t)})})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(e,n,i){function r(){n.removeClass("collapse").addClass("collapsing"),t.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function s(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),t.removeClass(n,"in",{to:{height:"0"}}).then(a)}function a(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}e.$watch(i.collapse,function(t){t?s():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){i.addGroup(t),t.$watch("isOpen",function(e){e&&i.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,i,r){t(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(r.toggleEvent,function(){var i=e.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(i?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){function r(){return s(n.btnCheckboxTrue,!0)}function o(){return s(n.btnCheckboxFalse,!1)}function s(e,n){var i=t.$eval(e);return angular.isDefined(i)?i:n}var a=i[0],l=i[1];l.$render=function(){e.toggleClass(a.activeClass,angular.equals(l.$modelValue,r()))},e.bind(a.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(a.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(t,e,n){function i(t){if(angular.isUndefined(c[t].index))return c[t];var e;for(c.length,e=0;e<c.length;++e)if(c[e].index==t)return c[e]}function r(){o();var n=+t.interval;!isNaN(n)&&n>0&&(a=e(s,n))}function o(){a&&(e.cancel(a),a=null)}function s(){var e=+t.interval;l&&!isNaN(e)&&e>0?t.next():t.pause()}var a,l,u=this,c=u.slides=t.slides=[],d=-1;u.currentSlide=null;var h=!1;u.select=t.select=function(e,i){function o(){h||(angular.extend(e,{direction:i,active:!0}),angular.extend(u.currentSlide||{},{direction:i,active:!1}),n.enabled()&&!t.noTransition&&e.$element&&(t.$currentTransition=!0,e.$element.one("$animate:close",function(){t.$currentTransition=null})),u.currentSlide=e,d=s,r())}var s=u.indexOfSlide(e);void 0===i&&(i=s>u.getCurrentIndex()?"next":"prev"),e&&e!==u.currentSlide&&o()},t.$on("$destroy",function(){h=!0}),u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:d},u.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:c.indexOf(t)},t.next=function(){var e=(u.getCurrentIndex()+1)%c.length;return t.$currentTransition?void 0:u.select(i(e),"next")},t.prev=function(){var e=u.getCurrentIndex()-1<0?c.length-1:u.getCurrentIndex()-1;return t.$currentTransition?void 0:u.select(i(e),"prev")},t.isActive=function(t){return u.currentSlide===t},t.$watch("interval",r),t.$on("$destroy",o),t.play=function(){l||(l=!0,r())},t.pause=function(){t.noPause||(l=!1,o())},u.addSlide=function(e,n){e.$element=n,c.push(e),1===c.length||e.active?(u.select(c[c.length-1]),1==c.length&&t.play()):e.active=!1},u.removeSlide=function(t){angular.isDefined(t.index)&&c.sort(function(t,e){return+t.index>+e.index});var e=c.indexOf(t);c.splice(e,1),c.length>0&&t.active?u.select(e>=c.length?c[e-1]:c[e]):d>e&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}).animation(".item",["$animate",function(t){return{beforeAddClass:function(e,n,i){if("active"==n&&e.parent()&&!e.parent().scope().noTransition){var r=!1,o=e.isolateScope().direction,s="next"==o?"left":"right";return e.addClass(o),t.addClass(e,s).then(function(){r||e.removeClass(s+" "+o),i()}),function(){r=!0}}i()},beforeRemoveClass:function(e,n,i){if("active"==n&&e.parent()&&!e.parent().scope().noTransition){var r=!1,o=e.isolateScope().direction,s="next"==o?"left":"right";return t.addClass(e,s).then(function(){r||e.removeClass(s),i()}),function(){r=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],i=t.split("");return angular.forEach(o,function(e,r){var o=t.indexOf(r);if(o>-1){t=t.split(""),i[o]="("+e.regex+")",t[o]="$";for(var s=o+1,a=o+r.length;a>s;s++)i[s]="",t[s]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:e(n,"index")}}function i(t,e,n){return 1>n?!1:1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}}};this.parse=function(e,o,s){if(!angular.isString(e)||!o)return e;o=t.DATETIME_FORMATS[o]||o,o=o.replace(r,"\\$&"),this.parsers[o]||(this.parsers[o]=n(o));var a=this.parsers[o],l=a.regex,u=a.map,c=e.match(l);if(c&&c.length){var d,h;d=s?{year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var p=1,f=c.length;f>p;p++){var g=u[p-1];g.apply&&g.apply.call(d,c[p])}return i(d.year,d.month,d.date)&&(h=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),h}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function i(t){return"static"===(n(t,"position")||"static")}var r=function(e){for(var n=t[0],r=e.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(e){var n=this.offset(e),i={top:0,left:0},o=r(e[0]);o!=t[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var s=e[0].getBoundingClientRect();return{width:s.width||e.prop("offsetWidth"),height:s.height||e.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,i){var r,o,s,a,l=n.split("-"),u=l[0],c=l[1]||"center";r=i?this.offset(t):this.position(t),o=e.prop("offsetWidth"),s=e.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},h={center:function(){return r.top+r.height/2-s/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":a={top:h[c](),left:d[u]()};break;case"left":a={top:h[c](),left:r.left-o};break;case"bottom":a={top:h[u](),left:d[c]()};break;default:a={top:r.top-s,left:d[c]()}}return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,i,r,o,s,a){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){l[n]=angular.isDefined(e[n])?8>r?i(e[n])(t.$parent):t.$parent.$eval(e[n]):a[n]}),angular.forEach(["minDate","maxDate"],function(i){e[i]?t.$parent.$watch(n(e[i]),function(t){l[i]=t?new Date(t):null,l.refreshView()}):l[i]=a[i]?new Date(a[i]):null}),t.datepickerMode=t.datepickerMode||a.datepickerMode,t.maxMode=l.maxMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(e.initDate)?(this.activeDate=t.$parent.$eval(e.initDate)||new Date,t.$parent.$watch(e.initDate,function(t){t&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(l.activeDate=t,l.refreshView())})):this.activeDate=new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$viewValue){var t=new Date(u.$viewValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:t,label:s(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){r(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,i,r){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function s(t,e){var n=new Array(e),i=new Date(t),r=0;for(i.setHours(12);e>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function a(t){var e=new Date(t);
e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),o=new Date(n,i,1),l=r.startingDay-o.getDay(),u=l>0?7-l:-l,c=new Date(o);u>0&&c.setDate(-u+1);for(var d=s(c,42),h=0;42>h;h++)d[h]=angular.extend(r.createDateObject(d[h],r.formatDay),{secondary:d[h].getMonth()!==i,uid:e.uniqueId+"-"+h});e.labels=new Array(7);for(var p=0;7>p;p++)e.labels[p]={abbr:t(d[p].date,r.formatDayHeader),full:t(d[p].date,"EEEE")};if(e.title=t(r.activeDate,r.formatDayTitle),e.rows=r.split(d,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-r.startingDay)%7,g=e.rows.length,m=0;g>m;m++)e.weekNumbers.push(a(e.rows[m][f].date))}},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},r.handleKeyDown=function(t){var e=r.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getMonth()+("pageup"===t?-1:1);r.activeDate.setMonth(n,1),e=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(e)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=new Array(12),i=r.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(r.createDateObject(new Date(i,o,1),r.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(r.activeDate,r.formatMonthTitle),e.rows=r.split(n,3)},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},r.handleKeyDown=function(t){var e=r.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getFullYear()+("pageup"===t?-1:1);r.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);r.activeDate.setMonth(e)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,i){function r(t){return parseInt((t-1)/o,10)*o+1}var o=i.yearRange;i.step={years:o},i.element=e,i._refreshView=function(){for(var e=new Array(o),n=0,s=r(i.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(i.createDateObject(new Date(s+n,0,1),i.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=i.split(e,5)},i.compare=function(t,e){return t.getFullYear()-e.getFullYear()},i.handleKeyDown=function(t){var e=i.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*i.step.years:"home"===t?e=r(i.activeDate.getFullYear()):"end"===t&&(e=r(i.activeDate.getFullYear())+o-1),i.activeDate.setFullYear(e)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,i,r,o,s){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,l,u,c){function d(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function h(t){if(angular.isNumber(t)&&(t=new Date(t)),t){if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=o.parse(t,f,a.date)||new Date(t);return isNaN(e)?void 0:e}return void 0}return null}function p(t,e){var n=t||e;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=o.parse(n,f)||new Date(n);return!isNaN(i)}return!1}return!0}var f,g=angular.isDefined(u.closeOnDateSelection)?a.$parent.$eval(u.closeOnDateSelection):s.closeOnDateSelection,m=angular.isDefined(u.datepickerAppendToBody)?a.$parent.$eval(u.datepickerAppendToBody):s.appendToBody;a.showButtonBar=angular.isDefined(u.showButtonBar)?a.$parent.$eval(u.showButtonBar):s.showButtonBar,a.getText=function(t){return a[t+"Text"]||s[t+"Text"]};var v=!1;if(s.html5Types[u.type]?(f=s.html5Types[u.type],v=!0):(f=u.datepickerPopup||s.datepickerPopup,u.$observe("datepickerPopup",function(t){var e=t||s.datepickerPopup;if(e!==f&&(f=e,c.$modelValue=null,!f))throw new Error("datepickerPopup must have a date format specified.")})),!f)throw new Error("datepickerPopup must have a date format specified.");if(v&&u.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});var b=angular.element(y.children()[0]);if(v&&"month"==u.type&&(b.attr("datepicker-mode",'"month"'),b.attr("min-mode","month")),u.datepickerOptions){var w=a.$parent.$eval(u.datepickerOptions);w.initDate&&(a.initDate=w.initDate,b.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(t,e){b.attr(d(e),t)})}a.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(u[t]){var n=e(u[t]);if(a.$parent.$watch(n,function(e){a.watchData[t]=e}),b.attr(d(t),"watchData."+t),"datepickerMode"===t){var i=n.assign;a.$watch("watchData."+t,function(t,e){t!==e&&i(a.$parent,t)})}}}),u.dateDisabled&&b.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&b.attr("show-weeks",u.showWeeks),u.customClass&&b.attr("custom-class","customClass({ date: date, mode: mode })"),v?c.$formatters.push(function(t){return a.date=t,t}):(c.$$parserName="date",c.$validators.date=p,c.$parsers.unshift(h),c.$formatters.push(function(t){return a.date=t,c.$isEmpty(t)?t:r(t,f)})),a.dateSelection=function(t){angular.isDefined(t)&&(a.date=t);var e=a.date?r(a.date,f):"";l.val(e),c.$setViewValue(e),g&&(a.isOpen=!1,l[0].focus())},c.$viewChangeListeners.push(function(){a.date=o.parse(c.$viewValue,f,a.date)||new Date(c.$viewValue)});var _=function(t){a.isOpen&&t.target!==l[0]&&a.$apply(function(){a.isOpen=!1})},x=function(t){a.keydown(t)};l.bind("keydown",x),a.keydown=function(t){27===t.which?(t.preventDefault(),a.isOpen&&t.stopPropagation(),a.close()):40!==t.which||a.isOpen||(a.isOpen=!0)},a.$watch("isOpen",function(t){t?(a.$broadcast("datepicker.focus"),a.position=m?i.offset(l):i.position(l),a.position.top=a.position.top+l.prop("offsetHeight"),n.bind("click",_)):n.unbind("click",_)}),a.select=function(t){if("today"===t){var e=new Date;angular.isDate(a.date)?(t=new Date(a.date),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}a.dateSelection(t)},a.close=function(){a.isOpen=!1,l[0].focus()};var k=t(y)(a);y.remove(),m?n.find("body").append(k):l.after(k),a.$on("$destroy",function(){k.remove(),l.unbind("keydown",x),n.unbind("click",_)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.bind("click",i),t.bind("keydown",r)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",i),t.unbind("keydown",r))};var i=function(t){if(n&&(!t||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(t&&i&&i[0].contains(t.target))){var r=n.getElement();t&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},r=function(t){27===t.which&&(n.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(t,e,n,i,r,o,s,a){var l,u=this,c=t.$new(),d=i.openClass,h=angular.noop,p=e.onToggle?n(e.onToggle):angular.noop,f=!1;this.init=function(i){u.$element=i,e.isOpen&&(l=n(e.isOpen),h=l.assign,t.$watch(l,function(t){c.isOpen=!!t})),f=angular.isDefined(e.dropdownAppendToBody),f&&u.dropdownMenu&&(a.find("body").append(u.dropdownMenu),i.on("$destroy",function(){u.dropdownMenu.remove()}))},this.toggle=function(t){return c.isOpen=arguments.length?!!t:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return u.toggleElement},c.getAutoClose=function(){return e.autoClose||"always"},c.getElement=function(){return u.$element},c.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},c.$watch("isOpen",function(e,n){if(f&&u.dropdownMenu){var i=s.positionElements(u.$element,u.dropdownMenu,"bottom-left",!0);u.dropdownMenu.css({top:i.top+"px",left:i.left+"px",display:e?"block":"none"})}o[e?"addClass":"removeClass"](u.$element,d),e?(c.focusToggleElement(),r.open(c)):r.close(c),h(t,e),angular.isDefined(e)&&e!==n&&p(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){c.isOpen=!1}),t.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,i){i.init(e)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,i){i&&(i.dropdownMenu=e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,i){if(i){i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.bind("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e==t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){function e(e){e.animate=!1,t(function(){e.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,n){return t.addClass(n.backdropClass),e}}}]).directive("modalWindow",["$modalStack","$q",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},n.$isRendered=!0;var o=e.defer();r.$observe("modalRender",function(t){"true"==t&&o.resolve()}),o.promise.then(function(){n.animate=!0;var e=i[0].querySelectorAll("[autofocus]");e.length?e[0].focus():i[0].focus();var r=t.getTop();r&&t.modalRendered(r.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,i,r,o){function s(){for(var t=-1,e=f.keys(),n=0;n<e.length;n++)f.get(e[n]).value.backdrop&&(t=n);return t}function a(t){var e=n.find("body").eq(0),i=f.get(t).value;f.remove(t),u(i.modalDomEl,i.modalScope,function(){e.toggleClass(p,f.length()>0),l()})}function l(){if(d&&-1==s()){var t=h;u(d,h,function(){t=null}),d=void 0,h=void 0}}function u(n,i,o){function s(){s.done||(s.done=!0,n.remove(),i.$destroy(),o&&o())}i.animate=!1,n.attr("modal-animation")&&t.enabled()?n.one("$animate:close",function(){r.$evalAsync(s)}):e(s)}function c(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var d,h,p="modal-open",f=o.createNew(),g={};return r.$watch(s,function(t){h&&(h.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=f.top(),e&&e.value.keyboard&&(t.preventDefault(),r.$apply(function(){g.dismiss(e.key,"escape key press")})))}),g.open=function(t,e){var o=n[0].activeElement;f.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var a=n.find("body").eq(0),l=s();if(l>=0&&!d){h=r.$new(!0),h.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",e.backdropClass),e.animation&&u.attr("modal-animation","true"),d=i(u)(h),a.append(d)}var c=angular.element('<div modal-window="modal-window"></div>');c.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:f.length()-1,animate:"animate"}).html(e.content),e.animation&&c.attr("modal-animation","true");var g=i(c)(e.scope);f.top().value.modalDomEl=g,f.top().value.modalOpener=o,a.append(g),a.addClass(p)},g.close=function(t,e){var n=f.get(t);return n&&c(n,e,!0)?(n.value.deferred.resolve(e),a(t),n.value.modalOpener.focus(),!0):!n},g.dismiss=function(t,e){var n=f.get(t);return n&&c(n,e,!1)?(n.value.deferred.reject(e),a(t),n.value.modalOpener.focus(),!0):!n},g.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},g.getTop=function(){return f.top()},g.modalRendered=function(t){var e=f.get(t);e&&e.value.renderDeferred.resolve()},g}]).provider("$modal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(e,n,i,r,o,s){function a(t){return t.template?i.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}function l(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(i.when(e.invoke(t)))}),n}var u={};return u.open=function(e){var r=i.defer(),u=i.defer(),c=i.defer(),d={result:r.promise,opened:u.promise,rendered:c.promise,close:function(t){return s.close(d,t)},dismiss:function(t){return s.dismiss(d,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=i.all([a(e)].concat(l(e.resolve)));return h.then(function(t){var i=(e.scope||n).$new();i.$close=d.close,i.$dismiss=d.dismiss;var a,l={},u=1;e.controller&&(l.$scope=i,l.$modalInstance=d,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),a=o(e.controller,l),e.controllerAs&&(i[e.controllerAs]=a)),s.open(d,{scope:i,deferred:r,renderDeferred:c,content:t[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){r.reject(t)}),h.then(function(){u.resolve(!0)},function(t){u.reject(t)}),d},u}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var i=this,r={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(s,a){r=s,this.config=a,r.$render=function(){i.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){i.itemsPerPage=parseInt(e,10),t.totalPages=i.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage,t.$watch("totalItems",function(){t.totalPages=i.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):r.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(r.$viewValue,10)||1},t.selectPage=function(e,n){t.page!==e&&e>0&&e<=t.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(e),r.$render())},t.getText=function(e){return t[e+"Text"]||i.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function s(t,e,n){return{number:t,text:e,active:n}}function a(t,e){var n=[],i=1,r=e,o=angular.isDefined(c)&&e>c;o&&(d?(i=Math.max(t-Math.floor(c/2),1),r=i+c-1,r>e&&(r=e,i=r-c+1)):(i=(Math.ceil(t/c)-1)*c+1,r=Math.min(i+c-1,e)));for(var a=i;r>=a;a++){var l=s(a,a,a===t);n.push(l)}if(o&&!d){if(i>1){var u=s(i-1,"...",!1);n.unshift(u)}if(e>r){var h=s(r+1,"...",!1);n.push(h)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):e.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):e.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):e.directionLinks,l.init(u,e),r.maxSize&&n.$parent.$watch(t(r.maxSize),function(t){c=parseInt(t,10),l.render()});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=a(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,i,r){var o=r[0],s=r[1];s&&(e.align=angular.isDefined(i.align)?e.$parent.$eval(i.align):t.align,o.init(s,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,s,a,l,u){return function(r,c,d,h){function p(t){var e=t||h.trigger||d,i=n[e]||e;return{show:e,hide:i}}h=angular.extend({},e,i,h);var f=t(r),g=u.startSymbol(),m=u.endSymbol(),v="<div "+f+'-popup title="'+g+"title"+m+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var t=o(v);return function(e,n,i){function o(){E.isOpen?d():u()}function u(){(!D||e.$eval(i[c+"Enable"]))&&(y(),E.popupDelay?M||(M=s(f,E.popupDelay,!1),M.then(function(t){t()})):f()())}function d(){e.$apply(function(){g()})}function f(){return M=null,$&&(s.cancel($),$=null),(h.useContentExp?E.contentExp():E.content)?(m(),k.css({top:0,left:0,display:"block"}),E.$digest(),O(),E.isOpen=!0,E.$apply(),O):angular.noop}function g(){E.isOpen=!1,s.cancel(M),M=null,E.animation?$||($=s(v,500)):v()}function m(){k&&v(),C=E.$new(),k=t(C,function(t){S?a.find("body").append(t):n.after(t)}),C.$watch(function(){s(O,0,!1)}),h.useContentExp&&C.$watch("contentExp()",function(t){!t&&E.isOpen&&g()})}function v(){$=null,k&&(k.remove(),k=null),C&&(C.$destroy(),C=null)}function y(){b(),w(),_()}function b(){E.popupClass=i[c+"Class"]}function w(){var t=i[c+"Placement"];E.placement=angular.isDefined(t)?t:h.placement}function _(){var t=i[c+"PopupDelay"],e=parseInt(t,10);E.popupDelay=isNaN(e)?h.popupDelay:e}function x(){var t=i[c+"Trigger"];A(),T=p(t),T.show===T.hide?n.bind(T.show,o):(n.bind(T.show,u),n.bind(T.hide,d))}var k,C,$,M,S=angular.isDefined(h.appendToBody)?h.appendToBody:!1,T=p(void 0),D=angular.isDefined(i[c+"Enable"]),E=e.$new(!0),O=function(){if(k){var t=l.positionElements(n,k,E.placement,S);t.top+="px",t.left+="px",k.css(t)}};E.origScope=e,E.isOpen=!1,E.contentExp=function(){return e.$eval(i[r])},h.useContentExp||i.$observe(r,function(t){E.content=t,!t&&E.isOpen&&g()}),i.$observe("disabled",function(t){t&&E.isOpen&&g()}),i.$observe(c+"Title",function(t){E.title=t});var A=function(){n.unbind(T.show,u),n.unbind(T.hide,d)};x();var P=e.$eval(i[c+"Animation"]);E.animation=angular.isDefined(P)?!!P:h.animation;var L=e.$eval(i[c+"AppendToBody"]);S=angular.isDefined(L)?L:S,S&&e.$on("$locationChangeSuccess",function(){E.isOpen&&g()}),e.$on("$destroy",function(){s.cancel($),s.cancel(M),A(),v(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,o,s){var a,l,u,c=r.$eval(s.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),a&&(a.$destroy(),a=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(e.parseAsResourceUrl(s.tooltipTemplateTransclude),function(e){var s=++d;e?(i(e,!0).then(function(i){if(s===d){var r=c.$new(),l=i,p=n(l)(r,function(e){h(),t.enter(e,o)});a=r,u=p,a.$emit("$includeContentLoaded",e)}},function(){s===d&&(h(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):h()}),r.$on("$destroy",h)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var i=this,r=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n){r||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,i.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(i.$setViewValue(e),i.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var r=n.indexOf(t);if(t.active&&n.length>1&&!i){var o=r==n.length-1?r-1:r+1;e.select(n[o])}n.splice(r,1)};var i;t.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,i,r){return function(n,i,o,s){n.$watch("active",function(t){t&&s.select(n)}),n.disabled=!1,o.disable&&n.$parent.$watch(t(o.disable),function(t){n.disabled=!!t}),o.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(t(o.disabled),function(t){n.disabled=!!t})),n.select=function(){n.disabled||(n.active=!0)},s.addTab(n),n.$on("$destroy",function(){s.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,i){var r=e.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,i,r,o){function s(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function a(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function u(t){c(),f.$setViewValue(new Date(p)),d(t)}function c(){f.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function d(e){var n=p.getHours(),i=p.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),"m"!==e&&(t.minutes=l(i)),t.meridian=p.getHours()<12?g[0]:g[1]}function h(t){var e=new Date(p.getTime()+6e4*t);p.setHours(e.getHours(),e.getMinutes()),u()}var p=new Date,f={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){f=n,f.$render=this.render,f.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),s=i.eq(1),a=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;a&&this.setupMousewheelEvents(r,s);var l=angular.isDefined(e.arrowkeys)?t.$parent.$eval(e.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(r,s),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(r,s)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,f.$error.time){var n=s(),i=a();angular.isDefined(n)&&angular.isDefined(i)&&(p.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(e,n){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(i(e)?t.incrementHours():t.decrementHours()),e.preventDefault()
}),n.bind("mousewheel wheel",function(e){t.$apply(i(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply())}),n.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply())})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var i=function(e,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=s();angular.isDefined(t)?(p.setHours(t),u("h")):i(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=a();angular.isDefined(t)?(p.setMinutes(t),u("m")):i(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=f.$viewValue;isNaN(t)?(f.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(p=t),c(),d())},t.incrementHours=function(){h(60*m)},t.decrementHours=function(){h(60*-m)},t.incrementMinutes=function(){h(v)},t.decrementMinutes=function(){h(-v)},t.toggleMeridian=function(){h(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(t,e,n,i,r){function o(t){for(var e in t)if(void 0!==a.style[e])return t[e]}r||i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var s=function(i,r,o){o=o||{};var a=t.defer(),l=s[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(l,u),a.resolve(i)})};return l&&i.bind(l,u),e(function(){angular.isString(r)?i.addClass(r):angular.isFunction(r)?r(i):angular.isObject(r)&&i.css(r),l||a.resolve(i)}),a.promise.cancel=function(){l&&i.unbind(l,u),a.reject("Transition cancelled")},a.promise},a=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return s.transitionEndEventName=o(l),s.animationEndEventName=o(u),s}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,i,r,o,s){var a=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,d){var h,p=l.$eval(c.typeaheadMinLength)||1,f=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,b=c.typeaheadAppendToBody?l.$eval(c.typeaheadAppendToBody):!1,w=l.$eval(c.typeaheadFocusFirst)!==!1,_=e(c.ngModel).assign,x=s.parse(c.typeahead),k=l.$new();l.$on("$destroy",function(){k.$destroy()});var C="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":C});var $=angular.element("<div typeahead-popup></div>");$.attr({id:C,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&$.attr("template-url",c.typeaheadTemplateUrl);var M=function(){k.matches=[],k.activeIdx=-1,u.attr("aria-expanded",!1)},S=function(t){return C+"-option-"+t};k.$watch("activeIdx",function(t){0>t?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",S(t))});var T=function(t){var e={$viewValue:t};m(l,!0),n.when(x.source(l,e)).then(function(n){var i=t===d.$viewValue;if(i&&h)if(n&&n.length>0){k.activeIdx=w?0:-1,k.matches.length=0;for(var r=0;r<n.length;r++)e[x.itemName]=n[r],k.matches.push({id:S(r),label:x.viewMapper(k,e),model:n[r]});k.query=t,k.position=b?o.offset(u):o.position(u),k.position.top=k.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else M();i&&m(l,!1)},function(){M(),m(l,!1)})};M(),k.query=void 0;var D,E=function(t){D=i(function(){T(t)},f)},O=function(){D&&i.cancel(D)};d.$parsers.unshift(function(t){return h=!0,t&&t.length>=p?f>0?(O(),E(t)):T(t):(m(l,!1),O(),M()),g?t:t?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),t)}),d.$formatters.push(function(t){var e,n,i={};return g||d.$setValidity("editable",!0),y?(i.$model=t,y(l,i)):(i[x.itemName]=t,e=x.viewMapper(l,i),i[x.itemName]=void 0,n=x.viewMapper(l,i),e!==n?e:t)}),k.select=function(t){var e,n,r={};r[x.itemName]=n=k.matches[t].model,e=x.modelMapper(l,r),_(l,e),d.$setValidity("editable",!0),d.$setValidity("parse",!0),v(l,{$item:n,$model:e,$label:x.viewMapper(l,r)}),M(),i(function(){u[0].focus()},0,!1)},u.bind("keydown",function(t){0!==k.matches.length&&-1!==a.indexOf(t.which)&&(-1!=k.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===t.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===t.which||9===t.which?k.$apply(function(){k.select(k.activeIdx)}):27===t.which&&(t.stopPropagation(),M(),k.$digest()))}),u.bind("blur",function(){h=!1});var A=function(t){u[0]!==t.target&&(M(),k.$digest())};r.bind("click",A),l.$on("$destroy",function(){r.unbind("click",A),b&&P.remove(),$.remove()});var P=t($)(k);b?r.find("body").append(P):u.after(P)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var s=n(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t(s).then(function(t){e(t.trim())(i,function(t){r.replaceWith(t)})})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n	ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" tooltip-template-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";var t={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},e=9007199254740991,n=["text","email","url"],i=angular.module("ngTagsInput",[]);i.directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(i,r,o,s,a){function l(t,e,n,i){var r,o,s,l={};return r=function(e){return a.safeToString(e[t.displayProperty])},o=function(e,n){e[t.displayProperty]=n},s=function(e){var i=r(e);return i&&i.length>=t.minLength&&i.length<=t.maxLength&&t.allowedTagsPattern.test(i)&&!a.findInObjectArray(l.items,e,t.keyProperty||t.displayProperty)&&n({$tag:e})},l.items=[],l.addText=function(t){var e={};return o(e,t),l.add(e)},l.add=function(n){var i=r(n);return t.replaceSpacesWithDashes&&(i=a.replaceSpacesWithDashes(i)),o(n,i),s(n)?(l.items.push(n),e.trigger("tag-added",{$tag:n})):i&&e.trigger("invalid-tag",{$tag:n}),n},l.remove=function(t){var n=l.items[t];return i({$tag:n})?(l.items.splice(t,1),l.clearSelection(),e.trigger("tag-removed",{$tag:n}),n):void 0},l.select=function(t){0>t?t=l.items.length-1:t>=l.items.length&&(t=0),l.index=t,l.selected=l.items[t]},l.selectPrior=function(){l.select(--l.index)},l.selectNext=function(){l.select(++l.index)},l.removeSelected=function(){return l.remove(l.index)},l.clearSelection=function(){l.selected=null,l.index=-1},l.clearSelection(),l}function u(t){return-1!==n.indexOf(t)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(t,n,i){t.events=a.simplePubSub(),s.load("tagsInput",t,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,e],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,e],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),t.tagList=new l(t.options,t.events,a.handleUndefinedResult(t.onTagAdding,!0),a.handleUndefinedResult(t.onTagRemoving,!0)),this.registerAutocomplete=function(){var e=i.find("input");return{addTag:function(e){return t.tagList.add(e)},focusInput:function(){e[0].focus()},getTags:function(){return t.tagList.items},getCurrentTagText:function(){return t.newTag.text()},getOptions:function(){return t.options},on:function(e,n){return t.events.on(e,n),this}}},this.registerTagItem=function(){return{getOptions:function(){return t.options},removeTag:function(e){t.disabled||t.tagList.remove(e)}}}}],link:function(e,n,s,l){var u,c=[t.enter,t.comma,t.space,t.backspace,t["delete"],t.left,t.right],d=e.tagList,h=e.events,p=e.options,f=n.find("input"),g=["minTags","maxTags","allowLeftoverText"];u=function(){l.$setValidity("maxTags",d.items.length<=p.maxTags),l.$setValidity("minTags",d.items.length>=p.minTags),l.$setValidity("leftoverText",e.hasFocus||p.allowLeftoverText?!0:!e.newTag.text())},l.$isEmpty=function(t){return!t||!t.length},e.newTag={text:function(t){return angular.isDefined(t)?(e.text=t,void h.trigger("input-change",t)):e.text||""},invalid:null},e.track=function(t){return t[p.keyProperty||p.displayProperty]},e.$watch("tags",function(t){t?(d.items=a.makeObjectArray(t,p.displayProperty),e.tags=d.items):d.items=[]}),e.$watch("tags.length",function(){u(),l.$validate()}),s.$observe("disabled",function(t){e.disabled=t}),e.eventHandlers={input:{keydown:function(t){h.trigger("input-keydown",t)},focus:function(){e.hasFocus||(e.hasFocus=!0,h.trigger("input-focus"))},blur:function(){i(function(){var t=r.prop("activeElement"),i=t===f[0],o=n[0].contains(t);(i||!o)&&(e.hasFocus=!1,h.trigger("input-blur"))})},paste:function(t){t.getTextData=function(){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return e?e.getData("text/plain"):o.clipboardData.getData("Text")},h.trigger("input-paste",t)}},host:{click:function(){e.disabled||f[0].focus()}},tag:{click:function(t){h.trigger("tag-clicked",{$tag:t})}}},h.on("tag-added",e.onTagAdded).on("invalid-tag",e.onInvalidTag).on("tag-removed",e.onTagRemoved).on("tag-clicked",e.onTagClicked).on("tag-added",function(){e.newTag.text("")}).on("tag-added tag-removed",function(){e.tags=d.items,l.$setDirty()}).on("invalid-tag",function(){e.newTag.invalid=!0}).on("option-change",function(t){-1!==g.indexOf(t.name)&&u()}).on("input-change",function(){d.clearSelection(),e.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),l.$setValidity("leftoverText",!0)}).on("input-blur",function(){p.addOnBlur&&!p.addFromAutocompleteOnly&&d.addText(e.newTag.text()),n.triggerHandler("blur"),u()}).on("input-keydown",function(n){var i,r,o,s,l=n.keyCode,u={};if(!a.isModifierOn(n)&&-1!==c.indexOf(l)){if(u[t.enter]=p.addOnEnter,u[t.comma]=p.addOnComma,u[t.space]=p.addOnSpace,i=!p.addFromAutocompleteOnly&&u[l],r=(l===t.backspace||l===t["delete"])&&d.selected,s=l===t.backspace&&0===e.newTag.text().length&&p.enableEditingLastTag,o=(l===t.backspace||l===t.left||l===t.right)&&0===e.newTag.text().length&&!p.enableEditingLastTag,i)d.addText(e.newTag.text());else if(s){var h;d.selectPrior(),h=d.removeSelected(),h&&e.newTag.text(h[p.displayProperty])}else r?d.removeSelected():o&&(l===t.left||l===t.backspace?d.selectPrior():l===t.right&&d.selectNext());(i||o||r||s)&&n.preventDefault()}}).on("input-paste",function(t){if(p.addOnPaste){var e=t.getTextData(),n=e.split(p.pasteSplitPattern);n.length>1&&(n.forEach(function(t){d.addText(t)}),t.preventDefault())}})}}}]),i.directive("tiTagItem",["tiUtil",function(t){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(e,n,i,r){var o=r.registerTagItem(),s=o.getOptions();
e.$$template=s.template,e.$$removeTagSymbol=s.removeTagSymbol,e.$getDisplayText=function(){return t.safeToString(e.data[s.displayProperty])},e.$removeTag=function(){o.removeTag(e.$index)},e.$watch("$parent.$index",function(t){e.$index=t})}}}]),i.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(e,n,i,r,o,s){function a(t,e,n){var i,o,a,l={};return a=function(){return e.tagsInput.keyProperty||e.tagsInput.displayProperty},i=function(t,n){return t.filter(function(t){return!s.findInObjectArray(n,t,a(),function(t,n){return e.tagsInput.replaceSpacesWithDashes&&(t=s.replaceSpacesWithDashes(t),n=s.replaceSpacesWithDashes(n)),s.defaultComparer(t,n)})})},l.reset=function(){o=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){e.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=s.debounce(function(n,u){l.query=n;var c=r.when(t({$query:n}));o=c,c.then(function(t){c===o&&(t=s.makeObjectArray(t.data||t,a()),t=i(t,u),l.items=t.slice(0,e.maxResultsToShow),l.items.length>0?l.show():l.reset())})},e.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(t){0>t?t=l.items.length-1:t>=l.items.length&&(t=0),l.index=t,l.selected=l.items[t],n.trigger("suggestion-selected",t)},l.reset(),l}function l(t,e){var n=t.find("li").eq(e),i=n.parent(),r=n.prop("offsetTop"),o=n.prop("offsetHeight"),s=i.prop("clientHeight"),a=i.prop("scrollTop");a>r?i.prop("scrollTop",r):r+o>s+a&&i.prop("scrollTop",r+o-s)}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(t,e,n){t.events=s.simplePubSub(),o.load("autoComplete",t,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),t.suggestionList=new a(t.source,t.options,t.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return t.options},getQuery:function(){return t.suggestionList.query}}}}],link:function(e,n,i,r){var o,a=[t.enter,t.tab,t.escape,t.up,t.down],u=e.suggestionList,c=r.registerAutocomplete(),d=e.options,h=e.events;d.tagsInput=c.getOptions(),o=function(t){return t&&t.length>=d.minLength||!t&&d.loadOnEmpty},e.addSuggestionByIndex=function(t){u.select(t),e.addSuggestion()},e.addSuggestion=function(){var t=!1;return u.selected&&(c.addTag(angular.copy(u.selected)),u.reset(),c.focusInput(),t=!0),t},e.track=function(t){return t[d.tagsInput.keyProperty||d.tagsInput.displayProperty]},c.on("tag-added tag-removed invalid-tag input-blur",function(){u.reset()}).on("input-change",function(t){o(t)?u.load(t,c.getTags()):u.reset()}).on("input-focus",function(){var t=c.getCurrentTagText();d.loadOnFocus&&o(t)&&u.load(t,c.getTags())}).on("input-keydown",function(n){var i=n.keyCode,r=!1;if(!s.isModifierOn(n)&&-1!==a.indexOf(i))return u.visible?i===t.down?(u.selectNext(),r=!0):i===t.up?(u.selectPrior(),r=!0):i===t.escape?(u.reset(),r=!0):(i===t.enter||i===t.tab)&&(r=e.addSuggestion()):i===t.down&&e.options.loadOnDownArrow&&(u.load(c.getCurrentTagText(),c.getTags()),r=!0),r?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),h.on("suggestion-selected",function(t){l(n,t)})}}}]),i.directive("tiAutocompleteMatch",["$sce","tiUtil",function(t,e){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(n,i,r,o){var s=o.registerAutocompleteMatch(),a=s.getOptions();n.$$template=a.template,n.$index=n.$parent.$index,n.$highlight=function(n){return a.highlightMatchedText&&(n=e.safeHighlight(n,s.getQuery())),t.trustAsHtml(n)},n.$getDisplayText=function(){return e.safeToString(n.data[a.displayProperty||a.tagsInput.displayProperty])}}}}]),i.directive("tiTranscludeAppend",function(){return function(t,e,n,i,r){r(function(t){e.append(t)})}}),i.directive("tiAutosize",["tagsInputConfig",function(t){return{restrict:"A",require:"ngModel",link:function(e,n,i,r){var o,s,a=t.getTextAutosizeThreshold();o=angular.element('<span class="input"></span>'),o.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(o),s=function(t){var e,r=t;return angular.isString(r)&&0===r.length&&(r=i.placeholder),r&&(o.text(r),o.css("display",""),e=o.prop("offsetWidth"),o.css("display","none")),n.css("width",e?e+a+"px":""),t},r.$parsers.unshift(s),r.$formatters.unshift(s),i.$observe("placeholder",function(t){r.$modelValue||s(t)})}}}]),i.directive("tiBindAttrs",function(){return function(t,e,n){t.$watch(n.tiBindAttrs,function(t){angular.forEach(t,function(t,e){n.$set(e,t)})},!0)}}),i.provider("tagsInputConfig",function(){var t={},e={},n=3;this.setDefaults=function(e,n){return t[e]=n,this},this.setActiveInterpolation=function(t,n){return e[t]=n,this},this.setTextAutosizeThreshold=function(t){return n=t,this},this.$get=["$interpolate",function(i){var r={};return r[String]=function(t){return t},r[Number]=function(t){return parseInt(t,10)},r[Boolean]=function(t){return"true"===t.toLowerCase()},r[RegExp]=function(t){return new RegExp(t)},{load:function(n,o,s,a){var l=function(){return!0};o.options={},angular.forEach(a,function(a,u){var c,d,h,p,f,g;c=a[0],d=a[1],h=a[2]||l,p=r[c],f=function(){var e=t[n]&&t[n][u];return angular.isDefined(e)?e:d},g=function(t){o.options[u]=t&&h(t)?p(t):f()},e[n]&&e[n][u]?s.$observe(u,function(t){g(t),o.events.trigger("option-change",{name:u,newValue:t})}):g(s[u]&&i(s[u])(o.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),i.factory("tiUtil",["$timeout",function(t){var e={};return e.debounce=function(e,n){var i;return function(){var r=arguments;t.cancel(i),i=t(function(){e.apply(null,r)},n)}},e.makeObjectArray=function(t,e){if(!angular.isArray(t)||0===t.length||angular.isObject(t[0]))return t;var n=[];return t.forEach(function(t){var i={};i[e]=t,n.push(i)}),n},e.findInObjectArray=function(t,n,i,r){var o=null;return r=r||e.defaultComparer,t.some(function(t){return r(t[i],n[i])?(o=t,!0):void 0}),o},e.defaultComparer=function(t,n){return e.safeToString(t).toLowerCase()===e.safeToString(n).toLowerCase()},e.safeHighlight=function(t,n){function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!n)return t;t=e.encodeHTML(t),n=e.encodeHTML(n);var r=new RegExp("&[^;]+;|"+i(n),"gi");return t.replace(r,function(t){return t.toLowerCase()===n.toLowerCase()?"<em>"+t+"</em>":t})},e.safeToString=function(t){return angular.isUndefined(t)||null==t?"":t.toString().trim()},e.encodeHTML=function(t){return e.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.handleUndefinedResult=function(t,e){return function(){var n=t.apply(null,arguments);return angular.isUndefined(n)?e:n}},e.replaceSpacesWithDashes=function(t){return e.safeToString(t).replace(/\s/g,"-")},e.isModifierOn=function(t){return t.shiftKey||t.ctrlKey||t.altKey||t.metaKey},e.simplePubSub=function(){var t={};return{on:function(e,n){return e.split(" ").forEach(function(e){t[e]||(t[e]=[]),t[e].push(n)}),this},trigger:function(n,i){var r=t[n]||[];return r.every(function(t){return e.handleUndefinedResult(t,!0)(i)}),this}}},e}]),i.run(["$templateCache",function(t){t.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),t.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),t.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="::item"></ti-autocomplete-match></li></ul></div>'),t.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return V(new(V(function(){},{prototype:t})),e)}function r(t){return G(arguments,function(e){e!==t&&G(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function s(t){if(Object.keys)return Object.keys(t);var e=[];return G(t,function(t,n){e.push(n)}),e}function a(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in t&&t[i]===e)return i;return-1}function l(t,e,n,i){var r,l=o(n,i),u={},c=[];for(var d in l)if(l[d]&&l[d].params&&(r=s(l[d].params),r.length))for(var h in r)a(c,r[h])>=0||(c.push(r[h]),u[r[h]]=t[r[h]]);return V({},u,e)}function u(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return G(t,function(t){n[t]=e[t]}),n}function d(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return G(n,function(n){n in t&&(e[n]=t[n])}),e}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)-1==a(n,i)&&(e[i]=t[i]);return e}function p(t,e){var n=j(t),i=n?[]:{};return G(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function f(t,e){var n=j(t)?[]:{};return G(t,function(t,i){n[i]=e(t,i)}),n}function g(t){return t.then(n,function(){})&&t}function m(t,e){var i=1,o=2,l={},u=[],c=l,d=V(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(t,n){if(b[n]!==o){if(y.push(n),b[n]===i)throw y.splice(0,a(y,n)),new Error("Cyclic dependency: "+y.join(" -> "));if(b[n]=i,z(t))v.push(n,[function(){return e.get(t)}],u);else{var r=e.annotate(t);G(r,function(t){t!==n&&l.hasOwnProperty(t)&&p(l[t],t)}),v.push(n,t,r)}y.pop(),b[n]=o}}function f(t){return W(t)&&t.then&&t.$$promises}if(!W(l))throw new Error("'invocables' must be an object");var m=s(l||{}),v=[],y=[],b={};return G(l,p),l=y=b=null,function(i,o,s){function a(){--_||(x||r(w,o.$$values),y.$$values=w,y.$$promises=y.$$promises||!0,delete y.$$inheritedValues,p.resolve(w))}function l(t){y.$$failure=t,p.reject(t)}function u(n,r,o){function u(t){d.reject(t),l(t)}function c(){if(!H(y.$$failure))try{d.resolve(e.invoke(r,s,w)),d.promise.then(function(t){w[n]=t,a()},u)}catch(t){u(t)}}var d=t.defer(),h=0;G(o,function(t){b.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(h++,b[t].then(function(e){w[t]=e,--h||c()},u))}),h||c(),b[n]=g(d.promise)}if(f(i)&&s===n&&(s=o,o=i,i=null),i){if(!W(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!f(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var p=t.defer(),y=g(p.promise),b=y.$$promises={},w=V({},i),_=1+v.length/3,x=!1;if(g(y),H(o.$$failure))return l(o.$$failure),y;o.$$inheritedValues&&r(w,h(o.$$inheritedValues,m)),V(b,o.$$promises),o.$$values?(x=r(w,h(o.$$values,m)),y.$$inheritedValues=h(o.$$values,m),a()):(o.$$inheritedValues&&(y.$$inheritedValues=h(o.$$inheritedValues,m)),o.then(a,l));for(var k=0,C=v.length;C>k;k+=3)i.hasOwnProperty(v[k])?a():u(v[k],v[k+1],v[k+2]);return y}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function v(){var t=e.version.minor<3;this.shouldUnsafelyUseHttp=function(e){t=!!e},this.$get=["$http","$templateCache","$injector",function(e,n,i){return new y(e,n,i,t)}]}function y(t,e,n,i){this.fromConfig=function(t,e,n){return H(t.template)?this.fromString(t.template,e):H(t.templateUrl)?this.fromUrl(t.templateUrl,e):H(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return F(t)?t(e):t},this.fromUrl=function(r,o){return F(r)&&(r=r(o)),null==r?null:i?t.get(r,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data}):n.get("$templateRequest")(r)},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function b(t,e,r){function o(e,n,i,r){if(m.push(e),f[e])return f[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new Y.Param(e,n,i,r),g[e]}function s(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function a(r,o){var s,a,l,u,c;return s=r[2]||r[3],c=e.params[s],l=t.substring(h,r.index),a=o?r[4]:r[4]||("*"==r[1]?".*":null),a&&(u=Y.type(a)||i(Y.type("string"),{pattern:new RegExp(a,e.caseInsensitive?"i":n)})),{id:s,regexp:a,segment:l,type:u,cfg:c}}e=V({params:{}},W(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",h=0,p=this.segments=[],f=r?r.params:{},g=this.params=r?r.params.$$new():new Y.ParamSet,m=[];this.source=t;for(var v,y,b;(l=u.exec(t))&&(v=a(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),d+=s(v.segment,y.type.pattern.source,y.squash,y.isOptional),p.push(v.segment),h=u.lastIndex;b=t.substring(h);var w=b.indexOf("?");if(w>=0){var _=this.sourceSearch=b.substring(w);if(b=b.substring(0,w),this.sourcePath=t.substring(0,h+w),_.length>0)for(h=0;l=c.exec(_);)v=a(l,!0),y=o(v.id,v.type,v.cfg,"search"),h=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";d+=s(b)+(e.strict===!1?"/?":"")+"$",p.push(b),this.regexp=new RegExp(d,e.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function w(t){V(this,t)}function _(){function t(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}function r(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}function o(){return{strict:g,caseInsensitive:h}}function l(t){return F(t)||j(t)&&F(t[t.length-1])}function u(){for(;x.length;){var t=x.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(v[t.name],d.invoke(t.def))}}function c(t){V(this,t||{})}Y=this;var d,h=!1,g=!0,m=!1,v={},y=!0,x=[],k={string:{encode:t,decode:r,is:function(t){return null==t||!H(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return t!==n&&null!==t&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};_.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(t.value)},this.caseInsensitive=function(t){return H(t)&&(h=t),h},this.strictMode=function(t){return H(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!H(t))return m;if(t!==!0&&t!==!1&&!z(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new b(t,V(o(),e))},this.isMatcher=function(t){if(!W(t))return!1;var e=!0;return G(b.prototype,function(n,i){F(n)&&(e=e&&H(t[i])&&F(t[i]))}),e},this.type=function(t,e,n){if(!H(e))return v[t];if(v.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return v[t]=new w(V({name:t},e)),n&&(x.push({name:t,def:n}),y||u()),this},G(k,function(t,e){v[e]=new w(V({name:e},t))}),v=i(v,{}),this.$get=["$injector",function(t){return d=t,y=!1,u(),G(k,function(t,e){v[e]||(v[e]=new w(t))}),this}],this.Param=function(t,i,r,o){function u(t){var e=W(t)?s(t):[],n=-1===a(e,"value")&&-1===a(e,"type")&&-1===a(e,"squash")&&-1===a(e,"array");return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i?i:n.type?e.isString(n.type)?v[n.type]:n.type instanceof w?n.type:new w(n.type):"config"===r?v.any:v.string}function h(){var e={array:"search"===o&&"auto"},n=t.match(/\[\]$/)?{array:!0}:{};return V(e,n,r).array}function g(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!H(n)||null==n)return m;if(n===!0||z(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function y(t,e,i,r){var o,s,l=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return o=j(t.replace)?t.replace:[],z(r)&&o.push({from:r,to:n}),s=f(o,function(t){return t.from}),p(l,function(t){return-1===a(s,t.from)}).concat(o)}function b(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var t=d.invoke(r.$$fn);if(null!==t&&t!==n&&!k.type.is(t))throw new Error("Default value ("+t+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return t}function _(t){function e(t){return function(e){return e.from===t}}function n(t){var n=f(p(k.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),H(t)?k.type.$normalize(t):b()}function x(){return"{Param:"+t+" "+i+" squash: '"+M+"' optional: "+$+"}"}var k=this;r=u(r),i=c(r,i,o);var C=h();i=C?i.$asArray(C,"search"===o):i,"string"!==i.name||C||"path"!==o||r.value!==n||(r.value="");var $=r.value!==n,M=g(r,$),S=y(r,C,$,M);V(this,{id:t,type:i,location:o,array:C,squash:M,replace:S,isOptional:$,value:_,dynamic:n,config:r,toString:x})},c.prototype={$$new:function(){return i(this,V(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=s(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),G(e,function(e){G(s(e),function(e){-1===a(t,e)&&-1===a(i,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return G(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return G(i.$$keys(),function(r){var o=t&&t[r],s=e&&e[r];i[r].type.equals(o,s)||(n=!1)}),n},$$validates:function(t){var i,r,o,s,a,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],o=t[l[i]],o!==n&&null!==o||!r.isOptional);i++){if(s=r.type.$normalize(o),!r.type.is(s))return!1;if(a=r.type.encode(s),e.isString(a)&&!r.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=c}function x(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function s(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!H(i)||i}function a(i,r,o,s,a){function h(t,e,n){return"/"===m?t:e?m.slice(0,-1)+t:n?m.slice(1)+t:t}function p(t){function e(t){var e=t(o,i);return!!e&&(z(e)&&i.replace().url(e),!0)}if(!t||!t.defaultPrevented){g&&i.url()===g,g=n;var r,s=u.length;for(r=0;s>r;r++)if(e(u[r]))return;c&&e(c)}}function f(){return l=l||r.$on("$locationChangeSuccess",p)}var g,m=s.baseHref(),v=i.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(t){return t?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var s=t.html5Mode();e.isObject(s)&&(s=s.enabled),s=s&&a.history;var l=n.format(r);if(o=o||{},s||null===l||(l="#"+t.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=h(l,s,o.absolute),!o.absolute||!l)return l;var u=!s&&l?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(t){if(!F(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(z(t)){var e=t;t=function(){return e}}else if(!F(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,a=z(e);if(z(t)&&(t=i.compile(t)),!a&&!F(e)&&!j(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return a&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),V(function(n,i){return s(n,e,t.exec(i.path(),i.search()))},{prefix:z(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(n=e,e=["$match",function(t){return o(n,t)}]),V(function(n,i){return s(n,e,t.exec(i.path()))},{prefix:r(t)})}},u={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),d=t},this.$get=a,a.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function k(t,r){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function h(t,e){if(!t)return n;var i=z(t),r=i?t:t.name,s=o(r);if(s){if(!e)throw new Error("No reference point given for path '"+r+"'");e=h(e);for(var a=r.split("."),l=0,u=a.length,c=e;u>l;l++)if(""!==a[l]||0!==l){if("^"!==a[l])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;a=a.slice(l).join("."),r=c.name+(c.name&&a?".":"")+a}var d=M[r];return!d||!i&&(i||d!==t&&d.self!==t)?n:d}function p(t,e){S[t]||(S[t]=[]),S[t].push(e)}function m(t){for(var e=S[t]||[];e.length;)v(e.shift())}function v(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!z(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(M.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):z(e.parent)?e.parent:W(e.parent)&&z(e.parent.name)?e.parent.name:"";if(r&&!M[r])return p(r,e.self);for(var o in D)F(D[o])&&(e[o]=D[o](e,D.$delegates[o]));return M[n]=e,!e[T]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){$.$current.navigable==e&&u(t,n)||$.transitionTo(e,t,{inherit:!0,location:!1})}]),m(n),e}function y(t){return t.indexOf("*")>-1}function b(t){for(var e=t.split("."),n=$.$current.name.split("."),i=0,r=e.length;r>i;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(a(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(a(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}function w(t,e){return z(t)&&!H(e)?D[t]:F(e)&&z(t)?(D[t]&&!D.$delegates[t]&&(D.$delegates[t]=D[t]),D[t]=e,this):this}function _(t,e){return W(t)?e=t:e.name=t,v(e),this}function x(t,r,o,a,u,d,p){function m(e,n,i,o){var s=t.$broadcast("$stateNotFound",e,n,i);if(s.defaultPrevented)return p.update(),S;if(!s.retry)return null;if(o.$retry)return p.update(),D;var a=$.transition=r.when(s.retry);return a.then(function(){return a!==$.transition?(t.$broadcast("$stateChangeCancel",e.to,e.toParams,n,i),_):(e.options.$retry=!0,$.transitionTo(e.to,e.toParams,e.options))},function(){return S}),p.update(),a}function v(t,n,i,s,l,d){function h(){var n=[];return G(t.views,function(i,r){var s=i.resolve&&i.resolve!==t.resolve?i.resolve:{};s.$template=[function(){return o.load(r,{view:i,locals:l.globals,params:p,notify:d.notify})||""}],n.push(u.resolve(s,l.globals,l.resolve,t).then(function(n){if(F(i.controllerProvider)||j(i.controllerProvider)){var o=e.extend({},s,l.globals);n.$$controller=a.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var p=i?n:c(t.params.$$keys(),n),f={$stateParams:p};l.resolve=u.resolve(t.resolve,f,l.resolve,t);var g=[l.resolve.then(function(t){l.globals=t})];return s&&g.push(s),r.all(g).then(h).then(function(){return l})}var w=new Error("transition superseded"),_=g(r.reject(w)),x=g(r.reject(new Error("transition prevented"))),S=g(r.reject(new Error("transition aborted"))),D=g(r.reject(new Error("transition failed")));return C.locals={resolve:null,globals:{$stateParams:{}}},$={params:{},current:C.self,$current:C,transition:null},$.reload=function(t){return $.transitionTo($.current,d,{reload:t||!0,inherit:!1,notify:!0})},$.go=function(t,e,n){return $.transitionTo(t,e,V({inherit:!0,relative:$.$current},n))},$.transitionTo=function(e,n,o){n=n||{},o=V({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var s,u=$.$current,f=$.params,y=u.path,b=h(e,o.relative),M=n["#"];if(!H(b)){var S={to:e,toParams:n,options:o},E=m(S,u.self,f,o);if(E)return E;if(e=S.to,n=S.toParams,o=S.options,b=h(e,o.relative),!H(b)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(b[T])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=l(d,n||{},$.$current,b)),!b.params.$$validates(n))return D;n=b.params.$$values(n),e=b;var O=e.path,A=0,P=O[A],L=C.locals,I=[];if(o.reload){if(z(o.reload)||W(o.reload)){if(W(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var N=o.reload===!0?y[0]:h(o.reload);if(o.reload&&!N)throw new Error("No such reload state '"+(z(o.reload)?o.reload:o.reload.name)+"'");for(;P&&P===y[A]&&P!==N;)L=I[A]=P.locals,A++,P=O[A]}}else for(;P&&P===y[A]&&P.ownParams.$$equals(n,f);)L=I[A]=P.locals,A++,P=O[A];if(k(e,n,u,f,L,o))return M&&(n["#"]=M),$.params=n,U($.params,d),U(c(e.params.$$keys(),d),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(p.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),p.update(!0)),$.transition=null,r.when($.current);if(n=c(e.params.$$keys(),n||{}),M&&(n["#"]=M),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,f,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),null==$.transition&&p.update(),x;for(var R=r.when(L),B=A;B<O.length;B++,P=O[B])L=I[B]=i(L),R=v(P,n,P===e,R,L,o);var F=$.transition=R.then(function(){var i,r,s;if($.transition!==F)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),_;for(i=y.length-1;i>=A;i--)s=y[i],s.self.onExit&&a.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(i=A;i<O.length;i++)r=O[i],r.locals=I[i],r.self.onEnter&&a.invoke(r.self.onEnter,r.self,r.locals.globals);return $.transition!==F?(t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),_):($.$current=e,$.current=e.self,$.params=n,U($.params,d),$.transition=null,o.location&&e.navigable&&p.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,f),p.update(!0),$.current)}).then(null,function(i){return i===w?_:$.transition!==F?(t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),_):($.transition=null,s=t.$broadcast("$stateChangeError",e.self,n,u.self,f,i),s.defaultPrevented||p.update(),r.reject(i))});return g(F),F},$.is=function(t,e,i){i=V({relative:$.$current},i||{});var r=h(t,i.relative);return H(r)?$.$current===r&&(!e||s(e).reduce(function(t,n){var i=r.params[n];return t&&!i||i.type.equals(d[n],e[n])},!0)):n},$.includes=function(t,e,i){if(i=V({relative:$.$current},i||{}),z(t)&&y(t)){if(!b(t))return!1;t=$.$current.name}var r=h(t,i.relative);if(!H(r))return n;if(!H($.$current.includes[r.name]))return!1;if(!e)return!0;for(var o=s(e),a=0;a<o.length;a++){var l=o[a],u=r.params[l];if(u&&!u.type.equals(d[l],e[l]))return!1}return s(e).reduce(function(t,n){var i=r.params[n];return t&&!i||i.type.equals(d[n],e[n])},!0)},$.href=function(t,e,i){i=V({lossy:!0,inherit:!0,absolute:!1,relative:$.$current},i||{});var r=h(t,i.relative);if(!H(r))return null;i.inherit&&(e=l(d,e||{},$.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?p.href(o.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},$.get=function(t,e){if(0===arguments.length)return f(s(M),function(t){return M[t].self});var n=h(t,e||$.$current);return n&&n.self?n.self:null},$}function k(t,e,n,i,r,o){function s(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),o=d.apply({},[t.params].concat(r)),s=new Y.ParamSet(o);return s.$$equals(e,n)}return!o.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&s(n,i,e))?!0:void 0}var C,$,M={},S={},T="abstract",D={parent:function(t){if(H(t.parent)&&t.parent)return h(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?h(e[1]):C},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=i(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(z(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||C).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new Y.ParamSet;return G(t.params||{},function(t,n){e[n]||(e[n]=new Y.Param(n,null,t,"config"))}),e},params:function(t){var e=d(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?V(t.parent.params.$$new(),e):new Y.ParamSet},views:function(t){var e={};return G(H(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),n.resolveAs=n.resolveAs||t.resolveAs||"$resolve",e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?V({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};C=v({name:"",url:"^",views:null,"abstract":!0}),C.navigable=null,this.decorator=w,this.state=_,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function C(){function t(t,e){return{load:function(t,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=V(r,n),n.view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function $(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function M(t,n,i,r,o){function s(){return n.has?function(t){return n.has(t)?n.get(t):null
}:function(t){try{return n.get(t)}catch(t){return null}}}function a(t,n){var i=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(c)return{enter:function(t,n,i){e.version.minor>2?c.enter(t,null,n).then(i):c.enter(t,null,n,i)},leave:function(t,n){e.version.minor>2?c.leave(t).then(n):c.leave(t,n)}};if(u){var r=u&&u(n,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return i()}var l=s(),u=l("$animator"),c=l("$animate"),d={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,l){return function(n,s,u){function c(){if(h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p){var t=p.data("$uiViewAnim");y.leave(p,function(){t.$$animLeave.resolve(),h=null}),h=p,p=null}}function d(a){var d,h=T(n,u,s,r),b=h&&t.$current&&t.$current.locals[h];if(a||b!==g){d=n.$new(),g=t.$current.locals[h],d.$emit("$viewContentLoading",h);var w=l(d,function(t){var r=o.defer(),a=o.defer(),l={$animEnter:r.promise,$animLeave:a.promise,$$animLeave:a};t.data("$uiViewAnim",l),y.enter(t,s,function(){r.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(e.isDefined(v)&&!v||n.$eval(v))&&i(t)}),c()});p=w,f=d,f.$emit("$viewContentLoaded",h),f.$eval(m)}}var h,p,f,g,m=u.onload||"",v=u.autoscroll,y=a(u,n);s.inheritedData("$uiView"),n.$on("$stateChangeSuccess",function(){d(!1)}),d(!0)}}};return d}function S(t,n,i,r){return{restrict:"ECA",priority:-400,compile:function(o){var s=o.html();return o.empty?o.empty():o[0].innerHTML=null,function(o,a,l){var u=i.$current,c=T(o,l,a,r),d=u&&u.locals[c];if(!d)return a.html(s),void t(a.contents())(o);a.data("$uiView",{name:c,state:d.$$state}),a.html(d.$template?d.$template:s);var h=e.extend({},d);o[d.$$resolveAs]=h;var p=t(a.contents());if(d.$$controller){d.$scope=o,d.$element=a;var f=n(d.$$controller,d);d.$$controllerAs&&(o[d.$$controllerAs]=f,o[d.$$controllerAs][d.$$resolveAs]=h),F(f.$onInit)&&f.$onInit(),a.data("$ngControllerController",f),a.children().data("$ngControllerController",f)}p(o)}}}}function T(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function D(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function E(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function O(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function A(t,e,n,i,r){return function(o){var s=o.which||o.button,a=r();if(!(s>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var l=n(function(){e.go(a.state,a.params,a.options)});o.preventDefault();var u=i.isAnchor&&!a.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function P(t,e){return{relative:E(t)||e.$current,inherit:!0}}function L(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,s){var a,l=D(o.uiSref,t.current.name),u={state:l.state,href:null,params:null},c=O(r),d=s[1]||s[0],h=null;u.options=V(P(r,t),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var p=function(n){n&&(u.params=e.copy(n)),u.href=t.href(l.state,u.params,u.options),h&&h(),d&&(h=d.$$addStateInfo(l.state,u.params)),null!==u.href&&o.$set(c.attr,u.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(t){t!==u.params&&p(t)},!0),u.params=e.copy(i.$eval(l.paramExpr))),p(),c.clickable&&(a=A(r,t,n,c,function(){return u}),r[r.on?"on":"bind"]("click",a),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",a)}))}}}function I(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function s(e){h.state=e[0],h.params=e[1],h.options=e[2],h.href=t.href(h.state,h.params,h.options),p&&p(),u&&(p=u.$$addStateInfo(h.state,h.params)),h.href&&r.$set(l.attr,h.href)}var a,l=O(i),u=o[1]||o[0],c=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],d="["+c.map(function(t){return t||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null},p=null;n.$watch(d,s,!0),s(n.$eval(d)),l.clickable&&(a=A(i,t,e,l,function(){return h}),i[i.on?"on":"bind"]("click",a),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",a)}))}}}function N(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,e,i,r){function o(t,n,i){var r=m.get(t,E(e)),o=s(t,n),a={state:r||{name:t},params:n,hash:o};return f.push(a),g[o]=i,function(){var t=f.indexOf(a);-1!==t&&f.splice(t,1)}}function s(e,n){if(!z(e))throw new Error("state should be a string");return W(n)?e+q(n):(n=t.$eval(n),W(n)?e+q(n):e)}function a(){for(var t=0;t<f.length;t++)c(f[t].state,f[t].params)?l(e,g[f[t].hash]):u(e,g[f[t].hash]),d(f[t].state,f[t].params)?l(e,h):u(e,h)}function l(t,e){r(function(){t.addClass(e)})}function u(t,e){t.removeClass(e)}function c(t,e){return m.includes(t.name,e)}function d(t,e){return m.is(t.name,e)}var h,p,f=[],g={};h=n(i.uiSrefActiveEq||"",!1)(t);try{p=t.$eval(i.uiSrefActive)}catch(m){}p=p||n(i.uiSrefActive||"",!1)(t),W(p)&&G(p,function(e,n){if(z(e)){var i=D(e,m.current.name);o(i.state,t.$eval(i.paramExpr),n)}}),this.$$addStateInfo=function(t,e){if(!(W(p)&&f.length>0)){var n=o(t,e,p);return a(),n}},t.$on("$stateChangeSuccess",a),a()}]}}function R(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function B(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}var H=e.isDefined,F=e.isFunction,z=e.isString,W=e.isObject,j=e.isArray,G=e.forEach,V=e.extend,U=e.copy,q=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",m),e.module("ui.router.util").provider("$templateFactory",v);var Y;b.prototype.concat=function(t,e){var n={caseInsensitive:Y.caseInsensitive(),strict:Y.strictMode(),squash:Y.defaultSquashPolicy()};return new b(this.sourcePath+t+this.sourceSearch,V(n,e),this)},b.prototype.toString=function(){return this.source},b.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=f(i,e);return f(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,o,s,a=this.parameters(),l=a.length,u=this.segments.length-1,c={};if(u!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var d,h;for(r=0;u>r;r++){for(s=a[r],d=this.params[s],h=i[r+1],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);h&&d.array===!0&&(h=n(h)),H(h)&&(h=d.type.decode(h)),c[s]=d.value(h)}for(;l>r;r++){for(s=a[r],c[s]=this.params[s].value(e[s]),d=this.params[s],h=e[s],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);H(h)&&(h=d.type.decode(h)),c[s]=d.value(h)}return c},b.prototype.parameters=function(t){return H(t)?this.params[t]||null:this.$$paramNames},b.prototype.validates=function(t){return this.params.$$validates(t)},b.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var o,s=!1,a=n.length-1,l=i.length,u=n[0];for(o=0;l>o;o++){var c=a>o,d=i[o],h=r[d],p=h.value(t[d]),g=h.isOptional&&h.type.equals(h.value(),p),m=!!g&&h.squash,v=h.type.encode(p);if(c){var y=n[o+1],b=o+1===a;if(m===!1)null!=v&&(u+=j(v)?f(v,e).join("-"):encodeURIComponent(v)),u+=y;else if(m===!0){var w=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(w)[1]}else z(m)&&(u+=m+y);b&&h.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||g&&m!==!1)continue;if(j(v)||(v=[v]),0===v.length)continue;v=f(v,encodeURIComponent).join("&"+d+"="),u+=(s?"&":"?")+(d+"="+v),s=!0}}return u},w.prototype.is=function(){return!0},w.prototype.encode=function(t){return t},w.prototype.decode=function(t){return t},w.prototype.equals=function(t,e){return t==e},w.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},w.prototype.pattern=/.*/,w.prototype.toString=function(){return"{Type:"+this.name+"}"},w.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},w.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return j(t)?t:H(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function s(t){return!t}function a(t,e){return function(n){if(j(n)&&0===n.length)return n;n=r(n);var i=f(n,t);return e===!0?0===p(i,s).length:o(i)}}function l(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(!t(i[s],o[s]))return!1;return!0}}this.encode=a(i(t,"encode")),this.decode=a(i(t,"decode")),this.is=a(i(t,"is"),!0),this.equals=l(i(t,"equals")),this.pattern=t.pattern,this.$normalize=a(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",_),e.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",x),k.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",k).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),C.$inject=[],e.module("ui.router.state").provider("$view",C),e.module("ui.router.state").provider("$uiViewScroll",$),M.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],S.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",M),e.module("ui.router.state").directive("uiView",S),L.$inject=["$state","$timeout"],I.$inject=["$state","$timeout"],N.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",L).directive("uiSrefActive",N).directive("uiSrefActiveEq",N).directive("uiState",I),R.$inject=["$state"],B.$inject=["$state"],e.module("ui.router.state").filter("isState",R).filter("includedByState",B)}(window,window.angular),function(){function t(t,e){window.XMLHttpRequest.prototype[t]=e(window.XMLHttpRequest.prototype[t])}function e(t,e,n,i,s,a,l){function u(){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function c(e){if(!g){g=!0;try{for(var l=e.__files_||e.target&&e.target.files,u=[],c=[],d=0;d<l.length;d++){var h=l.item(d);o(t,s,n,h,e)?u.push(h):c.push(h)}r(s,a,t,i,n,n.ngfChange||n.ngfSelect,u,c,e),0==u.length&&(e.target.value=u)}finally{g=!1}}}function d(i){n.ngfMultiple&&i.attr("multiple",s(n.ngfMultiple)(t)),s(n.ngfMultiple)(t)||i.attr("multiple",void 0),n.accept&&i.attr("accept",n.accept),n.ngfCapture&&i.attr("capture",s(n.ngfCapture)(t));for(var r=0;r<e[0].attributes.length;r++){var o=e[0].attributes[r];(u()&&"type"!==o.name||"type"!==o.name&&"class"!==o.name&&"id"!==o.name&&"style"!==o.name)&&i.attr(o.name,o.value)}}function h(){if(!e.attr("disabled")){var n=angular.element('<input type="file">');return d(n),u()?(e.replaceWith(n),e=n,n.attr("__ngf_gen__",!0),l(e)(t)):(n.css("visibility","hidden").css("position","absolute").css("width","1").css("height","1").css("z-index","-100000").attr("tabindex","-1"),e.__ngf_ref_elem__&&e.__ngf_ref_elem__.remove(),e.__ngf_ref_elem__=n,document.body.appendChild(n[0])),n}}function p(e){r(s,a,t,i,n,n.ngfChange||n.ngfSelect,[],[],e,!0)}function f(t){function n(){i[0].click(),u()&&(e.bind("click touchend",f),t.preventDefault())}t.preventDefault();var i=h(t);i&&(i.bind("change",c),p(t),navigator.userAgent.toLowerCase().match(/android/)?setTimeout(function(){n()},0):n())}if(!e.attr("__ngf_gen__")){var g=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(e,h,d,c,p):e.bind("click touchend",f)}}function n(t,e,n,s,a,l,u){function c(t,e,n){var i=!0,r=n.dataTransfer.items;if(null!=r)for(var s=0;s<r.length&&i;s++)i=i&&("file"==r[s].kind||""==r[s].kind)&&o(t,a,e,r[s],n);var l=a(e.ngfDragOverClass)(t,{$event:n});return l&&(l.delay&&(m=l.delay),l.accept&&(l=i?l.accept:l.reject)),l||e.ngfDragOverClass||"dragover"}function d(e,i,r,s){function c(i){o(t,a,n,i,e)?h.push(i):p.push(i)}function d(t,e,n){if(null!=e)if(e.isDirectory){var i=(n||"")+e.name;c({name:e.name,type:"directory",path:i});var r=e.createReader(),o=[];g++;var s=function(){r.readEntries(function(i){try{if(i.length)o=o.concat(Array.prototype.slice.call(i||[],0)),s();else{for(var r=0;r<o.length;r++)d(t,o[r],(n?n:"")+e.name+"/");g--}}catch(a){g--,console.error(a)}},function(){g--})};s()}else g++,e.file(function(t){try{g--,t.path=(n?n:"")+t.name,c(t)}catch(e){g--,console.error(e)}},function(){g--})}var h=[],p=[],f=e.dataTransfer.items,g=0;if(f&&f.length>0&&"file"!=u.protocol())for(var m=0;m<f.length;m++){if(f[m].webkitGetAsEntry&&f[m].webkitGetAsEntry()&&f[m].webkitGetAsEntry().isDirectory){var v=f[m].webkitGetAsEntry();if(v.isDirectory&&!r)continue;null!=v&&d(h,v)}else{var y=f[m].getAsFile();null!=y&&c(y)}if(!s&&h.length>0)break}else{var b=e.dataTransfer.files;if(null!=b)for(var m=0;m<b.length&&(c(b.item(m)),s||!(h.length>0));m++);}var w=0;!function _(t){l(function(){if(g)10*w++<2e4&&_(10);else{if(!s&&h.length>1){for(m=0;"directory"==h[m].type;)m++;h=[h[m]]}i(h,p)}},t||0)}()}var h=i();if(n.dropAvailable&&l(function(){t[n.dropAvailable]?t[n.dropAvailable].value=h:t[n.dropAvailable]=h}),!h)return void(1==a(n.ngfHideOnDropNotAvailable)(t)&&e.css("display","none"));{var p,f=null,g=a(n.ngfStopPropagation),m=1;a(n.ngfAccept)}e[0].addEventListener("dragover",function(i){if(!e.attr("disabled")){if(i.preventDefault(),g(t)&&i.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=i.dataTransfer.effectAllowed;i.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}l.cancel(f),t.actualDragOverClass||(p=c(t,n,i)),e.addClass(p)}},!1),e[0].addEventListener("dragenter",function(n){e.attr("disabled")||(n.preventDefault(),g(t)&&n.stopPropagation())},!1),e[0].addEventListener("dragleave",function(){e.attr("disabled")||(f=l(function(){e.removeClass(p),p=null},m||1))},!1),e[0].addEventListener("drop",function(i){e.attr("disabled")||(i.preventDefault(),g(t)&&i.stopPropagation(),e.removeClass(p),p=null,d(i,function(e,o){r(a,l,t,s,n,n.ngfChange||n.ngfDrop,e,o,i)},0!=a(n.ngfAllowDir)(t),n.multiple||a(n.ngfMultiple)(t)))},!1)}function i(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t}function r(t,e,n,i,r,o,s,a,l,u){function c(){i&&(t(r.ngModel).assign(n,s),e(function(){i&&i.$setViewValue(null!=s&&0==s.length?null:s)})),r.ngModelRejected&&t(r.ngModelRejected).assign(n,a),o&&t(o)(n,{$files:s,$rejectedFiles:a,$event:l})}u?c():e(function(){c()})}function o(t,e,n,i,r){var o=e(n.ngfAccept)(t,{$file:i,$event:r}),a=e(n.ngfMaxSize)(t,{$file:i,$event:r})||9007199254740991,l=e(n.ngfMinSize)(t,{$file:i,$event:r})||-1;if(null!=o&&angular.isString(o)){var u=new RegExp(s(o),"gi");o=null!=i.type&&u.test(i.type.toLowerCase())||null!=i.name&&u.test(i.name.toLowerCase())}return(null==o||o)&&(null==i.size||i.size<a&&i.size>l)}function s(t){if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])return t.substring(1,t.length-1);var e=t.split(","),n="";if(e.length>1)for(var i=0;i<e.length;i++)n+="("+s(e[i])+")",i<e.length-1&&(n+="|");else 0==t.indexOf(".")&&(t="*"+t),n="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",n=n.replace(/\\\*/g,".*").replace(/\\\?/g,".");return n}var a;window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&t("setRequestHeader",function(t){return function(e,n){if("__setXHR_"===e){var i=n(this);i instanceof Function&&i(this)}else t.apply(this,arguments)}});var l=angular.module("ngFileUpload",[]);l.version="4.2.1",l.service("Upload",["$http","$q","$timeout",function(t,e,n){function i(i){i.method=i.method||"POST",i.headers=i.headers||{},i.transformRequest=i.transformRequest||function(e,n){return window.ArrayBuffer&&e instanceof window.ArrayBuffer?e:t.defaults.transformRequest[0](e,n)};var r=e.defer(),o=r.promise;return i.headers.__setXHR_=function(){return function(t){t&&(i.__XHR=t,i.xhrFn&&i.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=i,r.notify?r.notify(t):o.progress_fn&&n(function(){o.progress_fn(t)})},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=i,r.notify?r.notify(t):o.progress_fn&&n(function(){o.progress_fn(t)}))},!1))}},t(i).then(function(t){r.resolve(t)},function(t){r.reject(t)},function(t){r.notify(t)}),o.success=function(t){return o.then(function(e){t(e.data,e.status,e.headers,i)}),o},o.error=function(t){return o.then(null,function(e){t(e.data,e.status,e.headers,i)}),o},o.progress=function(t){return o.progress_fn=t,o.then(null,null,function(e){t(e)}),o},o.abort=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),o},o.xhr=function(t){return i.xhrFn=function(e){return function(){e&&e.apply(o,arguments),t.apply(o,arguments)}}(i.xhrFn),o},o}this.upload=function(t){return t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var n=new FormData,i={};for(a in t.fields)t.fields.hasOwnProperty(a)&&(i[a]=t.fields[a]);if(e&&(i.data=e),t.formDataAppender)for(a in i)i.hasOwnProperty(a)&&t.formDataAppender(n,a,i[a]);else for(a in i)if(i.hasOwnProperty(a)){var r=i[a];void 0!==r&&(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r)?n.append(a,r):t.sendObjectsAsJsonBlob&&angular.isObject(r)?n.append(a,new Blob([r],{type:"application/json"})):n.append(a,JSON.stringify(r)))}if(null!=t.file){var o=t.fileFormDataName||"file";if(angular.isArray(t.file))for(var s=angular.isString(o),l=0;l<t.file.length;l++)n.append(s?o:o[l],t.file[l],t.fileName&&t.fileName[l]||t.file[l].name);else n.append(o,t.file,t.fileName||t.file.name)}return n}),i(t)},this.http=function(t){return i(t)}}]),l.directive("ngfSelect",["$parse","$timeout","$compile",function(t,n,i){return{restrict:"AEC",require:"?ngModel",link:function(r,o,s,a){e(r,o,s,a,t,n,i)}}}]),l.directive("ngfDrop",["$parse","$timeout","$location",function(t,e,i){return{restrict:"AEC",require:"?ngModel",link:function(r,o,s,a){n(r,o,s,a,t,e,i)}}}]),l.directive("ngfNoFileDrop",function(){return function(t,e){i()&&e.css("display","none")}}),l.directive("ngfDropAvailable",["$parse","$timeout",function(t,e){return function(n,r,o){if(i()){var s=t(o.ngfDropAvailable);e(function(){s(n),s.assign&&s.assign(n,!0)})}}}]),l.directive("ngfSrc",["$parse","$timeout",function(t,e){return{restrict:"AE",link:function(n,i,r){window.FileReader&&n.$watch(r.ngfSrc,function(s){s&&o(n,t,r,s,null)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||s.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||s.size<4e6)?e(function(){var t=new FileReader;t.readAsDataURL(s),t.onload=function(t){e(function(){i.attr("src",t.target.result)})}}):i.attr("src",r.ngfDefaultSrc||"")})}}}])}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return br.apply(null,arguments)}function e(t){br=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function o(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return bn(t,e,n,i,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(t){return null==t._pf&&(t._pf=h()),t._pf}function f(t){if(null==t._isValid){var e=p(t),n=_r.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=d(0/0);return null!=t?c(p(e),t):p(e).userInvalidated=!0,e}function m(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=p(e)),o(e._locale)||(t._locale=e._locale),xr.length>0)for(n=0;n<xr.length;n++)i=xr[n],r=e[i],o(r)||(t[i]=r);return t}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():0/0),this.isValid()||(this._d=new Date(0/0)),kr===!1&&(kr=!0,t.updateOffset(this),kr=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return 0>t?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function _(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&s++;return s+o}function x(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,n){var i=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){r+="\n["+s+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}x(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function C(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Cr[e]||(x(n),Cr[e]=!0)}function $(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t){var e,n;for(n in t)e=t[n],$(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function S(t,e){var n,r=c({},t);for(n in e)u(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},c(r[n],t[n]),c(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)u(t,n)&&!u(e,n)&&i(t[n])&&(r[n]=c({},r[n]));return r}function T(t){null!=t&&this.set(t)}function D(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return $(i)?i.call(e,n):i}function E(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function O(){return this._invalidDate}function A(t){return this._ordinal.replace("%d",t)}function P(t,e,n,i){var r=this._relativeTime[n];return $(r)?r(t,e,n,i):r.replace(/%d/i,t)}function L(t,e){var n=this._relativeTime[t>0?"future":"past"];return $(n)?n(e):n.replace(/%s/i,e)}function I(t,e){var n=t.toLowerCase();Lr[n]=Lr[n+"s"]=Lr[e]=t}function N(t){return"string"==typeof t?Lr[t]||Lr[t.toLowerCase()]:void 0}function R(t){var e,n,i={};for(n in t)u(t,n)&&(e=N(n),e&&(i[e]=t[n]));return i}function B(t,e){Ir[t]=e}function H(t){var e=[];for(var n in t)e.push({unit:n,priority:Ir[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function F(e,n){return function(i){return null!=i?(W(this,e,i),t.updateOffset(this,n),this):z(this,e)}}function z(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():0/0}function W(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function j(t){return t=N(t),$(this[t])?this[t]():this}function G(t,e){if("object"==typeof t){t=R(t);for(var n=H(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=N(t),$(this[t]))return this[t](e);return this}function V(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function U(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Hr[t]=r),e&&(Hr[e[0]]=function(){return V(r.apply(this,arguments),e[1],e[2])}),n&&(Hr[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function q(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Y(t){var e,n,i=t.match(Nr);for(e=0,n=i.length;n>e;e++)i[e]=Hr[i[e]]?Hr[i[e]]:q(i[e]);return function(e){var r,o="";for(r=0;n>r;r++)o+=$(i[r])?i[r].call(e,t):i[r];return o}}function K(t,e){return t.isValid()?(e=X(e,t.localeData()),Br[e]=Br[e]||Y(e),Br[e](t)):t.localeData().invalidDate()}function X(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Rr.lastIndex=0;i>=0&&Rr.test(t);)t=t.replace(Rr,n),Rr.lastIndex=0,i-=1;return t}function Z(t,e,n){io[t]=$(e)?e:function(t){return t&&n?n:e}}function J(t,e){return u(io,t)?io[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return te(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function te(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),s(e)&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)ro[t[n]]=i}function ne(t,e){ee(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function ie(t,e,n){null!=e&&u(ro,t)&&ro[t](e,n._a,n,t)}function re(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function oe(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||mo).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function se(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[mo.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=go.call(this._shortMonthsParse,s),-1!==r?r:null):(r=go.call(this._longMonthsParse,s),-1!==r?r:null):"MMM"===e?(r=go.call(this._shortMonthsParse,s),-1!==r?r:(r=go.call(this._longMonthsParse,s),-1!==r?r:null)):(r=go.call(this._longMonthsParse,s),-1!==r?r:(r=go.call(this._shortMonthsParse,s),-1!==r?r:null))}function le(t,e,n){var i,r,o;if(this._monthsParseExact)return ae.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ue(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(e=t.localeData().monthsParse(e),!s(e))return t;return n=Math.min(t.date(),re(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ce(e){return null!=e?(ue(this,e),t.updateOffset(this,!0),this):z(this,"Month")}function de(){return re(this.year(),this.month())}function he(t){return this._monthsParseExact?(u(this,"_monthsRegex")||fe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=bo),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(t){return this._monthsParseExact?(u(this,"_monthsRegex")||fe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=wo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function fe(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;12>e;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;12>e;e++)i[e]=te(i[e]),r[e]=te(r[e]);for(e=0;24>e;e++)o[e]=te(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ge(t){return me(t)?366:365}function me(t){return t%4===0&&t%100!==0||t%400===0}function ve(){return me(this.year())}function ye(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function be(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function we(t,e,n){var i=7+e-n,r=(7+be(t,0,i).getUTCDay()-e)%7;return-r+i-1}function _e(t,e,n,i,r){var o,s,a=(7+n-i)%7,l=we(t,i,r),u=1+7*(e-1)+a+l;return 0>=u?(o=t-1,s=ge(o)+u):u>ge(t)?(o=t+1,s=u-ge(t)):(o=t,s=u),{year:o,dayOfYear:s}}function xe(t,e,n){var i,r,o=we(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return 1>s?(r=t.year()-1,i=s+ke(r,e,n)):s>ke(t.year(),e,n)?(i=s-ke(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function ke(t,e,n){var i=we(t,e,n),r=we(t+1,e,n);return(ge(t)-i+r)/7}function Ce(t){return xe(t,this._week.dow,this._week.doy).week}function $e(){return this._week.dow}function Me(){return this._week.doy}function Se(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Te(t){var e=xe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function De(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Ee(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Oe(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ae(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Pe(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Le(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=go.call(this._weekdaysParse,s),-1!==r?r:null):"ddd"===e?(r=go.call(this._shortWeekdaysParse,s),-1!==r?r:null):(r=go.call(this._minWeekdaysParse,s),-1!==r?r:null):"dddd"===e?(r=go.call(this._weekdaysParse,s),-1!==r?r:(r=go.call(this._shortWeekdaysParse,s),-1!==r?r:(r=go.call(this._minWeekdaysParse,s),-1!==r?r:null))):"ddd"===e?(r=go.call(this._shortWeekdaysParse,s),-1!==r?r:(r=go.call(this._weekdaysParse,s),-1!==r?r:(r=go.call(this._minWeekdaysParse,s),-1!==r?r:null))):(r=go.call(this._minWeekdaysParse,s),-1!==r?r:(r=go.call(this._weekdaysParse,s),-1!==r?r:(r=go.call(this._shortWeekdaysParse,s),-1!==r?r:null)))
}function Ie(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Le.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Ne(t){if(!this.isValid())return null!=t?this:0/0;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=De(t,this.localeData()),this.add(t-e,"d")):e}function Re(t){if(!this.isValid())return null!=t?this:0/0;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Be(t){if(!this.isValid())return null!=t?this:0/0;if(null!=t){var e=Ee(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function He(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||We.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Mo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fe(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||We.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=So),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ze(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||We.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=To),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function We(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],u=[];for(e=0;7>e;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(s.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;7>e;e++)a[e]=te(a[e]),l[e]=te(l[e]),u[e]=te(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function je(){return this.hours()%12||12}function Ge(){return this.hours()||24}function Ve(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ue(t,e){return e._meridiemParse}function qe(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ye(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Ke(t){return t?t.toLowerCase().replace("_","-"):t}function Xe(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Ke(t[o]).split("-"),e=r.length,n=Ke(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Ze(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&_(r,n,!0)>=e-1)break;e--}o++}return null}function Ze(t){var e=null;if(!Po[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Do._abbr,require("./locale/"+t),Je(e)}catch(n){}return Po[t]}function Je(t,e){var n;return t&&(n=o(e)?en(t):Qe(t,e),n&&(Do=n)),Do._abbr}function Qe(t,e){if(null!==e){var n=Ao;if(e.abbr=t,null!=Po[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Po[t]._config;else if(null!=e.parentLocale){if(null==Po[e.parentLocale])return Lo[e.parentLocale]||(Lo[e.parentLocale]=[]),Lo[e.parentLocale].push({name:t,config:e}),null;n=Po[e.parentLocale]._config}return Po[t]=new T(S(n,e)),Lo[t]&&Lo[t].forEach(function(t){Qe(t.name,t.config)}),Je(t),Po[t]}return delete Po[t],null}function tn(t,e){if(null!=e){var n,i=Ao;null!=Po[t]&&(i=Po[t]._config),e=S(i,e),n=new T(e),n.parentLocale=Po[t],Po[t]=n,Je(t)}else null!=Po[t]&&(null!=Po[t].parentLocale?Po[t]=Po[t].parentLocale:null!=Po[t]&&delete Po[t]);return Po[t]}function en(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Do;if(!n(t)){if(e=Ze(t))return e;t=[t]}return Xe(t)}function nn(){return Sr(Po)}function rn(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[so]<0||n[so]>11?so:n[ao]<1||n[ao]>re(n[oo],n[so])?ao:n[lo]<0||n[lo]>24||24===n[lo]&&(0!==n[uo]||0!==n[co]||0!==n[ho])?lo:n[uo]<0||n[uo]>59?uo:n[co]<0||n[co]>59?co:n[ho]<0||n[ho]>999?ho:-1,p(t)._overflowDayOfYear&&(oo>e||e>ao)&&(e=ao),p(t)._overflowWeeks&&-1===e&&(e=po),p(t)._overflowWeekday&&-1===e&&(e=fo),p(t).overflow=e),t}function on(t){var e,n,i,r,o,s,a=t._i,l=Io.exec(a)||No.exec(a);if(l){for(p(t).iso=!0,e=0,n=Bo.length;n>e;e++)if(Bo[e][1].exec(l[1])){r=Bo[e][0],i=Bo[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Ho.length;n>e;e++)if(Ho[e][1].exec(l[3])){o=(l[2]||" ")+Ho[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Ro.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),hn(t)}else t._isValid=!1}function sn(t){var e,n,i,r,o,s,a,l,u={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(e=t._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=zo.exec(e)){if(i=n[1]?"ddd"+(5===n[1].length?", ":" "):"",r="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var d=new Date(n[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][d.getDay()];if(n[1].substr(0,3)!==h)return p(t).weekdayMismatch=!0,void(t._isValid=!1)}switch(n[5].length){case 2:0===l?a=" +0000":(l=c.indexOf(n[5][1].toUpperCase())-12,a=(0>l?" -":" +")+(""+l).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:a=u[n[5]];break;default:a=u[" GMT"]}n[5]=a,t._i=n.splice(1).join(""),s=" ZZ",t._f=i+r+o+s,hn(t),p(t).rfc2822=!0}else t._isValid=!1}function an(e){var n=Fo.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(on(e),void(e._isValid===!1&&(delete e._isValid,sn(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e)))))}function ln(t,e,n){return null!=t?t:null!=e?e:n}function un(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function cn(t){var e,n,i,r,o=[];if(!t._d){for(i=un(t),t._w&&null==t._a[ao]&&null==t._a[so]&&dn(t),null!=t._dayOfYear&&(r=ln(t._a[oo],i[oo]),(t._dayOfYear>ge(r)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=be(r,0,t._dayOfYear),t._a[so]=n.getUTCMonth(),t._a[ao]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[lo]&&0===t._a[uo]&&0===t._a[co]&&0===t._a[ho]&&(t._nextDay=!0,t._a[lo]=0),t._d=(t._useUTC?be:ye).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[lo]=24)}}function dn(t){var e,n,i,r,o,s,a,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,s=4,n=ln(e.GG,t._a[oo],xe(wn(),1,4).year),i=ln(e.W,1),r=ln(e.E,1),(1>r||r>7)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var u=xe(wn(),o,s);n=ln(e.gg,t._a[oo],u.year),i=ln(e.w,u.week),null!=e.d?(r=e.d,(0>r||r>6)&&(l=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}1>i||i>ke(n,o,s)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(a=_e(n,i,r,o,s),t._a[oo]=a.year,t._dayOfYear=a.dayOfYear)}function hn(e){if(e._f===t.ISO_8601)return void on(e);if(e._f===t.RFC_2822)return void sn(e);e._a=[],p(e).empty=!0;var n,i,r,o,s,a=""+e._i,l=a.length,u=0;for(r=X(e._f,e._locale).match(Nr)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(J(o,e))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&p(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Hr[o]?(i?p(e).empty=!1:p(e).unusedTokens.push(o),ie(o,i,e)):e._strict&&!i&&p(e).unusedTokens.push(o);p(e).charsLeftOver=l-u,a.length>0&&p(e).unusedInput.push(a),e._a[lo]<=12&&p(e).bigHour===!0&&e._a[lo]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[lo]=pn(e._locale,e._a[lo],e._meridiem),cn(e),rn(e)}function pn(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function fn(t){var e,n,i,r,o;if(0===t._f.length)return p(t).invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],hn(e),f(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==i||i>o)&&(i=o,n=e));c(t,n||e)}function gn(t){if(!t._d){var e=R(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),cn(t)}}function mn(t){var e=new v(rn(vn(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function vn(t){var e=t._i,i=t._f;return t._locale=t._locale||en(t._l),null===e||void 0===i&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(rn(e)):(a(e)?t._d=e:n(i)?fn(t):i?hn(t):yn(t),f(t)||(t._d=null),t))}function yn(e){var r=e._i;o(r)?e._d=new Date(t.now()):a(r)?e._d=new Date(r.valueOf()):"string"==typeof r?an(e):n(r)?(e._a=l(r.slice(0),function(t){return parseInt(t,10)}),cn(e)):i(r)?gn(e):s(r)?e._d=new Date(r):t.createFromInputFallback(e)}function bn(t,e,o,s,a){var l={};return(o===!0||o===!1)&&(s=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=o,l._i=t,l._f=e,l._strict=s,mn(l)}function wn(t,e,n,i){return bn(t,e,n,i,!1)}function _n(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return wn();for(i=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](i))&&(i=e[r]);return i}function xn(){var t=[].slice.call(arguments,0);return _n("isBefore",t)}function kn(){var t=[].slice.call(arguments,0);return _n("isAfter",t)}function Cn(t){for(var e in t)if(-1===Vo.indexOf(e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Vo.length;++i)if(t[Vo[i]]){if(n)return!1;parseFloat(t[Vo[i]])!==w(t[Vo[i]])&&(n=!0)}return!0}function $n(){return this._isValid}function Mn(){return Vn(0/0)}function Sn(t){var e=R(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Cn(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=en(),this._bubble()}function Tn(t){return t instanceof Sn}function Dn(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function En(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+V(~~(t/60),2)+e+V(~~t%60,2)})}function On(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Uo)||["-",0,0],o=+(60*r[1])+w(r[2]);return 0===o?0:"+"===r[0]?o:-o}function An(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(y(e)||a(e)?e.valueOf():wn(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):wn(e).local()}function Pn(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ln(e,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:0/0;if(null!=e){if("string"==typeof e){if(e=On(to,e),null===e)return this}else Math.abs(e)<16&&!i&&(e=60*e);return!this._isUTC&&n&&(r=Pn(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?Xn(this,Vn(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Pn(this)}function In(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Nn(t){return this.utcOffset(0,t)}function Rn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Pn(this),"m")),this}function Bn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=On(Qr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Hn(t){return this.isValid()?(t=t?wn(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function Fn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zn(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=vn(t),t._a){var e=t._isUTC?d(t._a):wn(t._a);this._isDSTShifted=this.isValid()&&_(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wn(){return this.isValid()?!this._isUTC:!1}function jn(){return this.isValid()?this._isUTC:!1}function Gn(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Vn(t,e){var n,i,r,o=t,a=null;return Tn(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=qo.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:w(a[ao])*n,h:w(a[lo])*n,m:w(a[uo])*n,s:w(a[co])*n,ms:w(Dn(1e3*a[ho]))*n}):(a=Yo.exec(t))?(n="-"===a[1]?-1:1,o={y:Un(a[2],n),M:Un(a[3],n),w:Un(a[4],n),d:Un(a[5],n),h:Un(a[6],n),m:Un(a[7],n),s:Un(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Yn(wn(o.from),wn(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Sn(o),Tn(t)&&u(t,"_locale")&&(i._locale=t._locale),i}function Un(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function qn(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Yn(t,e){var n;return t.isValid()&&e.isValid()?(e=An(e,t),t.isBefore(e)?n=qn(t,e):(n=qn(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Kn(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Vn(n,i),Xn(this,r,t),this}}function Xn(e,n,i,r){var o=n._milliseconds,s=Dn(n._days),a=Dn(n._months);e.isValid()&&(r=null==r?!0:r,o&&e._d.setTime(e._d.valueOf()+o*i),s&&W(e,"Date",z(e,"Date")+s*i),a&&ue(e,z(e,"Month")+a*i),r&&t.updateOffset(e,s||a))}function Zn(t,e){var n=t.diff(e,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function Jn(e,n){var i=e||wn(),r=An(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",s=n&&($(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,wn(i)))}function Qn(){return new v(this)}function ti(t,e){var n=y(t)?t:wn(t);return this.isValid()&&n.isValid()?(e=N(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function ei(t,e){var n=y(t)?t:wn(t);return this.isValid()&&n.isValid()?(e=N(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function ni(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function ii(t,e){var n,i=y(t)?t:wn(t);return this.isValid()&&i.isValid()?(e=N(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function ri(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function oi(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function si(t,e,n){var i,r,o,s;return this.isValid()?(i=An(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=N(e),"year"===e||"month"===e||"quarter"===e?(s=ai(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:b(s)):0/0):0/0}function ai(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return 0>e-o?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function li(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ui(){if(!this.isValid())return null;var t=this.clone().utc();return t.year()<0||t.year()>9999?K(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):$(Date.prototype.toISOString)?this.toDate().toISOString():K(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ci(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function di(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=K(this,e);return this.localeData().postformat(n)}function hi(t,e){return this.isValid()&&(y(t)&&t.isValid()||wn(t).isValid())?Vn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pi(t){return this.from(wn(),t)}function fi(t,e){return this.isValid()&&(y(t)&&t.isValid()||wn(t).isValid())?Vn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function gi(t){return this.to(wn(),t)}function mi(t){var e;return void 0===t?this._locale._abbr:(e=en(t),null!=e&&(this._locale=e),this)}function vi(){return this._locale}function yi(t){switch(t=N(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function bi(t){return t=N(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function wi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function xi(){return new Date(this.valueOf())}function ki(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ci(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function $i(){return this.isValid()?this.toISOString():null}function Mi(){return f(this)}function Si(){return c({},p(this))}function Ti(){return p(this).overflow}function Di(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ei(t,e){U(0,[t,t.length],0,e)}function Oi(t){return Ii.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ai(t){return Ii.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Pi(){return ke(this.year(),1,4)}function Li(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function Ii(t,e,n,i,r){var o;return null==t?xe(this,i,r).year:(o=ke(t,i,r),e>o&&(e=o),Ni.call(this,t,e,n,i,r))}function Ni(t,e,n,i,r){var o=_e(t,e,n,i,r),s=be(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ri(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Bi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Hi(t,e){e[ho]=w(1e3*("0."+t))}function Fi(){return this._isUTC?"UTC":""}function zi(){return this._isUTC?"Coordinated Universal Time":""}function Wi(t){return wn(1e3*t)}function ji(){return wn.apply(null,arguments).parseZone()}function Gi(t){return t}function Vi(t,e,n,i){var r=en(),o=d().set(i,e);return r[n](o,t)}function Ui(t,e,n){if(s(t)&&(e=t,t=void 0),t=t||"",null!=e)return Vi(t,e,n,"month");var i,r=[];for(i=0;12>i;i++)r[i]=Vi(t,i,n,"month");return r}function qi(t,e,n,i){"boolean"==typeof t?(s(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,s(e)&&(n=e,e=void 0),e=e||"");var r=en(),o=t?r._week.dow:0;if(null!=n)return Vi(e,(n+o)%7,i,"day");var a,l=[];for(a=0;7>a;a++)l[a]=Vi(e,(a+o)%7,i,"day");return l}function Yi(t,e){return Ui(t,e,"months")}function Ki(t,e){return Ui(t,e,"monthsShort")}function Xi(t,e,n){return qi(t,e,n,"weekdays")}function Zi(t,e,n){return qi(t,e,n,"weekdaysShort")}function Ji(t,e,n){return qi(t,e,n,"weekdaysMin")}function Qi(){var t=this._data;return this._milliseconds=os(this._milliseconds),this._days=os(this._days),this._months=os(this._months),t.milliseconds=os(t.milliseconds),t.seconds=os(t.seconds),t.minutes=os(t.minutes),t.hours=os(t.hours),t.months=os(t.months),t.years=os(t.years),this}function tr(t,e,n,i){var r=Vn(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function er(t,e){return tr(this,t,e,1)}function nr(t,e){return tr(this,t,e,-1)}function ir(t){return 0>t?Math.floor(t):Math.ceil(t)}function rr(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||0>=o&&0>=s&&0>=a||(o+=864e5*ir(sr(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=b(o/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,s+=b(n/24),r=b(or(s)),a+=r,s-=ir(sr(r)),i=b(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function or(t){return 4800*t/146097}function sr(t){return 146097*t/4800}function ar(t){if(!this.isValid())return 0/0;var e,n,i=this._milliseconds;if(t=N(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+or(e),"month"===t?n:n/12;switch(e=this._days+Math.round(sr(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function lr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):0/0}function ur(t){return function(){return this.as(t)}}function cr(t){return t=N(t),this.isValid()?this[t+"s"]():0/0}function dr(t){return function(){return this.isValid()?this._data[t]:0/0}}function hr(){return b(this.days()/7)}function pr(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function fr(t,e,n){var i=Vn(t).abs(),r=_s(i.as("s")),o=_s(i.as("m")),s=_s(i.as("h")),a=_s(i.as("d")),l=_s(i.as("M")),u=_s(i.as("y")),c=r<=xs.ss&&["s",r]||r<xs.s&&["ss",r]||1>=o&&["m"]||o<xs.m&&["mm",o]||1>=s&&["h"]||s<xs.h&&["hh",s]||1>=a&&["d"]||a<xs.d&&["dd",a]||1>=l&&["M"]||l<xs.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,pr.apply(null,c)}function gr(t){return void 0===t?_s:"function"==typeof t?(_s=t,!0):!1}function mr(t,e){return void 0===xs[t]?!1:void 0===e?xs[t]:(xs[t]=e,"s"===t&&(xs.ss=e-1),!0)}function vr(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=fr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function yr(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=ks(this._milliseconds)/1e3,r=ks(this._days),o=ks(this._months);t=b(i/60),e=b(t/60),i%=60,t%=60,n=b(o/12),o%=12;var s=n,a=o,l=r,u=e,c=t,d=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var br,wr;wr=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;n>i;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var _r=wr,xr=t.momentProperties=[],kr=!1,Cr={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var $r;$r=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var Mr,Sr=$r,Tr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Dr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Er="Invalid date",Or="%d",Ar=/\d{1,2}/,Pr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Lr={},Ir={},Nr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Rr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Br={},Hr={},Fr=/\d/,zr=/\d\d/,Wr=/\d{3}/,jr=/\d{4}/,Gr=/[+-]?\d{6}/,Vr=/\d\d?/,Ur=/\d\d\d\d?/,qr=/\d\d\d\d\d\d?/,Yr=/\d{1,3}/,Kr=/\d{1,4}/,Xr=/[+-]?\d{1,6}/,Zr=/\d+/,Jr=/[+-]?\d+/,Qr=/Z|[+-]\d\d:?\d\d/gi,to=/Z|[+-]\d\d(?::?\d\d)?/gi,eo=/[+-]?\d+(\.\d{1,3})?/,no=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,io={},ro={},oo=0,so=1,ao=2,lo=3,uo=4,co=5,ho=6,po=7,fo=8;Mr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};var go=Mr;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),I("month","M"),B("month",8),Z("M",Vr),Z("MM",Vr,zr),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),ee(["M","MM"],function(t,e){e[so]=w(t)-1}),ee(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[so]=r:p(n).invalidMonth=t});var mo=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),bo=no,wo=no;U("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),I("year","y"),B("year",1),Z("Y",Jr),Z("YY",Vr,zr),Z("YYYY",Kr,jr),Z("YYYYY",Xr,Gr),Z("YYYYYY",Xr,Gr),ee(["YYYYY","YYYYYY"],oo),ee("YYYY",function(e,n){n[oo]=2===e.length?t.parseTwoDigitYear(e):w(e)}),ee("YY",function(e,n){n[oo]=t.parseTwoDigitYear(e)}),ee("Y",function(t,e){e[oo]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var _o=F("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),B("week",5),B("isoWeek",5),Z("w",Vr),Z("ww",Vr,zr),Z("W",Vr),Z("WW",Vr,zr),ne(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});var xo={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),Z("d",Vr),Z("e",Vr),Z("E",Vr),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),ne(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:p(n).invalidWeekday=t}),ne(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var ko="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Co="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$o="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mo=no,So=no,To=no;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,je),U("k",["kk",2],0,Ge),U("hmm",0,0,function(){return""+je.apply(this)+V(this.minutes(),2)}),U("hmmss",0,0,function(){return""+je.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),I("hour","h"),B("hour",13),Z("a",Ue),Z("A",Ue),Z("H",Vr),Z("h",Vr),Z("k",Vr),Z("HH",Vr,zr),Z("hh",Vr,zr),Z("kk",Vr,zr),Z("hmm",Ur),Z("hmmss",qr),Z("Hmm",Ur),Z("Hmmss",qr),ee(["H","HH"],lo),ee(["k","kk"],function(t,e){var n=w(t);e[lo]=24===n?0:n}),ee(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ee(["h","hh"],function(t,e,n){e[lo]=w(t),p(n).bigHour=!0}),ee("hmm",function(t,e,n){var i=t.length-2;e[lo]=w(t.substr(0,i)),e[uo]=w(t.substr(i)),p(n).bigHour=!0}),ee("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[lo]=w(t.substr(0,i)),e[uo]=w(t.substr(i,2)),e[co]=w(t.substr(r)),p(n).bigHour=!0}),ee("Hmm",function(t,e){var n=t.length-2;e[lo]=w(t.substr(0,n)),e[uo]=w(t.substr(n))}),ee("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[lo]=w(t.substr(0,n)),e[uo]=w(t.substr(n,2)),e[co]=w(t.substr(i))});var Do,Eo=/[ap]\.?m?\.?/i,Oo=F("Hours",!0),Ao={calendar:Tr,longDateFormat:Dr,invalidDate:Er,ordinal:Or,dayOfMonthOrdinalParse:Ar,relativeTime:Pr,months:vo,monthsShort:yo,week:xo,weekdays:ko,weekdaysMin:$o,weekdaysShort:Co,meridiemParse:Eo},Po={},Lo={},Io=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,No=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ro=/Z|[+-]\d\d(?::?\d\d)?/,Bo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ho=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Fo=/^\/?Date\((\-?\d+)/i,zo=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Wo=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=wn.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:g()}),jo=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=wn.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}),Go=function(){return Date.now?Date.now():+new Date},Vo=["year","quarter","month","week","day","hour","minute","second","millisecond"];En("Z",":"),En("ZZ",""),Z("Z",to),Z("ZZ",to),ee(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=On(to,t)});var Uo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var qo=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Yo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
Vn.fn=Sn.prototype,Vn.invalid=Mn;var Ko=Kn(1,"add"),Xo=Kn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zo=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ei("gggg","weekYear"),Ei("ggggg","weekYear"),Ei("GGGG","isoWeekYear"),Ei("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),Z("G",Jr),Z("g",Jr),Z("GG",Vr,zr),Z("gg",Vr,zr),Z("GGGG",Kr,jr),Z("gggg",Kr,jr),Z("GGGGG",Xr,Gr),Z("ggggg",Xr,Gr),ne(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),ne(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),I("quarter","Q"),B("quarter",7),Z("Q",Fr),ee("Q",function(t,e){e[so]=3*(w(t)-1)}),U("D",["DD",2],"Do","date"),I("date","D"),B("date",9),Z("D",Vr),Z("DD",Vr,zr),Z("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ee(["D","DD"],ao),ee("Do",function(t,e){e[ao]=w(t.match(Vr)[0],10)});var Jo=F("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),B("dayOfYear",4),Z("DDD",Yr),Z("DDDD",Wr),ee(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),U("m",["mm",2],0,"minute"),I("minute","m"),B("minute",14),Z("m",Vr),Z("mm",Vr,zr),ee(["m","mm"],uo);var Qo=F("Minutes",!1);U("s",["ss",2],0,"second"),I("second","s"),B("second",15),Z("s",Vr),Z("ss",Vr,zr),ee(["s","ss"],co);var ts=F("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),B("millisecond",16),Z("S",Yr,Fr),Z("SS",Yr,zr),Z("SSS",Yr,Wr);var es;for(es="SSSS";es.length<=9;es+="S")Z(es,Zr);for(es="S";es.length<=9;es+="S")ee(es,Hi);var ns=F("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var is=v.prototype;is.add=Ko,is.calendar=Jn,is.clone=Qn,is.diff=si,is.endOf=bi,is.format=di,is.from=hi,is.fromNow=pi,is.to=fi,is.toNow=gi,is.get=j,is.invalidAt=Ti,is.isAfter=ti,is.isBefore=ei,is.isBetween=ni,is.isSame=ii,is.isSameOrAfter=ri,is.isSameOrBefore=oi,is.isValid=Mi,is.lang=Zo,is.locale=mi,is.localeData=vi,is.max=jo,is.min=Wo,is.parsingFlags=Si,is.set=G,is.startOf=yi,is.subtract=Xo,is.toArray=ki,is.toObject=Ci,is.toDate=xi,is.toISOString=ui,is.inspect=ci,is.toJSON=$i,is.toString=li,is.unix=_i,is.valueOf=wi,is.creationData=Di,is.year=_o,is.isLeapYear=ve,is.weekYear=Oi,is.isoWeekYear=Ai,is.quarter=is.quarters=Ri,is.month=ce,is.daysInMonth=de,is.week=is.weeks=Se,is.isoWeek=is.isoWeeks=Te,is.weeksInYear=Li,is.isoWeeksInYear=Pi,is.date=Jo,is.day=is.days=Ne,is.weekday=Re,is.isoWeekday=Be,is.dayOfYear=Bi,is.hour=is.hours=Oo,is.minute=is.minutes=Qo,is.second=is.seconds=ts,is.millisecond=is.milliseconds=ns,is.utcOffset=Ln,is.utc=Nn,is.local=Rn,is.parseZone=Bn,is.hasAlignedHourOffset=Hn,is.isDST=Fn,is.isLocal=Wn,is.isUtcOffset=jn,is.isUtc=Gn,is.isUTC=Gn,is.zoneAbbr=Fi,is.zoneName=zi,is.dates=k("dates accessor is deprecated. Use date instead.",Jo),is.months=k("months accessor is deprecated. Use month instead",ce),is.years=k("years accessor is deprecated. Use year instead",_o),is.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",In),is.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zn);var rs=T.prototype;rs.calendar=D,rs.longDateFormat=E,rs.invalidDate=O,rs.ordinal=A,rs.preparse=Gi,rs.postformat=Gi,rs.relativeTime=P,rs.pastFuture=L,rs.set=M,rs.months=oe,rs.monthsShort=se,rs.monthsParse=le,rs.monthsRegex=pe,rs.monthsShortRegex=he,rs.week=Ce,rs.firstDayOfYear=Me,rs.firstDayOfWeek=$e,rs.weekdays=Oe,rs.weekdaysMin=Pe,rs.weekdaysShort=Ae,rs.weekdaysParse=Ie,rs.weekdaysRegex=He,rs.weekdaysShortRegex=Fe,rs.weekdaysMinRegex=ze,rs.isPM=qe,rs.meridiem=Ye,Je("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=k("moment.lang is deprecated. Use moment.locale instead.",Je),t.langData=k("moment.langData is deprecated. Use moment.localeData instead.",en);var os=Math.abs,ss=ur("ms"),as=ur("s"),ls=ur("m"),us=ur("h"),cs=ur("d"),ds=ur("w"),hs=ur("M"),ps=ur("y"),fs=dr("milliseconds"),gs=dr("seconds"),ms=dr("minutes"),vs=dr("hours"),ys=dr("days"),bs=dr("months"),ws=dr("years"),_s=Math.round,xs={ss:44,s:45,m:45,h:22,d:26,M:11},ks=Math.abs,Cs=Sn.prototype;return Cs.isValid=$n,Cs.abs=Qi,Cs.add=er,Cs.subtract=nr,Cs.as=ar,Cs.asMilliseconds=ss,Cs.asSeconds=as,Cs.asMinutes=ls,Cs.asHours=us,Cs.asDays=cs,Cs.asWeeks=ds,Cs.asMonths=hs,Cs.asYears=ps,Cs.valueOf=lr,Cs._bubble=rr,Cs.get=cr,Cs.milliseconds=fs,Cs.seconds=gs,Cs.minutes=ms,Cs.hours=vs,Cs.days=ys,Cs.weeks=hr,Cs.months=bs,Cs.years=ws,Cs.humanize=vr,Cs.toISOString=yr,Cs.toString=yr,Cs.toJSON=yr,Cs.locale=mi,Cs.localeData=vi,Cs.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",yr),Cs.lang=Zo,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Jr),Z("X",eo),ee("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ee("x",function(t,e,n){n._d=new Date(w(t))}),t.version="2.18.1",e(wn),t.fn=is,t.min=xn,t.max=kn,t.now=Go,t.utc=d,t.unix=Wi,t.months=Yi,t.isDate=a,t.locale=Je,t.invalid=g,t.duration=Vn,t.isMoment=y,t.weekdays=Xi,t.parseZone=ji,t.localeData=en,t.isDuration=Tn,t.monthsShort=Ki,t.weekdaysMin=Ji,t.defineLocale=Qe,t.updateLocale=tn,t.locales=nn,t.weekdaysShort=Zi,t.normalizeUnits=N,t.relativeTimeRounding=gr,t.relativeTimeThreshold=mr,t.calendarFormat=Zn,t.prototype=is,t}),function(t,e,n,i){"use strict";var r=e.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(o,s,a){this.draggableScope=null,this.droppableScope=null,n("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(t,e,i,r){function o(e){var i=-1!==e.indexOf("(")?e.indexOf("("):e.length,r=-1!==e.lastIndexOf(")")?e.lastIndexOf(")"):e.length,o=e.substring(i+1,r),a=-1!==e.indexOf(".")?e.substr(0,e.indexOf(".")):null;return a=t[a]&&"function"==typeof t[a].constructor?a:null,{callback:e.substring(a&&a.length+1||0,i),args:n.map(o&&o.split(",")||[],function(e){return[s(e)(t)]}),constructor:a}}if(e){var a=o(e),l=a.callback,u=a.constructor,c=[i,r].concat(a.args);return(t[l]||t[u][l]).apply(t,c)}},this.invokeDrop=function(t,s,l,u){var c,d,h,p="",f="",g={},m={},v=null,y={},b={},w=null,_=this.droppableScope,x=this.draggableScope,k=null,C=[];p=t.ngattr("ng-model"),f=s.ngattr("ng-model"),c=x.$eval(p),d=_.$eval(f),w=s.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),m=_.$eval(s.attr("jqyoui-droppable")||s.attr("data-jqyoui-droppable"))||[],g=x.$eval(t.attr("jqyoui-draggable")||t.attr("data-jqyoui-draggable"))||[],g.index=this.fixIndex(x,g,c),m.index=this.fixIndex(_,m,d),v=e.isArray(c)?g.index:null,y=e.isArray(c)?c[v]:c,g.deepCopy&&(y=e.copy(y)),b=e.isArray(d)&&m&&m.index!==i?d[m.index]:e.isArray(d)?{}:d,m.deepCopy&&(b=e.copy(b)),g.beforeDrop&&C.push(this.callEventCallback(x,g.beforeDrop,l,u)),a.all(C).then(e.bind(this,function(){if(g.insertInline&&p===f){if(g.index>m.index){h=c[g.index];for(var i=g.index;i>m.index;i--)d[i]=e.copy(d[i-1]),d[i-1]={},d[i][g.direction]="left";d[m.index]=h}else{h=c[g.index];for(var i=g.index;i<m.index;i++)d[i]=e.copy(d[i+1]),d[i+1]={},d[i][g.direction]="right";d[m.index]=h}this.callEventCallback(_,m.onDrop,l,u)}else g.animate===!0?(k=t.clone(),k.css({position:"absolute"}).css(t.offset()),n("body").append(k),t.addClass("angular-dragdrop-hide"),this.move(k,w.length>0?w:s,null,"fast",m,function(){k.remove()}),this.move(w.length>0&&!m.multiple?w:[],t.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),r.startXY,"fast",m,e.bind(this,function(){o(e.bind(this,function(){t.css({position:"relative",left:"",top:""}).removeClass("angular-dragdrop-hide"),w.css({position:"relative",left:"",top:"",display:"none"===w.css("display")?"":w.css("display")}),this.mutateDraggable(x,m,g,p,f,b,t),this.mutateDroppable(_,m,g,f,y,v),this.callEventCallback(_,m.onDrop,l,u)}))}))):o(e.bind(this,function(){this.mutateDraggable(x,m,g,p,f,b,t),this.mutateDroppable(_,m,g,f,y,v),this.callEventCallback(_,m.onDrop,l,u)}))}))["finally"](e.bind(this,function(){this.restore(t)}))},this.move=function(e,n,r,o,s,a){if(0===e.length)return a&&t.setTimeout(function(){a()},300),!1;var l=e.css("z-index"),u=e[s.containment||"offset"](),c=n.css("display"),d=n.hasClass("ng-hide");null===r&&n.length>0&&((n.attr("jqyoui-draggable")||n.attr("data-jqyoui-draggable"))!==i&&n.ngattr("ng-model")!==i&&n.is(":visible")&&s&&s.multiple?(r=n[s.containment||"offset"](),s.stack===!1?r.left+=n.outerWidth(!0):r.top+=n.outerHeight(!0)):(d&&n.removeClass("ng-hide"),r=n.css({visibility:"hidden",display:"block"})[s.containment||"offset"](),n.css({visibility:"",display:c}))),e.css({position:"absolute","z-index":9999}).css(u).animate(r,o,function(){d&&n.addClass("ng-hide"),e.css("z-index",l),a&&a()})},this.mutateDroppable=function(t,n,i,r,o,a){var l=t.$eval(r);t.dndDragItem=o,e.isArray(l)?(n&&n.index>=0?l[n.index]=o:l.push(o),i&&i.placeholder===!0&&(l[l.length-1].jqyoui_pos=a)):(s(r+" = dndDragItem")(t),i&&i.placeholder===!0&&(l.jqyoui_pos=a))},this.mutateDraggable=function(t,n,r,o,a,l,u){var c=e.equals(l,{})||!l,d=t.$eval(o);t.dndDropItem=l,r&&r.placeholder?"keep"!=r.placeholder&&(e.isArray(d)&&r.index!==i?d[r.index]=l:s(o+" = dndDropItem")(t)):e.isArray(d)?c?r&&r.placeholder!==!0&&"keep"!==r.placeholder&&d.splice(r.index,1):d[r.index]=l:(s(o+" = dndDropItem")(t),t.$parent&&s(o+" = dndDropItem")(t.$parent)),this.restore(u)},this.restore=function(t){t.css({"z-index":"",left:"",top:""})},this.fixIndex=function(t,n,r){if(n.applyFilter&&e.isArray(r)&&r.length>0){var o=t[n.applyFilter](),s=o[n.index],a=i;return r.forEach(function(t,n){e.equals(t,s)&&(a=n)}),a}return n.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(t){return{require:"?jqyouiDroppable",restrict:"A",link:function(i,o,s){var a,l,u,c,d=n(o),h=function(o){o?(a=i.$eval(d.attr("jqyoui-draggable")||d.attr("data-jqyoui-draggable"))||{},l=i.$eval(s.jqyouiOptions)||{},d.draggable({disabled:!1}).draggable(l).draggable({start:function(e,o){t.draggableScope=i,u=n(l.helper?o.helper:this).css("z-index"),n(l.helper?o.helper:this).css("z-index",9999),r.startXY=n(this)[a.containment||"offset"](),t.callEventCallback(i,a.onStart,e,o)},stop:function(e,r){n(l.helper?r.helper:this).css("z-index",u),t.callEventCallback(i,a.onStop,e,r)},drag:function(e,n){t.callEventCallback(i,a.onDrag,e,n)}})):d.draggable({disabled:!0}),c&&e.isDefined(o)&&(e.equals(s.drag,"true")||e.equals(s.drag,"false"))&&(c(),c=null)};c=i.$watch(function(){return i.$eval(s.drag)},h),h(),d.on("$destroy",function(){d.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(t,i){return{restrict:"A",priority:1,link:function(r,o,s){var a,l,u=n(o),c=function(o){o?(a=r.$eval(n(u).attr("jqyoui-droppable")||n(u).attr("data-jqyoui-droppable"))||{},u.droppable({disabled:!1}).droppable(r.$eval(s.jqyouiOptions)||{}).droppable({over:function(e,n){t.callEventCallback(r,a.onOver,e,n)},out:function(e,n){t.callEventCallback(r,a.onOut,e,n)},drop:function(o,l){var u=null;u=a.beforeDrop?t.callEventCallback(r,a.beforeDrop,o,l):function(){var t=i.defer();return t.resolve(),t.promise}(),u.then(e.bind(this,function(){n(l.draggable).ngattr("ng-model")&&s.ngModel?(t.droppableScope=r,t.invokeDrop(n(l.draggable),n(this),o,l)):t.callEventCallback(r,a.onDrop,o,l)}),function(){l.draggable.css({left:"",top:""})})}})):u.droppable({disabled:!0}),l&&e.isDefined(o)&&(e.equals(s.drop,"true")||e.equals(s.drop,"false"))&&(l(),l=null)};l=r.$watch(function(){return r.$eval(s.drop)},c),c(),u.on("$destroy",function(){u.droppable({disabled:!0}).droppable("destroy")})}}}]);n.fn.ngattr=function(t){var e=this[0];return e.getAttribute(t)||e.getAttribute("data-"+t)}}(window,window.angular,window.jQuery),function(){function t(t){function e(e,n,i,r,o,s){for(;o>=0&&s>o;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=b(i,o,4);var s=!M(n)&&y.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,i,r,s,l,a)}}function e(t){return function(e,n,i){n=w(n,i);for(var r=$(e),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var s=0,a=$(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(c.call(i,s,a),y.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&a>o;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=O.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||a,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=O[n],o in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,s=Array.prototype,a=Object.prototype,l=Function.prototype,u=s.push,c=s.slice,d=a.toString,h=a.hasOwnProperty,p=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var _=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;a>l;l++){var u=s[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},C=Math.pow(2,53)-1,$=k("length"),M=function(t){var e=$(t);return"number"==typeof e&&e>=0&&C>=e};y.each=y.forEach=function(t,e,n){e=b(e,n);var i,r;if(M(t))for(i=0,r=t.length;r>i;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;r>i;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!M(t)&&y.keys(t),r=(i||t).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;return i=M(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},y.filter=y.select=function(t,e,n){var i=[];return e=w(e,n),y.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!M(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!M(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return M(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e&&null!=t){t=M(t)?t:y.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],i>o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-1/0&&o===-1/0)&&(o=t,s=r)});return o},y.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=M(t)?t:y.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],o>i&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(s>r||1/0===r&&1/0===o)&&(o=t,s=r)});return o},y.shuffle=function(t){for(var e,n=M(t)?t:y.values(t),i=n.length,r=Array(i),o=0;i>o;o++)e=y.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(M(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,n,i){var r={};return n=w(n,i),y.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};y.groupBy=S(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=S(function(t,e,n){t[n]=e}),y.countBy=S(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):M(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:M(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var i=[],r=[];return y.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=$(t);a>s;s++){var l=t[s];if(M(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=T(l,e,n));var u=0,c=l.length;for(r.length+=c;c>u;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],s=0,a=$(t);a>s;s++){var l=t[s],u=n?n(l,s,t):l;e?(s&&o===u||r.push(l),o=u):n?y.contains(o,u)||(o.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=$(t);r>i;i++){var o=t[i];if(!y.contains(e,o)){for(var s=1;n>s&&y.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,$).length||0,n=Array(e),i=0;e>i;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=$(t);r>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var r=n(e),o=0,s=$(t);s>o;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;i>o;o++,t+=n)r[o]=t;return r};var D=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),s=t.apply(o,r);return y.isObject(s)?s:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return D(t,i,e,this,n.concat(c.call(arguments)))};return i},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;r>s;s++)o[s]=e[s]===y?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return D(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:y.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var u=y.now();a||n.leading!==!1||(a=u);var c=e-(u-a);return i=this,r=arguments,0>=c||c>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(l,c)),o}},y.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var u=y.now()-s;e>u&&u>=0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=y.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(o,r),o=r=null),a}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return E&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return E&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=e(t[i],i,t);return s},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;n>r;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;r>i;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=0,s=r.length;s>o;o++)if(i=r[o],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;y.isFunction(e)?(r=y.allKeys(s),i=b(e,n)):(r=T(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;l>a;a++){var u=r[a],c=s[u];i(c,u,s)&&(o[u]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=_(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var A=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!A(t[l],e[l],n,i))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!A(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return A(t,e)},y.isEmpty=function(t){return null==t?!0:M(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=k,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;t>r;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=y.invert(P),I=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};y.escape=I(P),y.unescape=I(L),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var N=0;y.uniqueId=function(t){var e=++N+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,F=function(t){return"\\"+B[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||R).source,(e.interpolate||R).source,(e.evaluate||R).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(H,F),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var l=function(t){return s.call(this,t,y)},u=e.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},y.chain=function(t){var e=y(t);return e._chain=!0,e};var z=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),z(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),y.each(["concat","join","slice"],function(t){var e=s[t];y.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function r(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function a(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function l(t,e){var n=null==t?0:t.length;return!!n&&b(t,e,0)>-1}function u(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function c(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function d(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function h(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function f(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function g(t){return t.split("")}function m(t){return t.match(Hn)||[]}function v(t,e,n){var i;return n(t,function(t,n,r){return e(t,n,r)?(i=n,!1):void 0}),i}function y(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function b(t,e,n){return e===e?U(t,e,n):y(t,_,n)}function w(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function _(t){return t!==t}function x(t,e){var n=null==t?0:t.length;return n?S(t,e)/n:Ae}function k(t){return function(e){return null==e?Q:e[t]}}function C(t){return function(e){return null==t?Q:t[e]}}function $(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function M(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function S(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==Q&&(n=n===Q?o:n+o)}return n}function T(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function D(t,e){return c(e,function(e){return[e,t[e]]})}function E(t){return function(e){return t(e)}}function O(t,e){return c(e,function(e){return t[e]})}function A(t,e){return t.has(e)}function P(t,e){for(var n=-1,i=t.length;++n<i&&b(e,t[n],0)>-1;);return n}function L(t,e){for(var n=t.length;n--&&b(e,t[n],0)>-1;);return n}function I(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function N(t){return"\\"+Zi[t]}function R(t,e){return null==t?Q:t[e]}function B(t){return Wi.test(t)}function H(t){return ji.test(t)}function F(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function W(t,e){return function(n){return t(e(n))}}function j(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];(s===e||s===se)&&(t[n]=se,o[r++]=n)}return o}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t
}),n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function U(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function q(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function Y(t){return B(t)?X(t):fr(t)}function K(t){return B(t)?Z(t):g(t)}function X(t){for(var e=Fi.lastIndex=0;Fi.test(t);)++e;return e}function Z(t){return t.match(Fi)||[]}function J(t){return t.match(zi)||[]}var Q,te="4.17.4",ee=200,ne="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",re="__lodash_hash_undefined__",oe=500,se="__lodash_placeholder__",ae=1,le=2,ue=4,ce=1,de=2,he=1,pe=2,fe=4,ge=8,me=16,ve=32,ye=64,be=128,we=256,_e=512,xe=30,ke="...",Ce=800,$e=16,Me=1,Se=2,Te=3,De=1/0,Ee=9007199254740991,Oe=1.7976931348623157e308,Ae=0/0,Pe=4294967295,Le=Pe-1,Ie=Pe>>>1,Ne=[["ary",be],["bind",he],["bindKey",pe],["curry",ge],["curryRight",me],["flip",_e],["partial",ve],["partialRight",ye],["rearg",we]],Re="[object Arguments]",Be="[object Array]",He="[object AsyncFunction]",Fe="[object Boolean]",ze="[object Date]",We="[object DOMException]",je="[object Error]",Ge="[object Function]",Ve="[object GeneratorFunction]",Ue="[object Map]",qe="[object Number]",Ye="[object Null]",Ke="[object Object]",Xe="[object Promise]",Ze="[object Proxy]",Je="[object RegExp]",Qe="[object Set]",tn="[object String]",en="[object Symbol]",nn="[object Undefined]",rn="[object WeakMap]",on="[object WeakSet]",sn="[object ArrayBuffer]",an="[object DataView]",ln="[object Float32Array]",un="[object Float64Array]",cn="[object Int8Array]",dn="[object Int16Array]",hn="[object Int32Array]",pn="[object Uint8Array]",fn="[object Uint8ClampedArray]",gn="[object Uint16Array]",mn="[object Uint32Array]",vn=/\b__p \+= '';/g,yn=/\b(__p \+=) '' \+/g,bn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wn=/&(?:amp|lt|gt|quot|#39);/g,_n=/[&<>"']/g,xn=RegExp(wn.source),kn=RegExp(_n.source),Cn=/<%-([\s\S]+?)%>/g,$n=/<%([\s\S]+?)%>/g,Mn=/<%=([\s\S]+?)%>/g,Sn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tn=/^\w*$/,Dn=/^\./,En=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,On=/[\\^$.*+?()[\]{}|]/g,An=RegExp(On.source),Pn=/^\s+|\s+$/g,Ln=/^\s+/,In=/\s+$/,Nn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rn=/\{\n\/\* \[wrapped with (.+)\] \*/,Bn=/,? & /,Hn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fn=/\\(\\)?/g,zn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wn=/\w*$/,jn=/^[-+]0x[0-9a-f]+$/i,Gn=/^0b[01]+$/i,Vn=/^\[object .+?Constructor\]$/,Un=/^0o[0-7]+$/i,qn=/^(?:0|[1-9]\d*)$/,Yn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kn=/($^)/,Xn=/['\n\r\u2028\u2029\\]/g,Zn="\\ud800-\\udfff",Jn="\\u0300-\\u036f",Qn="\\ufe20-\\ufe2f",ti="\\u20d0-\\u20ff",ei=Jn+Qn+ti,ni="\\u2700-\\u27bf",ii="a-z\\xdf-\\xf6\\xf8-\\xff",ri="\\xac\\xb1\\xd7\\xf7",oi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",si="\\u2000-\\u206f",ai=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",li="A-Z\\xc0-\\xd6\\xd8-\\xde",ui="\\ufe0e\\ufe0f",ci=ri+oi+si+ai,di="['’]",hi="["+Zn+"]",pi="["+ci+"]",fi="["+ei+"]",gi="\\d+",mi="["+ni+"]",vi="["+ii+"]",yi="[^"+Zn+ci+gi+ni+ii+li+"]",bi="\\ud83c[\\udffb-\\udfff]",wi="(?:"+fi+"|"+bi+")",_i="[^"+Zn+"]",xi="(?:\\ud83c[\\udde6-\\uddff]){2}",ki="[\\ud800-\\udbff][\\udc00-\\udfff]",Ci="["+li+"]",$i="\\u200d",Mi="(?:"+vi+"|"+yi+")",Si="(?:"+Ci+"|"+yi+")",Ti="(?:"+di+"(?:d|ll|m|re|s|t|ve))?",Di="(?:"+di+"(?:D|LL|M|RE|S|T|VE))?",Ei=wi+"?",Oi="["+ui+"]?",Ai="(?:"+$i+"(?:"+[_i,xi,ki].join("|")+")"+Oi+Ei+")*",Pi="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Li="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Ii=Oi+Ei+Ai,Ni="(?:"+[mi,xi,ki].join("|")+")"+Ii,Ri="(?:"+[_i+fi+"?",fi,xi,ki,hi].join("|")+")",Bi=RegExp(di,"g"),Hi=RegExp(fi,"g"),Fi=RegExp(bi+"(?="+bi+")|"+Ri+Ii,"g"),zi=RegExp([Ci+"?"+vi+"+"+Ti+"(?="+[pi,Ci,"$"].join("|")+")",Si+"+"+Di+"(?="+[pi,Ci+Mi,"$"].join("|")+")",Ci+"?"+Mi+"+"+Ti,Ci+"+"+Di,Li,Pi,gi,Ni].join("|"),"g"),Wi=RegExp("["+$i+Zn+ei+ui+"]"),ji=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vi=-1,Ui={};Ui[ln]=Ui[un]=Ui[cn]=Ui[dn]=Ui[hn]=Ui[pn]=Ui[fn]=Ui[gn]=Ui[mn]=!0,Ui[Re]=Ui[Be]=Ui[sn]=Ui[Fe]=Ui[an]=Ui[ze]=Ui[je]=Ui[Ge]=Ui[Ue]=Ui[qe]=Ui[Ke]=Ui[Je]=Ui[Qe]=Ui[tn]=Ui[rn]=!1;var qi={};qi[Re]=qi[Be]=qi[sn]=qi[an]=qi[Fe]=qi[ze]=qi[ln]=qi[un]=qi[cn]=qi[dn]=qi[hn]=qi[Ue]=qi[qe]=qi[Ke]=qi[Je]=qi[Qe]=qi[tn]=qi[en]=qi[pn]=qi[fn]=qi[gn]=qi[mn]=!0,qi[je]=qi[Ge]=qi[rn]=!1;var Yi={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Ki={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ji=parseFloat,Qi=parseInt,tr="object"==typeof global&&global&&global.Object===Object&&global,er="object"==typeof self&&self&&self.Object===Object&&self,nr=tr||er||Function("return this")(),ir="object"==typeof exports&&exports&&!exports.nodeType&&exports,rr=ir&&"object"==typeof module&&module&&!module.nodeType&&module,or=rr&&rr.exports===ir,sr=or&&tr.process,ar=function(){try{return sr&&sr.binding&&sr.binding("util")}catch(t){}}(),lr=ar&&ar.isArrayBuffer,ur=ar&&ar.isDate,cr=ar&&ar.isMap,dr=ar&&ar.isRegExp,hr=ar&&ar.isSet,pr=ar&&ar.isTypedArray,fr=k("length"),gr=C(Yi),mr=C(Ki),vr=C(Xi),yr=function wr(g){function C(t){if(uu(t)&&!wp(t)&&!(t instanceof Z)){if(t instanceof X)return t;if(wd.call(t,"__wrapped__"))return sa(t)}return new X(t)}function U(){}function X(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Q}function Z(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pe,this.__views__=[]}function Hn(){var t=new Z(this.__wrapped__);return t.__actions__=zo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=zo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=zo(this.__views__),t}function Zn(){if(this.__filtered__){var t=new Z(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Jn(){var t=this.__wrapped__.value(),e=this.__dir__,n=wp(t),i=0>e,r=n?t.length:0,o=Es(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,d=c.length,h=0,p=Xd(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return xo(t,this.__actions__);var f=[];t:for(;l--&&p>h;){u+=e;for(var g=-1,m=t[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,w=y(m);if(b==Se)m=w;else if(!w){if(b==Me)continue t;break t}}f[h++]=m}return f}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ti(){this.__data__=sh?sh(null):{},this.size=0}function ei(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function ni(t){var e=this.__data__;if(sh){var n=e[t];return n===re?Q:n}return wd.call(e,t)?e[t]:Q}function ii(t){var e=this.__data__;return sh?e[t]!==Q:wd.call(e,t)}function ri(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sh&&e===Q?re:e,this}function oi(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function si(){this.__data__=[],this.size=0}function ai(t){var e=this.__data__,n=Ai(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():Ld.call(e,n,1),--this.size,!0}function li(t){var e=this.__data__,n=Ai(e,t);return 0>n?Q:e[n][1]}function ui(t){return Ai(this.__data__,t)>-1}function ci(t,e){var n=this.__data__,i=Ai(n,t);return 0>i?(++this.size,n.push([t,e])):n[i][1]=e,this}function di(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function hi(){this.size=0,this.__data__={hash:new Qn,map:new(nh||oi),string:new Qn}}function pi(t){var e=Ms(this,t)["delete"](t);return this.size-=e?1:0,e}function fi(t){return Ms(this,t).get(t)}function gi(t){return Ms(this,t).has(t)}function mi(t,e){var n=Ms(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function vi(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new di;++e<n;)this.add(t[e])}function yi(t){return this.__data__.set(t,re),this}function bi(t){return this.__data__.has(t)}function wi(t){var e=this.__data__=new oi(t);this.size=e.size}function _i(){this.__data__=new oi,this.size=0}function xi(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function ki(t){return this.__data__.get(t)}function Ci(t){return this.__data__.has(t)}function $i(t,e){var n=this.__data__;if(n instanceof oi){var i=n.__data__;if(!nh||i.length<ee-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new di(i)}return n.set(t,e),this.size=n.size,this}function Mi(t,e){var n=wp(t),i=!n&&bp(t),r=!n&&!i&&xp(t),o=!n&&!i&&!r&&Sp(t),s=n||i||r||o,a=s?T(t.length,pd):[],l=a.length;for(var u in t)!e&&!wd.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Bs(u,l))||a.push(u);return a}function Si(t){var e=t.length;return e?t[no(0,e-1)]:Q}function Ti(t,e){return na(zo(t),Fi(e,0,t.length))}function Di(t){return na(zo(t))}function Ei(t,e,n){(n!==Q&&!Kl(t[e],n)||n===Q&&!(e in t))&&Ni(t,e,n)}function Oi(t,e,n){var i=t[e];wd.call(t,e)&&Kl(i,n)&&(n!==Q||e in t)||Ni(t,e,n)}function Ai(t,e){for(var n=t.length;n--;)if(Kl(t[n][0],e))return n;return-1}function Pi(t,e,n,i){return yh(t,function(t,r,o){e(i,t,n(t),o)}),i}function Li(t,e){return t&&Wo(e,Gu(e),t)}function Ii(t,e){return t&&Wo(e,Vu(e),t)}function Ni(t,e,n){"__proto__"==e&&Bd?Bd(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ri(t,e){for(var n=-1,i=e.length,r=sd(i),o=null==t;++n<i;)r[n]=o?Q:zu(t,e[n]);return r}function Fi(t,e,n){return t===t&&(n!==Q&&(t=n>=t?t:n),e!==Q&&(t=t>=e?t:e)),t}function zi(t,e,n,i,o,s){var a,l=e&ae,u=e&le,c=e&ue;if(n&&(a=o?n(t,i,o,s):n(t)),a!==Q)return a;if(!lu(t))return t;var d=wp(t);if(d){if(a=Ps(t),!l)return zo(t,a)}else{var h=Eh(t),p=h==Ge||h==Ve;if(xp(t))return Do(t,l);if(h==Ke||h==Re||p&&!o){if(a=u||p?{}:Ls(t),!l)return u?Go(t,Ii(a,t)):jo(t,Li(a,t))}else{if(!qi[h])return o?t:{};a=Is(t,h,zi,l)}}s||(s=new wi);var f=s.get(t);if(f)return f;s.set(t,a);var g=c?u?xs:_s:u?Vu:Gu,m=d?Q:g(t);return r(m||t,function(i,r){m&&(r=i,i=t[r]),Oi(a,r,zi(i,e,n,r,t,s))}),a}function Wi(t){var e=Gu(t);return function(n){return ji(n,t,e)}}function ji(t,e,n){var i=n.length;if(null==t)return!i;for(t=dd(t);i--;){var r=n[i],o=e[r],s=t[r];if(s===Q&&!(r in t)||!o(s))return!1}return!0}function Yi(t,e,n){if("function"!=typeof t)throw new fd(ie);return Ph(function(){t.apply(Q,n)},e)}function Ki(t,e,n,i){var r=-1,o=l,s=!0,a=t.length,d=[],h=e.length;if(!a)return d;n&&(e=c(e,E(n))),i?(o=u,s=!1):e.length>=ee&&(o=A,s=!1,e=new vi(e));t:for(;++r<a;){var p=t[r],f=null==n?p:n(p);if(p=i||0!==p?p:0,s&&f===f){for(var g=h;g--;)if(e[g]===f)continue t;d.push(p)}else o(e,f,i)||d.push(p)}return d}function Xi(t,e){var n=!0;return yh(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Zi(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(a===Q?s===s&&!wu(s):n(s,a)))var a=s,l=o}return l}function tr(t,e,n,i){var r=t.length;for(n=Mu(n),0>n&&(n=-n>r?0:r+n),i=i===Q||i>r?r:Mu(i),0>i&&(i+=r),i=n>i?0:Su(i);i>n;)t[n++]=e;return t}function er(t,e){var n=[];return yh(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ir(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=Rs),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?ir(a,e-1,n,i,r):d(r,a):i||(r[r.length]=a)}return r}function rr(t,e){return t&&wh(t,e,Gu)}function sr(t,e){return t&&_h(t,e,Gu)}function ar(t,e){return a(e,function(e){return ou(t[e])})}function fr(t,e){e=So(e,t);for(var n=0,i=e.length;null!=t&&i>n;)t=t[ia(e[n++])];return n&&n==i?t:Q}function yr(t,e,n){var i=e(t);return wp(t)?i:d(i,n(t))}function _r(t){return null==t?t===Q?nn:Ye:Rd&&Rd in dd(t)?Ds(t):Xs(t)}function xr(t,e){return t>e}function kr(t,e){return null!=t&&wd.call(t,e)}function Cr(t,e){return null!=t&&e in dd(t)}function $r(t,e,n){return t>=Xd(e,n)&&t<Kd(e,n)}function Mr(t,e,n){for(var i=n?u:l,r=t[0].length,o=t.length,s=o,a=sd(o),d=1/0,h=[];s--;){var p=t[s];s&&e&&(p=c(p,E(e))),d=Xd(p.length,d),a[s]=!n&&(e||r>=120&&p.length>=120)?new vi(s&&p):Q}p=t[0];var f=-1,g=a[0];t:for(;++f<r&&h.length<d;){var m=p[f],v=e?e(m):m;if(m=n||0!==m?m:0,!(g?A(g,v):i(h,v,n))){for(s=o;--s;){var y=a[s];if(!(y?A(y,v):i(t[s],v,n)))continue t}g&&g.push(v),h.push(m)}}return h}function Sr(t,e,n,i){return rr(t,function(t,r,o){e(i,n(t),r,o)}),i}function Tr(t,e,i){e=So(e,t),t=Js(t,e);var r=null==t?t:t[ia($a(e))];return null==r?Q:n(r,t,i)}function Dr(t){return uu(t)&&_r(t)==Re}function Er(t){return uu(t)&&_r(t)==sn}function Or(t){return uu(t)&&_r(t)==ze}function Ar(t,e,n,i,r){return t===e?!0:null==t||null==e||!uu(t)&&!uu(e)?t!==t&&e!==e:Pr(t,e,n,i,Ar,r)}function Pr(t,e,n,i,r,o){var s=wp(t),a=wp(e),l=s?Be:Eh(t),u=a?Be:Eh(e);l=l==Re?Ke:l,u=u==Re?Ke:u;var c=l==Ke,d=u==Ke,h=l==u;if(h&&xp(t)){if(!xp(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new wi),s||Sp(t)?vs(t,e,n,i,r,o):ys(t,e,l,n,i,r,o);if(!(n&ce)){var p=c&&wd.call(t,"__wrapped__"),f=d&&wd.call(e,"__wrapped__");if(p||f){var g=p?t.value():t,m=f?e.value():e;return o||(o=new wi),r(g,m,n,i,o)}}return h?(o||(o=new wi),bs(t,e,n,i,r,o)):!1}function Lr(t){return uu(t)&&Eh(t)==Ue}function Ir(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=dd(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=n[r];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===Q&&!(l in t))return!1}else{var d=new wi;if(i)var h=i(u,c,l,t,e,d);if(!(h===Q?Ar(c,u,ce|de,i,d):h))return!1}}return!0}function Nr(t){if(!lu(t)||js(t))return!1;var e=ou(t)?Md:Vn;return e.test(ra(t))}function Rr(t){return uu(t)&&_r(t)==Je}function Br(t){return uu(t)&&Eh(t)==Qe}function Hr(t){return uu(t)&&au(t.length)&&!!Ui[_r(t)]}function Fr(t){return"function"==typeof t?t:null==t?Lc:"object"==typeof t?wp(t)?Ur(t[0],t[1]):Vr(t):Wc(t)}function zr(t){if(!Gs(t))return Yd(t);var e=[];for(var n in dd(t))wd.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Wr(t){if(!lu(t))return Ks(t);var e=Gs(t),n=[];for(var i in t)("constructor"!=i||!e&&wd.call(t,i))&&n.push(i);return n}function jr(t,e){return e>t}function Gr(t,e){var n=-1,i=Xl(t)?sd(t.length):[];return yh(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Vr(t){var e=Ss(t);return 1==e.length&&e[0][2]?Us(e[0][0],e[0][1]):function(n){return n===t||Ir(n,t,e)}}function Ur(t,e){return Fs(t)&&Vs(e)?Us(ia(t),e):function(n){var i=zu(n,t);return i===Q&&i===e?ju(n,t):Ar(e,i,ce|de)}}function qr(t,e,n,i,r){t!==e&&wh(e,function(o,s){if(lu(o))r||(r=new wi),Yr(t,e,s,n,qr,i,r);else{var a=i?i(t[s],o,s+"",t,e,r):Q;a===Q&&(a=o),Ei(t,s,a)}},Vu)}function Yr(t,e,n,i,r,o,s){var a=t[n],l=e[n],u=s.get(l);if(u)return void Ei(t,n,u);var c=o?o(a,l,n+"",t,e,s):Q,d=c===Q;if(d){var h=wp(l),p=!h&&xp(l),f=!h&&!p&&Sp(l);c=l,h||p||f?wp(a)?c=a:Zl(a)?c=zo(a):p?(d=!1,c=Do(l,!0)):f?(d=!1,c=No(l,!0)):c=[]:vu(l)||bp(l)?(c=a,bp(a)?c=Du(a):(!lu(a)||i&&ou(a))&&(c=Ls(l))):d=!1}d&&(s.set(l,c),r(c,l,i,o,s),s["delete"](l)),Ei(t,n,c)}function Kr(t,e){var n=t.length;if(n)return e+=0>e?n:0,Bs(e,n)?t[e]:Q}function Xr(t,e,n){var i=-1;e=c(e.length?e:[Lc],E($s()));var r=Gr(t,function(t){var n=c(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return M(r,function(t,e){return Bo(t,e,n)})}function Zr(t,e){return Jr(t,e,function(e,n){return ju(t,n)})}function Jr(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=fr(t,s);n(a,s)&&lo(o,So(s,t),a)}return o}function Qr(t){return function(e){return fr(e,t)}}function to(t,e,n,i){var r=i?w:b,o=-1,s=e.length,a=t;for(t===e&&(e=zo(e)),n&&(a=c(t,E(n)));++o<s;)for(var l=0,u=e[o],d=n?n(u):u;(l=r(a,d,l,i))>-1;)a!==t&&Ld.call(a,l,1),Ld.call(t,l,1);return t}function eo(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Bs(r)?Ld.call(t,r,1):bo(t,r)}}return t}function no(t,e){return t+jd(Qd()*(e-t+1))}function io(t,e,n,i){for(var r=-1,o=Kd(Wd((e-t)/(n||1)),0),s=sd(o);o--;)s[i?o:++r]=t,t+=n;return s}function ro(t,e){var n="";if(!t||1>e||e>Ee)return n;do e%2&&(n+=t),e=jd(e/2),e&&(t+=t);while(e);return n}function oo(t,e){return Lh(Zs(t,e,Lc),t+"")}function so(t){return Si(ic(t))}function ao(t,e){var n=ic(t);return na(n,Fi(e,0,n.length))}function lo(t,e,n,i){if(!lu(t))return t;e=So(e,t);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var l=ia(e[r]),u=n;if(r!=s){var c=a[l];u=i?i(c,l,a):Q,u===Q&&(u=lu(c)?c:Bs(e[r+1])?[]:{})}Oi(a,l,u),a=a[l]}return t}function uo(t){return na(ic(t))}function co(t,e,n){var i=-1,r=t.length;0>e&&(e=-e>r?0:r+e),n=n>r?r:n,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=sd(r);++i<r;)o[i]=t[i+e];return o}function ho(t,e){var n;return yh(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function po(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&Ie>=r){for(;r>i;){var o=i+r>>>1,s=t[o];null!==s&&!wu(s)&&(n?e>=s:e>s)?i=o+1:r=o}return r}return fo(t,e,Lc,n)}function fo(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,s=e!==e,a=null===e,l=wu(e),u=e===Q;o>r;){var c=jd((r+o)/2),d=n(t[c]),h=d!==Q,p=null===d,f=d===d,g=wu(d);if(s)var m=i||f;else m=u?f&&(i||h):a?f&&h&&(i||!p):l?f&&h&&!p&&(i||!g):p||g?!1:i?e>=d:e>d;m?r=c+1:o=c}return Xd(o,Le)}function go(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!Kl(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function mo(t){return"number"==typeof t?t:wu(t)?Ae:+t}function vo(t){if("string"==typeof t)return t;if(wp(t))return c(t,vo)+"";if(wu(t))return mh?mh.call(t):"";var e=t+"";return"0"==e&&1/t==-De?"-0":e}function yo(t,e,n){var i=-1,r=l,o=t.length,s=!0,a=[],c=a;if(n)s=!1,r=u;else if(o>=ee){var d=e?null:Mh(t);if(d)return G(d);s=!1,r=A,c=new vi}else c=e?[]:a;t:for(;++i<o;){var h=t[i],p=e?e(h):h;if(h=n||0!==h?h:0,s&&p===p){for(var f=c.length;f--;)if(c[f]===p)continue t;e&&c.push(p),a.push(h)}else r(c,p,n)||(c!==a&&c.push(p),a.push(h))}return a}function bo(t,e){return e=So(e,t),t=Js(t,e),null==t||delete t[ia($a(e))]}function wo(t,e,n,i){return lo(t,e,n(fr(t,e)),i)}function _o(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?co(t,i?0:o,i?o+1:r):co(t,i?o+1:0,i?r:o)}function xo(t,e){var n=t;return n instanceof Z&&(n=n.value()),h(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function ko(t,e,n){var i=t.length;if(2>i)return i?yo(t[0]):[];for(var r=-1,o=sd(i);++r<i;)for(var s=t[r],a=-1;++a<i;)a!=r&&(o[r]=Ki(o[r]||s,t[a],e,n));return yo(ir(o,1),e,n)}function Co(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=o>i?e[i]:Q;n(s,t[i],a)}return s}function $o(t){return Zl(t)?t:[]}function Mo(t){return"function"==typeof t?t:Lc}function So(t,e){return wp(t)?t:Fs(t,e)?[t]:Ih(Ou(t))}function To(t,e,n){var i=t.length;return n=n===Q?i:n,!e&&n>=i?t:co(t,e,n)}function Do(t,e){if(e)return t.slice();var n=t.length,i=Ed?Ed(n):new t.constructor(n);return t.copy(i),i}function Eo(t){var e=new t.constructor(t.byteLength);return new Dd(e).set(new Dd(t)),e}function Oo(t,e){var n=e?Eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ao(e,n,i){var r=n?i(z(e),ae):z(e);return h(r,t,new e.constructor)}function Po(t){var e=new t.constructor(t.source,Wn.exec(t));return e.lastIndex=t.lastIndex,e}function Lo(t,n,i){var r=n?i(G(t),ae):G(t);return h(r,e,new t.constructor)}function Io(t){return gh?dd(gh.call(t)):{}}function No(t,e){var n=e?Eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ro(t,e){if(t!==e){var n=t!==Q,i=null===t,r=t===t,o=wu(t),s=e!==Q,a=null===e,l=e===e,u=wu(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||i&&s&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&e>t||u&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!l)return-1}return 0}function Bo(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var l=Ro(r[i],o[i]);if(l){if(i>=a)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}function Ho(t,e,n,i){for(var r=-1,o=t.length,s=n.length,a=-1,l=e.length,u=Kd(o-s,0),c=sd(l+u),d=!i;++a<l;)c[a]=e[a];for(;++r<s;)(d||o>r)&&(c[n[r]]=t[r]);for(;u--;)c[a++]=t[r++];return c}function Fo(t,e,n,i){for(var r=-1,o=t.length,s=-1,a=n.length,l=-1,u=e.length,c=Kd(o-a,0),d=sd(c+u),h=!i;++r<c;)d[r]=t[r];for(var p=r;++l<u;)d[p+l]=e[l];for(;++s<a;)(h||o>r)&&(d[p+n[s]]=t[r++]);return d}function zo(t,e){var n=-1,i=t.length;for(e||(e=sd(i));++n<i;)e[n]=t[n];return e}function Wo(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(n[a],t[a],a,n,t):Q;l===Q&&(l=t[a]),r?Ni(n,a,l):Oi(n,a,l)}return n}function jo(t,e){return Wo(t,Th(t),e)}function Go(t,e){return Wo(t,Dh(t),e)}function Vo(t,e){return function(n,r){var o=wp(n)?i:Pi,s=e?e():{};return o(n,t,$s(r,2),s)}}function Uo(t){return oo(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:Q,s=r>2?n[2]:Q;for(o=t.length>3&&"function"==typeof o?(r--,o):Q,s&&Hs(n[0],n[1],s)&&(o=3>r?Q:o,r=1),e=dd(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}function qo(t,e){return function(n,i){if(null==n)return n;if(!Xl(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=dd(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function Yo(t){return function(e,n,i){for(var r=-1,o=dd(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(n(o[l],l,o)===!1)break}return e}}function Ko(t,e,n){function i(){var e=this&&this!==nr&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&he,o=Jo(t);return i}function Xo(t){return function(e){e=Ou(e);var n=B(e)?K(e):Q,i=n?n[0]:e.charAt(0),r=n?To(n,1).join(""):e.slice(1);return i[t]()+r}}function Zo(t){return function(e){return h(Dc(uc(e).replace(Bi,"")),t,"")}}function Jo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=vh(t.prototype),i=t.apply(n,e);return lu(i)?i:n}}function Qo(t,e,i){function r(){for(var s=arguments.length,a=sd(s),l=s,u=Cs(r);l--;)a[l]=arguments[l];var c=3>s&&a[0]!==u&&a[s-1]!==u?[]:j(a,u);if(s-=c.length,i>s)return cs(t,e,ns,r.placeholder,Q,a,c,Q,Q,i-s);var d=this&&this!==nr&&this instanceof r?o:t;return n(d,this,a)}var o=Jo(t);return r}function ts(t){return function(e,n,i){var r=dd(e);if(!Xl(e)){var o=$s(n,3);e=Gu(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:Q}}function es(t){return ws(function(e){var n=e.length,i=n,r=X.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new fd(ie);if(r&&!s&&"wrapper"==ks(o))var s=new X([],!0)}for(i=s?i:n;++i<n;){o=e[i];var a=ks(o),l="wrapper"==a?Sh(o):Q;s=l&&Ws(l[0])&&l[1]==(be|ge|ve|we)&&!l[4].length&&1==l[9]?s[ks(l[0])].apply(s,l[3]):1==o.length&&Ws(o)?s[a]():s.thru(o)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&wp(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function ns(t,e,n,i,r,o,s,a,l,u){function c(){for(var v=arguments.length,y=sd(v),b=v;b--;)y[b]=arguments[b];if(f)var w=Cs(c),_=I(y,w);if(i&&(y=Ho(y,i,r,f)),o&&(y=Fo(y,o,s,f)),v-=_,f&&u>v){var x=j(y,w);return cs(t,e,ns,c.placeholder,n,y,x,a,l,u-v)}var k=h?n:this,C=p?k[t]:t;return v=y.length,a?y=Qs(y,a):g&&v>1&&y.reverse(),d&&v>l&&(y.length=l),this&&this!==nr&&this instanceof c&&(C=m||Jo(C)),C.apply(k,y)}var d=e&be,h=e&he,p=e&pe,f=e&(ge|me),g=e&_e,m=p?Q:Jo(t);return c}function is(t,e){return function(n,i){return Sr(n,t,e(i),{})}}function rs(t,e){return function(n,i){var r;if(n===Q&&i===Q)return e;if(n!==Q&&(r=n),i!==Q){if(r===Q)return i;"string"==typeof n||"string"==typeof i?(n=vo(n),i=vo(i)):(n=mo(n),i=mo(i)),r=t(n,i)}return r}}function os(t){return ws(function(e){return e=c(e,E($s())),oo(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function ss(t,e){e=e===Q?" ":vo(e);var n=e.length;if(2>n)return n?ro(e,t):e;var i=ro(e,Wd(t/Y(e)));return B(e)?To(K(i),0,t).join(""):i.slice(0,t)}function as(t,e,i,r){function o(){for(var e=-1,l=arguments.length,u=-1,c=r.length,d=sd(c+l),h=this&&this!==nr&&this instanceof o?a:t;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++e];return n(h,s?i:this,d)}var s=e&he,a=Jo(t);return o}function ls(t){return function(e,n,i){return i&&"number"!=typeof i&&Hs(e,n,i)&&(n=i=Q),e=$u(e),n===Q?(n=e,e=0):n=$u(n),i=i===Q?n>e?1:-1:$u(i),io(e,n,i,t)}}function us(t){return function(e,n){return("string"!=typeof e||"string"!=typeof n)&&(e=Tu(e),n=Tu(n)),t(e,n)}}function cs(t,e,n,i,r,o,s,a,l,u){var c=e&ge,d=c?s:Q,h=c?Q:s,p=c?o:Q,f=c?Q:o;e|=c?ve:ye,e&=~(c?ye:ve),e&fe||(e&=~(he|pe));var g=[t,e,r,p,d,f,h,a,l,u],m=n.apply(Q,g);return Ws(t)&&Ah(m,g),m.placeholder=i,ta(m,t,e)}function ds(t){var e=cd[t];return function(t,n){if(t=Tu(t),n=null==n?0:Xd(Mu(n),292)){var i=(Ou(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(Ou(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function hs(t){return function(e){var n=Eh(e);return n==Ue?z(e):n==Qe?V(e):D(e,t(e))}}function ps(t,e,n,i,r,o,s,a){var l=e&pe;if(!l&&"function"!=typeof t)throw new fd(ie);var u=i?i.length:0;if(u||(e&=~(ve|ye),i=r=Q),s=s===Q?s:Kd(Mu(s),0),a=a===Q?a:Mu(a),u-=r?r.length:0,e&ye){var c=i,d=r;i=r=Q}var h=l?Q:Sh(t),p=[t,e,n,i,r,c,d,o,s,a];if(h&&Ys(p,h),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],a=p[9]=p[9]===Q?l?0:t.length:Kd(p[9]-u,0),!a&&e&(ge|me)&&(e&=~(ge|me)),e&&e!=he)f=e==ge||e==me?Qo(t,e,a):e!=ve&&e!=(he|ve)||r.length?ns.apply(Q,p):as(t,e,n,i);else var f=Ko(t,e,n);var g=h?xh:Ah;return ta(g(f,p),t,e)}function fs(t,e,n,i){return t===Q||Kl(t,vd[n])&&!wd.call(i,n)?e:t}function gs(t,e,n,i,r,o){return lu(t)&&lu(e)&&(o.set(e,t),qr(t,e,Q,gs,o),o["delete"](e)),t}function ms(t){return vu(t)?Q:t}function vs(t,e,n,i,r,o){var s=n&ce,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,d=!0,h=n&de?new vi:Q;for(o.set(t,e),o.set(e,t);++c<a;){var p=t[c],g=e[c];if(i)var m=s?i(g,p,c,e,t,o):i(p,g,c,t,e,o);if(m!==Q){if(m)continue;d=!1;break}if(h){if(!f(e,function(t,e){return A(h,e)||p!==t&&!r(p,t,n,i,o)?void 0:h.push(e)})){d=!1;break}}else if(p!==g&&!r(p,g,n,i,o)){d=!1;break}}return o["delete"](t),o["delete"](e),d}function ys(t,e,n,i,r,o,s){switch(n){case an:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case sn:return t.byteLength==e.byteLength&&o(new Dd(t),new Dd(e))?!0:!1;case Fe:case ze:case qe:return Kl(+t,+e);case je:return t.name==e.name&&t.message==e.message;case Je:case tn:return t==e+"";case Ue:var a=z;case Qe:var l=i&ce;if(a||(a=G),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=de,s.set(t,e);var c=vs(a(t),a(e),i,r,o,s);return s["delete"](t),c;case en:if(gh)return gh.call(t)==gh.call(e)}return!1}function bs(t,e,n,i,r,o){var s=n&ce,a=_s(t),l=a.length,u=_s(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:wd.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var g=s;++d<l;){h=a[d];var m=t[h],v=e[h];if(i)var y=s?i(v,m,h,e,t,o):i(m,v,h,t,e,o);if(!(y===Q?m===v||r(m,v,n,i,o):y)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o["delete"](t),o["delete"](e),f}function ws(t){return Lh(Zs(t,Q,va),t+"")}function _s(t){return yr(t,Gu,Th)}function xs(t){return yr(t,Vu,Dh)}function ks(t){for(var e=t.name+"",n=lh[e],i=wd.call(lh,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Cs(t){var e=wd.call(C,"placeholder")?C:t;return e.placeholder}function $s(){var t=C.iteratee||Ic;return t=t===Ic?Fr:t,arguments.length?t(arguments[0],arguments[1]):t}function Ms(t,e){var n=t.__data__;return zs(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ss(t){for(var e=Gu(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Vs(r)]}return e}function Ts(t,e){var n=R(t,e);return Nr(n)?n:Q}function Ds(t){var e=wd.call(t,Rd),n=t[Rd];try{t[Rd]=Q;var i=!0}catch(r){}var o=kd.call(t);return i&&(e?t[Rd]=n:delete t[Rd]),o}function Es(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Xd(e,t+s);break;case"takeRight":t=Kd(t,e-s)}}return{start:t,end:e}}function Os(t){var e=t.match(Rn);return e?e[1].split(Bn):[]}function As(t,e,n){e=So(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var s=ia(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:(r=null==t?0:t.length,!!r&&au(r)&&Bs(s,r)&&(wp(t)||bp(t)))}function Ps(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&wd.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ls(t){return"function"!=typeof t.constructor||Gs(t)?{}:vh(Od(t))}function Is(t,e,n,i){var r=t.constructor;switch(e){case sn:return Eo(t);case Fe:case ze:return new r(+t);case an:return Oo(t,i);case ln:case un:case cn:case dn:case hn:case pn:case fn:case gn:case mn:return No(t,i);case Ue:return Ao(t,i,n);case qe:case tn:return new r(t);case Je:return Po(t);case Qe:return Lo(t,i,n);case en:return Io(t)}}function Ns(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Nn,"{\n/* [wrapped with "+e+"] */\n")}function Rs(t){return wp(t)||bp(t)||!!(Id&&t&&t[Id])}function Bs(t,e){return e=null==e?Ee:e,!!e&&("number"==typeof t||qn.test(t))&&t>-1&&t%1==0&&e>t}function Hs(t,e,n){if(!lu(n))return!1;var i=typeof e;return("number"==i?Xl(n)&&Bs(e,n.length):"string"==i&&e in n)?Kl(n[e],t):!1}function Fs(t,e){if(wp(t))return!1;var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||wu(t)?!0:Tn.test(t)||!Sn.test(t)||null!=e&&t in dd(e)}function zs(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ws(t){var e=ks(t),n=C[e];if("function"!=typeof n||!(e in Z.prototype))return!1;if(t===n)return!0;var i=Sh(n);return!!i&&t===i[0]}function js(t){return!!xd&&xd in t}function Gs(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||vd;return t===n}function Vs(t){return t===t&&!lu(t)}function Us(t,e){return function(n){return null==n?!1:n[t]===e&&(e!==Q||t in dd(n))}}function qs(t){var e=Il(t,function(t){return n.size===oe&&n.clear(),t}),n=e.cache;
return e}function Ys(t,e){var n=t[1],i=e[1],r=n|i,o=(he|pe|be)>r,s=i==be&&n==ge||i==be&&n==we&&t[7].length<=e[8]||i==(be|we)&&e[7].length<=e[8]&&n==ge;if(!o&&!s)return t;i&he&&(t[2]=e[2],r|=n&he?0:fe);var a=e[3];if(a){var l=t[3];t[3]=l?Ho(l,a,e[4]):a,t[4]=l?j(t[3],se):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?Fo(l,a,e[6]):a,t[6]=l?j(t[5],se):e[6]),a=e[7],a&&(t[7]=a),i&be&&(t[8]=null==t[8]?e[8]:Xd(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Ks(t){var e=[];if(null!=t)for(var n in dd(t))e.push(n);return e}function Xs(t){return kd.call(t)}function Zs(t,e,i){return e=Kd(e===Q?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=Kd(r.length-e,0),a=sd(s);++o<s;)a[o]=r[e+o];o=-1;for(var l=sd(e+1);++o<e;)l[o]=r[o];return l[e]=i(a),n(t,this,l)}}function Js(t,e){return e.length<2?t:fr(t,co(e,0,-1))}function Qs(t,e){for(var n=t.length,i=Xd(e.length,n),r=zo(t);i--;){var o=e[i];t[i]=Bs(o,n)?r[o]:Q}return t}function ta(t,e,n){var i=e+"";return Lh(t,Ns(i,oa(Os(i),n)))}function ea(t){var e=0,n=0;return function(){var i=Zd(),r=$e-(i-n);if(n=i,r>0){if(++e>=Ce)return arguments[0]}else e=0;return t.apply(Q,arguments)}}function na(t,e){var n=-1,i=t.length,r=i-1;for(e=e===Q?i:e;++n<e;){var o=no(n,r),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function ia(t){if("string"==typeof t||wu(t))return t;var e=t+"";return"0"==e&&1/t==-De?"-0":e}function ra(t){if(null!=t){try{return bd.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function oa(t,e){return r(Ne,function(n){var i="_."+n[0];e&n[1]&&!l(t,i)&&t.push(i)}),t.sort()}function sa(t){if(t instanceof Z)return t.clone();var e=new X(t.__wrapped__,t.__chain__);return e.__actions__=zo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function aa(t,e,n){e=(n?Hs(t,e,n):e===Q)?1:Kd(Mu(e),0);var i=null==t?0:t.length;if(!i||1>e)return[];for(var r=0,o=0,s=sd(Wd(i/e));i>r;)s[o++]=co(t,r,r+=e);return s}function la(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function ua(){var t=arguments.length;if(!t)return[];for(var e=sd(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return d(wp(n)?zo(n):[n],ir(e,1))}function ca(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:Mu(e),co(t,0>e?0:e,i)):[]}function da(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:Mu(e),e=i-e,co(t,0,0>e?0:e)):[]}function ha(t,e){return t&&t.length?_o(t,$s(e,3),!0,!0):[]}function pa(t,e){return t&&t.length?_o(t,$s(e,3),!0):[]}function fa(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Hs(t,e,n)&&(n=0,i=r),tr(t,e,n,i)):[]}function ga(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Mu(n);return 0>r&&(r=Kd(i+r,0)),y(t,$s(e,3),r)}function ma(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==Q&&(r=Mu(n),r=0>n?Kd(i+r,0):Xd(r,i-1)),y(t,$s(e,3),r,!0)}function va(t){var e=null==t?0:t.length;return e?ir(t,1):[]}function ya(t){var e=null==t?0:t.length;return e?ir(t,De):[]}function ba(t,e){var n=null==t?0:t.length;return n?(e=e===Q?1:Mu(e),ir(t,e)):[]}function wa(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function _a(t){return t&&t.length?t[0]:Q}function xa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:Mu(n);return 0>r&&(r=Kd(i+r,0)),b(t,e,r)}function ka(t){var e=null==t?0:t.length;return e?co(t,0,-1):[]}function Ca(t,e){return null==t?"":qd.call(t,e)}function $a(t){var e=null==t?0:t.length;return e?t[e-1]:Q}function Ma(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==Q&&(r=Mu(n),r=0>r?Kd(i+r,0):Xd(r,i-1)),e===e?q(t,e,r):y(t,_,r,!0)}function Sa(t,e){return t&&t.length?Kr(t,Mu(e)):Q}function Ta(t,e){return t&&t.length&&e&&e.length?to(t,e):t}function Da(t,e,n){return t&&t.length&&e&&e.length?to(t,e,$s(n,2)):t}function Ea(t,e,n){return t&&t.length&&e&&e.length?to(t,e,Q,n):t}function Oa(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=$s(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return eo(t,r),n}function Aa(t){return null==t?t:th.call(t)}function Pa(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Hs(t,e,n)?(e=0,n=i):(e=null==e?0:Mu(e),n=n===Q?i:Mu(n)),co(t,e,n)):[]}function La(t,e){return po(t,e)}function Ia(t,e,n){return fo(t,e,$s(n,2))}function Na(t,e){var n=null==t?0:t.length;if(n){var i=po(t,e);if(n>i&&Kl(t[i],e))return i}return-1}function Ra(t,e){return po(t,e,!0)}function Ba(t,e,n){return fo(t,e,$s(n,2),!0)}function Ha(t,e){var n=null==t?0:t.length;if(n){var i=po(t,e,!0)-1;if(Kl(t[i],e))return i}return-1}function Fa(t){return t&&t.length?go(t):[]}function za(t,e){return t&&t.length?go(t,$s(e,2)):[]}function Wa(t){var e=null==t?0:t.length;return e?co(t,1,e):[]}function ja(t,e,n){return t&&t.length?(e=n||e===Q?1:Mu(e),co(t,0,0>e?0:e)):[]}function Ga(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===Q?1:Mu(e),e=i-e,co(t,0>e?0:e,i)):[]}function Va(t,e){return t&&t.length?_o(t,$s(e,3),!1,!0):[]}function Ua(t,e){return t&&t.length?_o(t,$s(e,3)):[]}function qa(t){return t&&t.length?yo(t):[]}function Ya(t,e){return t&&t.length?yo(t,$s(e,2)):[]}function Ka(t,e){return e="function"==typeof e?e:Q,t&&t.length?yo(t,Q,e):[]}function Xa(t){if(!t||!t.length)return[];var e=0;return t=a(t,function(t){return Zl(t)?(e=Kd(t.length,e),!0):void 0}),T(e,function(e){return c(t,k(e))})}function Za(t,e){if(!t||!t.length)return[];var i=Xa(t);return null==e?i:c(i,function(t){return n(e,Q,t)})}function Ja(t,e){return Co(t||[],e||[],Oi)}function Qa(t,e){return Co(t||[],e||[],lo)}function tl(t){var e=C(t);return e.__chain__=!0,e}function el(t,e){return e(t),t}function nl(t,e){return e(t)}function il(){return tl(this)}function rl(){return new X(this.value(),this.__chain__)}function ol(){this.__values__===Q&&(this.__values__=Cu(this.value()));var t=this.__index__>=this.__values__.length,e=t?Q:this.__values__[this.__index__++];return{done:t,value:e}}function sl(){return this}function al(t){for(var e,n=this;n instanceof U;){var i=sa(n);i.__index__=0,i.__values__=Q,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function ll(){var t=this.__wrapped__;if(t instanceof Z){var e=t;return this.__actions__.length&&(e=new Z(this)),e=e.reverse(),e.__actions__.push({func:nl,args:[Aa],thisArg:Q}),new X(e,this.__chain__)}return this.thru(Aa)}function ul(){return xo(this.__wrapped__,this.__actions__)}function cl(t,e,n){var i=wp(t)?s:Xi;return n&&Hs(t,e,n)&&(e=Q),i(t,$s(e,3))}function dl(t,e){var n=wp(t)?a:er;return n(t,$s(e,3))}function hl(t,e){return ir(yl(t,e),1)}function pl(t,e){return ir(yl(t,e),De)}function fl(t,e,n){return n=n===Q?1:Mu(n),ir(yl(t,e),n)}function gl(t,e){var n=wp(t)?r:yh;return n(t,$s(e,3))}function ml(t,e){var n=wp(t)?o:bh;return n(t,$s(e,3))}function vl(t,e,n,i){t=Xl(t)?t:ic(t),n=n&&!i?Mu(n):0;var r=t.length;return 0>n&&(n=Kd(r+n,0)),bu(t)?r>=n&&t.indexOf(e,n)>-1:!!r&&b(t,e,n)>-1}function yl(t,e){var n=wp(t)?c:Gr;return n(t,$s(e,3))}function bl(t,e,n,i){return null==t?[]:(wp(e)||(e=null==e?[]:[e]),n=i?Q:n,wp(n)||(n=null==n?[]:[n]),Xr(t,e,n))}function wl(t,e,n){var i=wp(t)?h:$,r=arguments.length<3;return i(t,$s(e,4),n,r,yh)}function _l(t,e,n){var i=wp(t)?p:$,r=arguments.length<3;return i(t,$s(e,4),n,r,bh)}function xl(t,e){var n=wp(t)?a:er;return n(t,Nl($s(e,3)))}function kl(t){var e=wp(t)?Si:so;return e(t)}function Cl(t,e,n){e=(n?Hs(t,e,n):e===Q)?1:Mu(e);var i=wp(t)?Ti:ao;return i(t,e)}function $l(t){var e=wp(t)?Di:uo;return e(t)}function Ml(t){if(null==t)return 0;if(Xl(t))return bu(t)?Y(t):t.length;var e=Eh(t);return e==Ue||e==Qe?t.size:zr(t).length}function Sl(t,e,n){var i=wp(t)?f:ho;return n&&Hs(t,e,n)&&(e=Q),i(t,$s(e,3))}function Tl(t,e){if("function"!=typeof e)throw new fd(ie);return t=Mu(t),function(){return--t<1?e.apply(this,arguments):void 0}}function Dl(t,e,n){return e=n?Q:e,e=t&&null==e?t.length:e,ps(t,be,Q,Q,Q,Q,e)}function El(t,e){var n;if("function"!=typeof e)throw new fd(ie);return t=Mu(t),function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=Q),n}}function Ol(t,e,n){e=n?Q:e;var i=ps(t,ge,Q,Q,Q,Q,Q,e);return i.placeholder=Ol.placeholder,i}function Al(t,e,n){e=n?Q:e;var i=ps(t,me,Q,Q,Q,Q,Q,e);return i.placeholder=Al.placeholder,i}function Pl(t,e,n){function i(e){var n=h,i=p;return h=p=Q,y=e,g=t.apply(i,n)}function r(t){return y=t,m=Ph(a,e),b?i(t):g}function o(t){var n=t-v,i=t-y,r=e-n;return w?Xd(r,f-i):r}function s(t){var n=t-v,i=t-y;return v===Q||n>=e||0>n||w&&i>=f}function a(){var t=lp();return s(t)?l(t):void(m=Ph(a,o(t)))}function l(t){return m=Q,_&&h?i(t):(h=p=Q,g)}function u(){m!==Q&&$h(m),y=0,h=v=p=m=Q}function c(){return m===Q?g:l(lp())}function d(){var t=lp(),n=s(t);if(h=arguments,p=this,v=t,n){if(m===Q)return r(v);if(w)return m=Ph(a,e),i(v)}return m===Q&&(m=Ph(a,e)),g}var h,p,f,g,m,v,y=0,b=!1,w=!1,_=!0;if("function"!=typeof t)throw new fd(ie);return e=Tu(e)||0,lu(n)&&(b=!!n.leading,w="maxWait"in n,f=w?Kd(Tu(n.maxWait)||0,e):f,_="trailing"in n?!!n.trailing:_),d.cancel=u,d.flush=c,d}function Ll(t){return ps(t,_e)}function Il(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new fd(ie);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Il.Cache||di),n}function Nl(t){if("function"!=typeof t)throw new fd(ie);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Rl(t){return El(2,t)}function Bl(t,e){if("function"!=typeof t)throw new fd(ie);return e=e===Q?e:Mu(e),oo(t,e)}function Hl(t,e){if("function"!=typeof t)throw new fd(ie);return e=null==e?0:Kd(Mu(e),0),oo(function(i){var r=i[e],o=To(i,0,e);return r&&d(o,r),n(t,this,o)})}function Fl(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new fd(ie);return lu(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Pl(t,e,{leading:i,maxWait:e,trailing:r})}function zl(t){return Dl(t,1)}function Wl(t,e){return fp(Mo(e),t)}function jl(){if(!arguments.length)return[];var t=arguments[0];return wp(t)?t:[t]}function Gl(t){return zi(t,ue)}function Vl(t,e){return e="function"==typeof e?e:Q,zi(t,ue,e)}function Ul(t){return zi(t,ae|ue)}function ql(t,e){return e="function"==typeof e?e:Q,zi(t,ae|ue,e)}function Yl(t,e){return null==e||ji(t,e,Gu(e))}function Kl(t,e){return t===e||t!==t&&e!==e}function Xl(t){return null!=t&&au(t.length)&&!ou(t)}function Zl(t){return uu(t)&&Xl(t)}function Jl(t){return t===!0||t===!1||uu(t)&&_r(t)==Fe}function Ql(t){return uu(t)&&1===t.nodeType&&!vu(t)}function tu(t){if(null==t)return!0;if(Xl(t)&&(wp(t)||"string"==typeof t||"function"==typeof t.splice||xp(t)||Sp(t)||bp(t)))return!t.length;var e=Eh(t);if(e==Ue||e==Qe)return!t.size;if(Gs(t))return!zr(t).length;for(var n in t)if(wd.call(t,n))return!1;return!0}function eu(t,e){return Ar(t,e)}function nu(t,e,n){n="function"==typeof n?n:Q;var i=n?n(t,e):Q;return i===Q?Ar(t,e,Q,n):!!i}function iu(t){if(!uu(t))return!1;var e=_r(t);return e==je||e==We||"string"==typeof t.message&&"string"==typeof t.name&&!vu(t)}function ru(t){return"number"==typeof t&&Ud(t)}function ou(t){if(!lu(t))return!1;var e=_r(t);return e==Ge||e==Ve||e==He||e==Ze}function su(t){return"number"==typeof t&&t==Mu(t)}function au(t){return"number"==typeof t&&t>-1&&t%1==0&&Ee>=t}function lu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function uu(t){return null!=t&&"object"==typeof t}function cu(t,e){return t===e||Ir(t,e,Ss(e))}function du(t,e,n){return n="function"==typeof n?n:Q,Ir(t,e,Ss(e),n)}function hu(t){return mu(t)&&t!=+t}function pu(t){if(Oh(t))throw new ld(ne);return Nr(t)}function fu(t){return null===t}function gu(t){return null==t}function mu(t){return"number"==typeof t||uu(t)&&_r(t)==qe}function vu(t){if(!uu(t)||_r(t)!=Ke)return!1;var e=Od(t);if(null===e)return!0;var n=wd.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bd.call(n)==Cd}function yu(t){return su(t)&&t>=-Ee&&Ee>=t}function bu(t){return"string"==typeof t||!wp(t)&&uu(t)&&_r(t)==tn}function wu(t){return"symbol"==typeof t||uu(t)&&_r(t)==en}function _u(t){return t===Q}function xu(t){return uu(t)&&Eh(t)==rn}function ku(t){return uu(t)&&_r(t)==on}function Cu(t){if(!t)return[];if(Xl(t))return bu(t)?K(t):zo(t);if(Nd&&t[Nd])return F(t[Nd]());var e=Eh(t),n=e==Ue?z:e==Qe?G:ic;return n(t)}function $u(t){if(!t)return 0===t?t:0;if(t=Tu(t),t===De||t===-De){var e=0>t?-1:1;return e*Oe}return t===t?t:0}function Mu(t){var e=$u(t),n=e%1;return e===e?n?e-n:e:0}function Su(t){return t?Fi(Mu(t),0,Pe):0}function Tu(t){if("number"==typeof t)return t;if(wu(t))return Ae;if(lu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=lu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pn,"");var n=Gn.test(t);return n||Un.test(t)?Qi(t.slice(2),n?2:8):jn.test(t)?Ae:+t}function Du(t){return Wo(t,Vu(t))}function Eu(t){return t?Fi(Mu(t),-Ee,Ee):0===t?t:0}function Ou(t){return null==t?"":vo(t)}function Au(t,e){var n=vh(t);return null==e?n:Li(n,e)}function Pu(t,e){return v(t,$s(e,3),rr)}function Lu(t,e){return v(t,$s(e,3),sr)}function Iu(t,e){return null==t?t:wh(t,$s(e,3),Vu)}function Nu(t,e){return null==t?t:_h(t,$s(e,3),Vu)}function Ru(t,e){return t&&rr(t,$s(e,3))}function Bu(t,e){return t&&sr(t,$s(e,3))}function Hu(t){return null==t?[]:ar(t,Gu(t))}function Fu(t){return null==t?[]:ar(t,Vu(t))}function zu(t,e,n){var i=null==t?Q:fr(t,e);return i===Q?n:i}function Wu(t,e){return null!=t&&As(t,e,kr)}function ju(t,e){return null!=t&&As(t,e,Cr)}function Gu(t){return Xl(t)?Mi(t):zr(t)}function Vu(t){return Xl(t)?Mi(t,!0):Wr(t)}function Uu(t,e){var n={};return e=$s(e,3),rr(t,function(t,i,r){Ni(n,e(t,i,r),t)}),n}function qu(t,e){var n={};return e=$s(e,3),rr(t,function(t,i,r){Ni(n,i,e(t,i,r))}),n}function Yu(t,e){return Ku(t,Nl($s(e)))}function Ku(t,e){if(null==t)return{};var n=c(xs(t),function(t){return[t]});return e=$s(e),Jr(t,n,function(t,n){return e(t,n[0])})}function Xu(t,e,n){e=So(e,t);var i=-1,r=e.length;for(r||(r=1,t=Q);++i<r;){var o=null==t?Q:t[ia(e[i])];o===Q&&(i=r,o=n),t=ou(o)?o.call(t):o}return t}function Zu(t,e,n){return null==t?t:lo(t,e,n)}function Ju(t,e,n,i){return i="function"==typeof i?i:Q,null==t?t:lo(t,e,n,i)}function Qu(t,e,n){var i=wp(t),o=i||xp(t)||Sp(t);if(e=$s(e,4),null==n){var s=t&&t.constructor;n=o?i?new s:[]:lu(t)&&ou(s)?vh(Od(t)):{}}return(o?r:rr)(t,function(t,i,r){return e(n,t,i,r)}),n}function tc(t,e){return null==t?!0:bo(t,e)}function ec(t,e,n){return null==t?t:wo(t,e,Mo(n))}function nc(t,e,n,i){return i="function"==typeof i?i:Q,null==t?t:wo(t,e,Mo(n),i)}function ic(t){return null==t?[]:O(t,Gu(t))}function rc(t){return null==t?[]:O(t,Vu(t))}function oc(t,e,n){return n===Q&&(n=e,e=Q),n!==Q&&(n=Tu(n),n=n===n?n:0),e!==Q&&(e=Tu(e),e=e===e?e:0),Fi(Tu(t),e,n)}function sc(t,e,n){return e=$u(e),n===Q?(n=e,e=0):n=$u(n),t=Tu(t),$r(t,e,n)}function ac(t,e,n){if(n&&"boolean"!=typeof n&&Hs(t,e,n)&&(e=n=Q),n===Q&&("boolean"==typeof e?(n=e,e=Q):"boolean"==typeof t&&(n=t,t=Q)),t===Q&&e===Q?(t=0,e=1):(t=$u(t),e===Q?(e=t,t=0):e=$u(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Qd();return Xd(t+r*(e-t+Ji("1e-"+((r+"").length-1))),e)}return no(t,e)}function lc(t){return Qp(Ou(t).toLowerCase())}function uc(t){return t=Ou(t),t&&t.replace(Yn,gr).replace(Hi,"")}function cc(t,e,n){t=Ou(t),e=vo(e);var i=t.length;n=n===Q?i:Fi(Mu(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function dc(t){return t=Ou(t),t&&kn.test(t)?t.replace(_n,mr):t}function hc(t){return t=Ou(t),t&&An.test(t)?t.replace(On,"\\$&"):t}function pc(t,e,n){t=Ou(t),e=Mu(e);var i=e?Y(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return ss(jd(r),n)+t+ss(Wd(r),n)}function fc(t,e,n){t=Ou(t),e=Mu(e);var i=e?Y(t):0;return e&&e>i?t+ss(e-i,n):t}function gc(t,e,n){t=Ou(t),e=Mu(e);var i=e?Y(t):0;return e&&e>i?ss(e-i,n)+t:t}function mc(t,e,n){return n||null==e?e=0:e&&(e=+e),Jd(Ou(t).replace(Ln,""),e||0)}function vc(t,e,n){return e=(n?Hs(t,e,n):e===Q)?1:Mu(e),ro(Ou(t),e)}function yc(){var t=arguments,e=Ou(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bc(t,e,n){return n&&"number"!=typeof n&&Hs(t,e,n)&&(e=n=Q),(n=n===Q?Pe:n>>>0)?(t=Ou(t),t&&("string"==typeof e||null!=e&&!$p(e))&&(e=vo(e),!e&&B(t))?To(K(t),0,n):t.split(e,n)):[]}function wc(t,e,n){return t=Ou(t),n=null==n?0:Fi(Mu(n),0,t.length),e=vo(e),t.slice(n,n+e.length)==e}function _c(t,e,n){var i=C.templateSettings;n&&Hs(t,e,n)&&(e=Q),t=Ou(t),e=Ap({},e,i,fs);var r,o,s=Ap({},e.imports,i.imports,fs),a=Gu(s),l=O(s,a),u=0,c=e.interpolate||Kn,d="__p += '",h=hd((e.escape||Kn).source+"|"+c.source+"|"+(c===Mn?zn:Kn).source+"|"+(e.evaluate||Kn).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Vi+"]")+"\n";t.replace(h,function(e,n,i,s,a,l){return i||(i=s),d+=t.slice(u,l).replace(Xn,N),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),d+="';\n";var f=e.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(vn,""):d).replace(yn,"$1").replace(bn,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=tf(function(){return ud(a,p+"return "+d).apply(Q,l)});if(g.source=d,iu(g))throw g;return g}function xc(t){return Ou(t).toLowerCase()}function kc(t){return Ou(t).toUpperCase()}function Cc(t,e,n){if(t=Ou(t),t&&(n||e===Q))return t.replace(Pn,"");if(!t||!(e=vo(e)))return t;var i=K(t),r=K(e),o=P(i,r),s=L(i,r)+1;return To(i,o,s).join("")}function $c(t,e,n){if(t=Ou(t),t&&(n||e===Q))return t.replace(In,"");if(!t||!(e=vo(e)))return t;var i=K(t),r=L(i,K(e))+1;return To(i,0,r).join("")}function Mc(t,e,n){if(t=Ou(t),t&&(n||e===Q))return t.replace(Ln,"");if(!t||!(e=vo(e)))return t;var i=K(t),r=P(i,K(e));return To(i,r).join("")}function Sc(t,e){var n=xe,i=ke;if(lu(e)){var r="separator"in e?e.separator:r;n="length"in e?Mu(e.length):n,i="omission"in e?vo(e.omission):i}t=Ou(t);var o=t.length;if(B(t)){var s=K(t);o=s.length}if(n>=o)return t;var a=n-Y(i);if(1>a)return i;var l=s?To(s,0,a).join(""):t.slice(0,a);if(r===Q)return l+i;if(s&&(a+=l.length-a),$p(r)){if(t.slice(a).search(r)){var u,c=l;for(r.global||(r=hd(r.source,Ou(Wn.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var d=u.index;l=l.slice(0,d===Q?a:d)}}else if(t.indexOf(vo(r),a)!=a){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i}function Tc(t){return t=Ou(t),t&&xn.test(t)?t.replace(wn,vr):t}function Dc(t,e,n){return t=Ou(t),e=n?Q:e,e===Q?H(t)?J(t):m(t):t.match(e)||[]}function Ec(t){var e=null==t?0:t.length,i=$s();return t=e?c(t,function(t){if("function"!=typeof t[1])throw new fd(ie);return[i(t[0]),t[1]]}):[],oo(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function Oc(t){return Wi(zi(t,ae))}function Ac(t){return function(){return t}}function Pc(t,e){return null==t||t!==t?e:t}function Lc(t){return t}function Ic(t){return Fr("function"==typeof t?t:zi(t,ae))}function Nc(t){return Vr(zi(t,ae))}function Rc(t,e){return Ur(t,zi(e,ae))}function Bc(t,e,n){var i=Gu(e),o=ar(e,i);null!=n||lu(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=ar(e,Gu(e)));var s=!(lu(n)&&"chain"in n&&!n.chain),a=ou(t);return r(o,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),r=n.__actions__=zo(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,d([this.value()],arguments))})}),t}function Hc(){return nr._===this&&(nr._=$d),this}function Fc(){}function zc(t){return t=Mu(t),oo(function(e){return Kr(e,t)})}function Wc(t){return Fs(t)?k(ia(t)):Qr(t)}function jc(t){return function(e){return null==t?Q:fr(t,e)}}function Gc(){return[]}function Vc(){return!1}function Uc(){return{}}function qc(){return""}function Yc(){return!0}function Kc(t,e){if(t=Mu(t),1>t||t>Ee)return[];var n=Pe,i=Xd(t,Pe);e=$s(e),t-=Pe;for(var r=T(i,e);++n<t;)e(n);return r}function Xc(t){return wp(t)?c(t,ia):wu(t)?[t]:zo(Ih(Ou(t)))}function Zc(t){var e=++_d;return Ou(t)+e}function Jc(t){return t&&t.length?Zi(t,Lc,xr):Q}function Qc(t,e){return t&&t.length?Zi(t,$s(e,2),xr):Q}function td(t){return x(t,Lc)}function ed(t,e){return x(t,$s(e,2))}function nd(t){return t&&t.length?Zi(t,Lc,jr):Q}function id(t,e){return t&&t.length?Zi(t,$s(e,2),jr):Q}function rd(t){return t&&t.length?S(t,Lc):0}function od(t,e){return t&&t.length?S(t,$s(e,2)):0}g=null==g?nr:br.defaults(nr.Object(),g,br.pick(nr,Gi));var sd=g.Array,ad=g.Date,ld=g.Error,ud=g.Function,cd=g.Math,dd=g.Object,hd=g.RegExp,pd=g.String,fd=g.TypeError,gd=sd.prototype,md=ud.prototype,vd=dd.prototype,yd=g["__core-js_shared__"],bd=md.toString,wd=vd.hasOwnProperty,_d=0,xd=function(){var t=/[^.]+$/.exec(yd&&yd.keys&&yd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),kd=vd.toString,Cd=bd.call(dd),$d=nr._,Md=hd("^"+bd.call(wd).replace(On,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sd=or?g.Buffer:Q,Td=g.Symbol,Dd=g.Uint8Array,Ed=Sd?Sd.allocUnsafe:Q,Od=W(dd.getPrototypeOf,dd),Ad=dd.create,Pd=vd.propertyIsEnumerable,Ld=gd.splice,Id=Td?Td.isConcatSpreadable:Q,Nd=Td?Td.iterator:Q,Rd=Td?Td.toStringTag:Q,Bd=function(){try{var t=Ts(dd,"defineProperty");return t({},"",{}),t}catch(e){}}(),Hd=g.clearTimeout!==nr.clearTimeout&&g.clearTimeout,Fd=ad&&ad.now!==nr.Date.now&&ad.now,zd=g.setTimeout!==nr.setTimeout&&g.setTimeout,Wd=cd.ceil,jd=cd.floor,Gd=dd.getOwnPropertySymbols,Vd=Sd?Sd.isBuffer:Q,Ud=g.isFinite,qd=gd.join,Yd=W(dd.keys,dd),Kd=cd.max,Xd=cd.min,Zd=ad.now,Jd=g.parseInt,Qd=cd.random,th=gd.reverse,eh=Ts(g,"DataView"),nh=Ts(g,"Map"),ih=Ts(g,"Promise"),rh=Ts(g,"Set"),oh=Ts(g,"WeakMap"),sh=Ts(dd,"create"),ah=oh&&new oh,lh={},uh=ra(eh),ch=ra(nh),dh=ra(ih),hh=ra(rh),ph=ra(oh),fh=Td?Td.prototype:Q,gh=fh?fh.valueOf:Q,mh=fh?fh.toString:Q,vh=function(){function t(){}return function(e){if(!lu(e))return{};if(Ad)return Ad(e);t.prototype=e;var n=new t;return t.prototype=Q,n}}();C.templateSettings={escape:Cn,evaluate:$n,interpolate:Mn,variable:"",imports:{_:C}},C.prototype=U.prototype,C.prototype.constructor=C,X.prototype=vh(U.prototype),X.prototype.constructor=X,Z.prototype=vh(U.prototype),Z.prototype.constructor=Z,Qn.prototype.clear=ti,Qn.prototype["delete"]=ei,Qn.prototype.get=ni,Qn.prototype.has=ii,Qn.prototype.set=ri,oi.prototype.clear=si,oi.prototype["delete"]=ai,oi.prototype.get=li,oi.prototype.has=ui,oi.prototype.set=ci,di.prototype.clear=hi,di.prototype["delete"]=pi,di.prototype.get=fi,di.prototype.has=gi,di.prototype.set=mi,vi.prototype.add=vi.prototype.push=yi,vi.prototype.has=bi,wi.prototype.clear=_i,wi.prototype["delete"]=xi,wi.prototype.get=ki,wi.prototype.has=Ci,wi.prototype.set=$i;var yh=qo(rr),bh=qo(sr,!0),wh=Yo(),_h=Yo(!0),xh=ah?function(t,e){return ah.set(t,e),t}:Lc,kh=Bd?function(t,e){return Bd(t,"toString",{configurable:!0,enumerable:!1,value:Ac(e),writable:!0})}:Lc,Ch=oo,$h=Hd||function(t){return nr.clearTimeout(t)},Mh=rh&&1/G(new rh([,-0]))[1]==De?function(t){return new rh(t)}:Fc,Sh=ah?function(t){return ah.get(t)}:Fc,Th=Gd?function(t){return null==t?[]:(t=dd(t),a(Gd(t),function(e){return Pd.call(t,e)}))}:Gc,Dh=Gd?function(t){for(var e=[];t;)d(e,Th(t)),t=Od(t);return e}:Gc,Eh=_r;(eh&&Eh(new eh(new ArrayBuffer(1)))!=an||nh&&Eh(new nh)!=Ue||ih&&Eh(ih.resolve())!=Xe||rh&&Eh(new rh)!=Qe||oh&&Eh(new oh)!=rn)&&(Eh=function(t){var e=_r(t),n=e==Ke?t.constructor:Q,i=n?ra(n):"";if(i)switch(i){case uh:return an;case ch:return Ue;case dh:return Xe;case hh:return Qe;case ph:return rn}return e});var Oh=yd?ou:Vc,Ah=ea(xh),Ph=zd||function(t,e){return nr.setTimeout(t,e)},Lh=ea(kh),Ih=qs(function(t){var e=[];return Dn.test(t)&&e.push(""),t.replace(En,function(t,n,i,r){e.push(i?r.replace(Fn,"$1"):n||t)}),e}),Nh=oo(function(t,e){return Zl(t)?Ki(t,ir(e,1,Zl,!0)):[]}),Rh=oo(function(t,e){var n=$a(e);return Zl(n)&&(n=Q),Zl(t)?Ki(t,ir(e,1,Zl,!0),$s(n,2)):[]}),Bh=oo(function(t,e){var n=$a(e);return Zl(n)&&(n=Q),Zl(t)?Ki(t,ir(e,1,Zl,!0),Q,n):[]}),Hh=oo(function(t){var e=c(t,$o);return e.length&&e[0]===t[0]?Mr(e):[]}),Fh=oo(function(t){var e=$a(t),n=c(t,$o);return e===$a(n)?e=Q:n.pop(),n.length&&n[0]===t[0]?Mr(n,$s(e,2)):[]}),zh=oo(function(t){var e=$a(t),n=c(t,$o);return e="function"==typeof e?e:Q,e&&n.pop(),n.length&&n[0]===t[0]?Mr(n,Q,e):[]}),Wh=oo(Ta),jh=ws(function(t,e){var n=null==t?0:t.length,i=Ri(t,e);return eo(t,c(e,function(t){return Bs(t,n)?+t:t}).sort(Ro)),i}),Gh=oo(function(t){return yo(ir(t,1,Zl,!0))}),Vh=oo(function(t){var e=$a(t);return Zl(e)&&(e=Q),yo(ir(t,1,Zl,!0),$s(e,2))}),Uh=oo(function(t){var e=$a(t);return e="function"==typeof e?e:Q,yo(ir(t,1,Zl,!0),Q,e)}),qh=oo(function(t,e){return Zl(t)?Ki(t,e):[]}),Yh=oo(function(t){return ko(a(t,Zl))}),Kh=oo(function(t){var e=$a(t);return Zl(e)&&(e=Q),ko(a(t,Zl),$s(e,2))}),Xh=oo(function(t){var e=$a(t);return e="function"==typeof e?e:Q,ko(a(t,Zl),Q,e)}),Zh=oo(Xa),Jh=oo(function(t){var e=t.length,n=e>1?t[e-1]:Q;return n="function"==typeof n?(t.pop(),n):Q,Za(t,n)}),Qh=ws(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Ri(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Z&&Bs(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:nl,args:[r],thisArg:Q}),new X(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Q),t})):this.thru(r)}),tp=Vo(function(t,e,n){wd.call(t,n)?++t[n]:Ni(t,n,1)}),ep=ts(ga),np=ts(ma),ip=Vo(function(t,e,n){wd.call(t,n)?t[n].push(e):Ni(t,n,[e])}),rp=oo(function(t,e,i){var r=-1,o="function"==typeof e,s=Xl(t)?sd(t.length):[];return yh(t,function(t){s[++r]=o?n(e,t,i):Tr(t,e,i)}),s}),op=Vo(function(t,e,n){Ni(t,n,e)}),sp=Vo(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ap=oo(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Hs(t,e[0],e[1])?e=[]:n>2&&Hs(e[0],e[1],e[2])&&(e=[e[0]]),Xr(t,ir(e,1),[])}),lp=Fd||function(){return nr.Date.now()},up=oo(function(t,e,n){var i=he;if(n.length){var r=j(n,Cs(up));i|=ve}return ps(t,i,e,n,r)}),cp=oo(function(t,e,n){var i=he|pe;if(n.length){var r=j(n,Cs(cp));i|=ve}return ps(e,i,t,n,r)}),dp=oo(function(t,e){return Yi(t,1,e)}),hp=oo(function(t,e,n){return Yi(t,Tu(e)||0,n)});Il.Cache=di;var pp=Ch(function(t,e){e=1==e.length&&wp(e[0])?c(e[0],E($s())):c(ir(e,1),E($s()));var i=e.length;return oo(function(r){for(var o=-1,s=Xd(r.length,i);++o<s;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),fp=oo(function(t,e){var n=j(e,Cs(fp));return ps(t,ve,Q,e,n)}),gp=oo(function(t,e){var n=j(e,Cs(gp));return ps(t,ye,Q,e,n)}),mp=ws(function(t,e){return ps(t,we,Q,Q,Q,e)}),vp=us(xr),yp=us(function(t,e){return t>=e}),bp=Dr(function(){return arguments}())?Dr:function(t){return uu(t)&&wd.call(t,"callee")&&!Pd.call(t,"callee")},wp=sd.isArray,_p=lr?E(lr):Er,xp=Vd||Vc,kp=ur?E(ur):Or,Cp=cr?E(cr):Lr,$p=dr?E(dr):Rr,Mp=hr?E(hr):Br,Sp=pr?E(pr):Hr,Tp=us(jr),Dp=us(function(t,e){return e>=t}),Ep=Uo(function(t,e){if(Gs(e)||Xl(e))return void Wo(e,Gu(e),t);for(var n in e)wd.call(e,n)&&Oi(t,n,e[n])}),Op=Uo(function(t,e){Wo(e,Vu(e),t)}),Ap=Uo(function(t,e,n,i){Wo(e,Vu(e),t,i)}),Pp=Uo(function(t,e,n,i){Wo(e,Gu(e),t,i)}),Lp=ws(Ri),Ip=oo(function(t){return t.push(Q,fs),n(Ap,Q,t)}),Np=oo(function(t){return t.push(Q,gs),n(zp,Q,t)}),Rp=is(function(t,e,n){t[e]=n},Ac(Lc)),Bp=is(function(t,e,n){wd.call(t,e)?t[e].push(n):t[e]=[n]},$s),Hp=oo(Tr),Fp=Uo(function(t,e,n){qr(t,e,n)}),zp=Uo(function(t,e,n,i){qr(t,e,n,i)}),Wp=ws(function(t,e){var n={};if(null==t)return n;var i=!1;e=c(e,function(e){return e=So(e,t),i||(i=e.length>1),e}),Wo(t,xs(t),n),i&&(n=zi(n,ae|le|ue,ms));for(var r=e.length;r--;)bo(n,e[r]);return n}),jp=ws(function(t,e){return null==t?{}:Zr(t,e)}),Gp=hs(Gu),Vp=hs(Vu),Up=Zo(function(t,e,n){return e=e.toLowerCase(),t+(n?lc(e):e)}),qp=Zo(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yp=Zo(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Kp=Xo("toLowerCase"),Xp=Zo(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Zp=Zo(function(t,e,n){return t+(n?" ":"")+Qp(e)}),Jp=Zo(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Qp=Xo("toUpperCase"),tf=oo(function(t,e){try{return n(t,Q,e)}catch(i){return iu(i)?i:new ld(i)}}),ef=ws(function(t,e){return r(e,function(e){e=ia(e),Ni(t,e,up(t[e],t))}),t}),nf=es(),rf=es(!0),of=oo(function(t,e){return function(n){return Tr(n,t,e)}}),sf=oo(function(t,e){return function(n){return Tr(t,n,e)}}),af=os(c),lf=os(s),uf=os(f),cf=ls(),df=ls(!0),hf=rs(function(t,e){return t+e},0),pf=ds("ceil"),ff=rs(function(t,e){return t/e},1),gf=ds("floor"),mf=rs(function(t,e){return t*e},1),vf=ds("round"),yf=rs(function(t,e){return t-e},0);return C.after=Tl,C.ary=Dl,C.assign=Ep,C.assignIn=Op,C.assignInWith=Ap,C.assignWith=Pp,C.at=Lp,C.before=El,C.bind=up,C.bindAll=ef,C.bindKey=cp,C.castArray=jl,C.chain=tl,C.chunk=aa,C.compact=la,C.concat=ua,C.cond=Ec,C.conforms=Oc,C.constant=Ac,C.countBy=tp,C.create=Au,C.curry=Ol,C.curryRight=Al,C.debounce=Pl,C.defaults=Ip,C.defaultsDeep=Np,C.defer=dp,C.delay=hp,C.difference=Nh,C.differenceBy=Rh,C.differenceWith=Bh,C.drop=ca,C.dropRight=da,C.dropRightWhile=ha,C.dropWhile=pa,C.fill=fa,C.filter=dl,C.flatMap=hl,C.flatMapDeep=pl,C.flatMapDepth=fl,C.flatten=va,C.flattenDeep=ya,C.flattenDepth=ba,C.flip=Ll,C.flow=nf,C.flowRight=rf,C.fromPairs=wa,C.functions=Hu,C.functionsIn=Fu,C.groupBy=ip,C.initial=ka,C.intersection=Hh,C.intersectionBy=Fh,C.intersectionWith=zh,C.invert=Rp,C.invertBy=Bp,C.invokeMap=rp,C.iteratee=Ic,C.keyBy=op,C.keys=Gu,C.keysIn=Vu,C.map=yl,C.mapKeys=Uu,C.mapValues=qu,C.matches=Nc,C.matchesProperty=Rc,C.memoize=Il,C.merge=Fp,C.mergeWith=zp,C.method=of,C.methodOf=sf,C.mixin=Bc,C.negate=Nl,C.nthArg=zc,C.omit=Wp,C.omitBy=Yu,C.once=Rl,C.orderBy=bl,C.over=af,C.overArgs=pp,C.overEvery=lf,C.overSome=uf,C.partial=fp,C.partialRight=gp,C.partition=sp,C.pick=jp,C.pickBy=Ku,C.property=Wc,C.propertyOf=jc,C.pull=Wh,C.pullAll=Ta,C.pullAllBy=Da,C.pullAllWith=Ea,C.pullAt=jh,C.range=cf,C.rangeRight=df,C.rearg=mp,C.reject=xl,C.remove=Oa,C.rest=Bl,C.reverse=Aa,C.sampleSize=Cl,C.set=Zu,C.setWith=Ju,C.shuffle=$l,C.slice=Pa,C.sortBy=ap,C.sortedUniq=Fa,C.sortedUniqBy=za,C.split=bc,C.spread=Hl,C.tail=Wa,C.take=ja,C.takeRight=Ga,C.takeRightWhile=Va,C.takeWhile=Ua,C.tap=el,C.throttle=Fl,C.thru=nl,C.toArray=Cu,C.toPairs=Gp,C.toPairsIn=Vp,C.toPath=Xc,C.toPlainObject=Du,C.transform=Qu,C.unary=zl,C.union=Gh,C.unionBy=Vh,C.unionWith=Uh,C.uniq=qa,C.uniqBy=Ya,C.uniqWith=Ka,C.unset=tc,C.unzip=Xa,C.unzipWith=Za,C.update=ec,C.updateWith=nc,C.values=ic,C.valuesIn=rc,C.without=qh,C.words=Dc,C.wrap=Wl,C.xor=Yh,C.xorBy=Kh,C.xorWith=Xh,C.zip=Zh,C.zipObject=Ja,C.zipObjectDeep=Qa,C.zipWith=Jh,C.entries=Gp,C.entriesIn=Vp,C.extend=Op,C.extendWith=Ap,Bc(C,C),C.add=hf,C.attempt=tf,C.camelCase=Up,C.capitalize=lc,C.ceil=pf,C.clamp=oc,C.clone=Gl,C.cloneDeep=Ul,C.cloneDeepWith=ql,C.cloneWith=Vl,C.conformsTo=Yl,C.deburr=uc,C.defaultTo=Pc,C.divide=ff,C.endsWith=cc,C.eq=Kl,C.escape=dc,C.escapeRegExp=hc,C.every=cl,C.find=ep,C.findIndex=ga,C.findKey=Pu,C.findLast=np,C.findLastIndex=ma,C.findLastKey=Lu,C.floor=gf,C.forEach=gl,C.forEachRight=ml,C.forIn=Iu,C.forInRight=Nu,C.forOwn=Ru,C.forOwnRight=Bu,C.get=zu,C.gt=vp,C.gte=yp,C.has=Wu,C.hasIn=ju,C.head=_a,C.identity=Lc,C.includes=vl,C.indexOf=xa,C.inRange=sc,C.invoke=Hp,C.isArguments=bp,C.isArray=wp,C.isArrayBuffer=_p,C.isArrayLike=Xl,C.isArrayLikeObject=Zl,C.isBoolean=Jl,C.isBuffer=xp,C.isDate=kp,C.isElement=Ql,C.isEmpty=tu,C.isEqual=eu,C.isEqualWith=nu,C.isError=iu,C.isFinite=ru,C.isFunction=ou,C.isInteger=su,C.isLength=au,C.isMap=Cp,C.isMatch=cu,C.isMatchWith=du,C.isNaN=hu,C.isNative=pu,C.isNil=gu,C.isNull=fu,C.isNumber=mu,C.isObject=lu,C.isObjectLike=uu,C.isPlainObject=vu,C.isRegExp=$p,C.isSafeInteger=yu,C.isSet=Mp,C.isString=bu,C.isSymbol=wu,C.isTypedArray=Sp,C.isUndefined=_u,C.isWeakMap=xu,C.isWeakSet=ku,C.join=Ca,C.kebabCase=qp,C.last=$a,C.lastIndexOf=Ma,C.lowerCase=Yp,C.lowerFirst=Kp,C.lt=Tp,C.lte=Dp,C.max=Jc,C.maxBy=Qc,C.mean=td,C.meanBy=ed,C.min=nd,C.minBy=id,C.stubArray=Gc,C.stubFalse=Vc,C.stubObject=Uc,C.stubString=qc,C.stubTrue=Yc,C.multiply=mf,C.nth=Sa,C.noConflict=Hc,C.noop=Fc,C.now=lp,C.pad=pc,C.padEnd=fc,C.padStart=gc,C.parseInt=mc,C.random=ac,C.reduce=wl,C.reduceRight=_l,C.repeat=vc,C.replace=yc,C.result=Xu,C.round=vf,C.runInContext=wr,C.sample=kl,C.size=Ml,C.snakeCase=Xp,C.some=Sl,C.sortedIndex=La,C.sortedIndexBy=Ia,C.sortedIndexOf=Na,C.sortedLastIndex=Ra,C.sortedLastIndexBy=Ba,C.sortedLastIndexOf=Ha,C.startCase=Zp,C.startsWith=wc,C.subtract=yf,C.sum=rd,C.sumBy=od,C.template=_c,C.times=Kc,C.toFinite=$u,C.toInteger=Mu,C.toLength=Su,C.toLower=xc,C.toNumber=Tu,C.toSafeInteger=Eu,C.toString=Ou,C.toUpper=kc,C.trim=Cc,C.trimEnd=$c,C.trimStart=Mc,C.truncate=Sc,C.unescape=Tc,C.uniqueId=Zc,C.upperCase=Jp,C.upperFirst=Qp,C.each=gl,C.eachRight=ml,C.first=_a,Bc(C,function(){var t={};
return rr(C,function(e,n){wd.call(C.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),C.VERSION=te,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){C[t].placeholder=C}),r(["drop","take"],function(t,e){Z.prototype[t]=function(n){n=n===Q?1:Kd(Mu(n),0);var i=this.__filtered__&&!e?new Z(this):this.clone();return i.__filtered__?i.__takeCount__=Xd(n,i.__takeCount__):i.__views__.push({size:Xd(n,Pe),type:t+(i.__dir__<0?"Right":"")}),i},Z.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Me||n==Te;Z.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$s(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");Z.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Z.prototype[t]=function(){return this.__filtered__?new Z(this):this[n](1)}}),Z.prototype.compact=function(){return this.filter(Lc)},Z.prototype.find=function(t){return this.filter(t).head()},Z.prototype.findLast=function(t){return this.reverse().find(t)},Z.prototype.invokeMap=oo(function(t,e){return"function"==typeof t?new Z(this):this.map(function(n){return Tr(n,t,e)})}),Z.prototype.reject=function(t){return this.filter(Nl($s(t)))},Z.prototype.slice=function(t,e){t=Mu(t);var n=this;return n.__filtered__&&(t>0||0>e)?new Z(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Q&&(e=Mu(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},Z.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Z.prototype.toArray=function(){return this.take(Pe)},rr(Z.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=C[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(C.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,a=e instanceof Z,l=s[0],u=a||wp(e),c=function(t){var e=r.apply(C,d([t],s));return i&&h?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(a=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=o&&!h,g=a&&!p;if(!o&&u){e=g?e:new Z(this);var m=t.apply(e,s);return m.__actions__.push({func:nl,args:[c],thisArg:Q}),new X(m,h)}return f&&g?t.apply(this,s):(m=this.thru(c),f?i?m.value()[0]:m.value():m)})}),r(["pop","push","shift","sort","splice","unshift"],function(t){var e=gd[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);C.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(wp(r)?r:[],t)}return this[n](function(n){return e.apply(wp(n)?n:[],t)})}}),rr(Z.prototype,function(t,e){var n=C[e];if(n){var i=n.name+"",r=lh[i]||(lh[i]=[]);r.push({name:e,func:n})}}),lh[ns(Q,pe).name]=[{name:"wrapper",func:Q}],Z.prototype.clone=Hn,Z.prototype.reverse=Zn,Z.prototype.value=Jn,C.prototype.at=Qh,C.prototype.chain=il,C.prototype.commit=rl,C.prototype.next=ol,C.prototype.plant=al,C.prototype.reverse=ll,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=ul,C.prototype.first=C.prototype.head,Nd&&(C.prototype[Nd]=sl),C},br=yr();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nr._=br,define(function(){return br})):rr?((rr.exports=br)._=br,ir._=br):nr._=br}.call(this);var bind=function(t,e){return function(){return t.apply(e,arguments)}};angular.module("nemLogging",[]).provider("nemSimpleLogger",function(){var t,e,n,i;return n=["log","info","debug","warn","error"],t={log:1,info:2,debug:3,warn:4,error:5},i=function(t,e,n){return t>=e?n():void 0},e=function(){function e(e){var r;if(this.$log=e,this.spawn=bind(this.spawn,this),!this.$log)throw"internalLogger undefined";this.doLog=!0,r={},n.forEach(function(e){return function(n){return r[n]=function(r){return e.doLog?i(t[n],e.currentLevel,function(){return e.$log[n](r)}):void 0}}}(this)),this.LEVELS=t,this.currentLevel=t.error,n.forEach(function(t){return function(e){return t[e]=r[e]}}(this))}return e.prototype.spawn=function(t){return new e(t||this.$log)},e}(),this.decorator=["$log",function(n){var i;return i=new e(n),i.currentLevel=t.log,i}],this.$get=["$log",function(t){return new e(t)}],this}),function(t,e,n){"use strict";(function(){e.module("uiGmapgoogle-maps.providers",["nemLogging"]),e.module("uiGmapgoogle-maps.wrapped",[]),e.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),e.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),e.module("uiGmapgoogle-maps.directives.api.managers",[]),e.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),e.module("uiGmapgoogle-maps.directives.api.options.builders",[]),e.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),e.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),e.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),e.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){e.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(n,i){var r,o,s,a;return a=void 0,r=function(t){return t.china?"http://maps.google.cn/maps/api/js?":"auto"===t.transport?"//maps.googleapis.com/maps/api/js?":t.transport+"://maps.googleapis.com/maps/api/js?"},o=function(t){var e,n,o;return e=["transport","isGoogleMapsForWork","china"],t.isGoogleMapsForWork&&e.push("key"),n=_.map(_.omit(t,e),function(t,e){return e+"="+t}),a&&document.getElementById(a).remove(),n=n.join("&"),o=document.createElement("script"),o.id=a="ui_gmap_map_load_"+i.generate(),o.type="text/javascript",o.src=r(t)+n,document.body.appendChild(o)},s=function(){return e.isDefined(t.google)&&e.isDefined(t.google.maps)},{load:function(e){var i,r;return i=n.defer(),s()?(i.resolve(t.google.maps),i.promise):(r=e.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),t[r]=function(){t[r]=null,i.resolve(t.google.maps)},t.navigator.connection&&t.Connection&&t.navigator.connection.type===t.Connection.NONE?document.addEventListener("online",function(){return s()?void 0:o(e)}):o(e),i.promise)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",sensor:"false"},this.configure=function(t){e.extend(this.options,t)},this.$get=["uiGmapMapScriptLoader",function(t){return function(e){return e.load(t.options)}}(this)],this})}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){var e;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(t,e,n){null==n&&(this._isOpen=!0,this._open(t,e,!0))},google.maps.InfoWindow.prototype.close=function(t){null==t&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(t){return null==t&&(t=void 0),null==t?this._isOpen:this._isOpen=t},t.InfoBox&&(t.InfoBox.prototype._open=t.InfoBox.prototype.open,t.InfoBox.prototype._close=t.InfoBox.prototype.close,t.InfoBox.prototype._isOpen=!1,t.InfoBox.prototype.open=function(t,e){this._isOpen=!0,this._open(t,e)},t.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},t.InfoBox.prototype.isOpen=function(t){return null==t&&(t=void 0),null==t?this._isOpen:this._isOpen=t},e=function(e){function r(e){this.getOrigCloseBoxImg_=n(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=n(this.getCloseBoxDiv_,this);var i;i=new t.InfoBox(e),_.extend(this,i),null!=e.closeBoxDiv&&(this.closeBoxDiv_=e.closeBoxDiv)}return i(r,e),r.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},r.prototype.getCloseBoxImg_=function(){var t,e;return t=this.getCloseBoxDiv_(),e=this.getOrigCloseBoxImg_(),t||e},r.prototype.getOrigCloseBoxImg_=function(){var t;return t="",""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},r}(t.InfoBox),t.uiGmapInfoBox=e),t.MarkerLabel_?t.MarkerLabel_.prototype.setContent=function(){var t;t=this.marker_.get("labelContent"),t&&!_.isEqual(this.oldContent,t)&&("undefined"==typeof(null!=t?t.nodeType:void 0)?(this.labelDiv_.innerHTML=t,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=t):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(t),t=t.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(t),this.oldContent=t))}:void 0})}})}.call(this),function(){e.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){var t,e,n,i,r,o,s,a;return null==_.get&&(i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,r=/^\w*$/,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=function(t){return _.isObject(t)?t:Object(t)},e=function(t){return null===t?"":t+""},a=function(t){var n;return _.isArray(t)?t:(n=[],e(t).replace(o,function(t,e,i,r){n.push(i?r.replace(reEscapeChar,"$1"):e||t)}),n)},t=function(t,e,n){var i,r;if(null!==t){void 0!==n&&n in s(t)&&(e=[n]),i=0,r=e.length;for(;!_.isUndefined(t)&&r>i;)t=t[e[i++]];return i&&i===r?t:void 0}},n=function(e,n,i){var r;return r=null===e?void 0:t(e,a(n),n+""),void 0===r?i:r},_.get=n),this.intersectionObjects=function(t,e,n){var i;return null==n&&(n=void 0),i=_.map(t,function(){return function(t){return _.find(e,function(e){return null!=n?n(t,e):_.isEqual(t,e)})}}(this)),_.filter(i,function(t){return null!=t})},this.containsObject=_.includeObject=function(t,e,n){return null==n&&(n=void 0),null===t?!1:_.any(t,function(){return function(t){return null!=n?n(t,e):_.isEqual(t,e)}}(this))},this.differenceObjects=function(t,e,n){return null==n&&(n=void 0),_.filter(t,function(t){return function(i){return!t.containsObject(e,i,n)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(t,e,n,i){var r,o;if(null==t)return-1;if(r=0,o=t.length,i){if("number"!=typeof i)return r=_.sortedIndex(t,e),t[r]===e?r:-1;r=0>i?Math.max(0,o+i):i}for(;o>r;){if(null!=n){if(n(t[r],e))return r}else if(_.isEqual(t[r],e))return r;r++}return-1},this.isNullOrUndefined=function(t){return _.isNull(t||_.isUndefined(t))},this})}.call(this),function(){e.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(t){return this.contains=function(e,n){return-1!==t.indexOf(e,n)},this}})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var t;return t=void 0,{then:function(e){return t=e},resolve:function(){return t.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(t,n,i,r,o,s){var a,l,u,c,d,h,p,f,g,m,v,y,b,w,x,k,C,$,M;return $=n.promiseTypes,v=n.isInProgress,C=n.promiseStatus,a=n.ExposedPromise,u=n.SniffedPromise,y=function(t,e){var n;return n=t.promise(),n.promiseType=t.promiseType,n.$$state&&i.debug("promiseType: "+n.promiseType+", state: "+C(n.$$state.status)),n.cancelCb=e,n},f=function(t,e){return t.promiseType===$.create&&e.promiseType!==$["delete"]&&e.promiseType!==$.init?(i.debug("lastPromise.promiseType "+e.promiseType+", newPromiseType: "+t.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0):!1},k=function(t,e,n){var r;return e.promiseType===$["delete"]&&n.promiseType!==$["delete"]&&null!=n.cancelCb&&_.isFunction(n.cancelCb)&&v(n)&&(i.debug("promiseType: "+e.promiseType+", CANCELING LAST PROMISE type: "+n.promiseType),n.cancelCb("cancel safe"),r=t.peek(),null!=r&&v(r))?r.hasOwnProperty("cancelCb")&&_.isFunction(r.cancelCb)?(i.debug("promiseType: "+r.promiseType+", CANCELING FIRST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe")):i.warn("first promise was not cancelable"):void 0},l=function(t,e,n){var i,r;if(t.existingPieces){if(i=_.last(t.existingPieces._content),f(e,i))return;return k(t.existingPieces,e,i),r=a(i["finally"](function(){return y(e,n)})),r.cancelCb=n,r.promiseType=e.promiseType,t.existingPieces.enqueue(r),i["finally"](function(){return t.existingPieces.dequeue()})}return t.existingPieces=new o.Queue,t.existingPieces.enqueue(y(e,n))},w=function(t,e,n,r,o){var s;return null==n&&(n=""),s=function(t){return i.debug(t+": "+t),null!=r&&_.isFunction(r)?r(t):void 0},l(t,u(o,e),s)},h=80,m={value:null},M=function(t,e,n){var i;try{return t.apply(e,n)}catch(r){return i=r,m.value=i,m}},b=function(t,e,n,r){var o,s;return s=M(t,e,r),s===m&&(o="error within chunking iterator: "+m.value,i.error(o),n.reject(o)),"cancel safe"===s?!1:!0},d=function(t,e,n){var i,r;return i=t===e,r=e[n],i?r:t[r]},c=function(t,n,i,r){var o;return e.isArray(t)?o=t:(o=n?n:Object.keys(_.omit(t,["length","forEach","map"])),n=o),null==r&&(r=i),e.isArray(o)&&(void 0===o||(null!=o?o.length:void 0)<=0)&&r!==i?i():r(o,n)},p=function(n,i,r,o,s,a,l,u){return c(n,u,function(u,c){var h,f,g,m;for(h=i&&i<u.length?i:u.length,f=l,g=!0;g&&h--&&f<(u?u.length:f+1);)m=d(n,u,f),g=e.isFunction(m)?!0:b(o,void 0,a,[m,f]),++f;if(u){if(!(g&&f<u.length))return a.resolve();if(l=f,i)return null!=s&&_.isFunction(s)&&b(s,void 0,a,[]),t(function(){return p(n,i,r,o,s,a,l,c)},r,!1)}})},g=function(t,e,r,o,s,a,l){var u,d,f;return null==r&&(r=h),null==s&&(s=0),null==a&&(a=1),f=void 0,d=n.defer(),f=d.promise,a?c(t,l,function(){return d.resolve(),f},function(n,i){return p(t,r,a,e,o,d,s,i),f}):(u="pause (delay) must be set from _async!",i.error(u),d.reject(u),f)},x=function(t,e,i,r,o,s,a){var l;return l=[],c(t,a,function(){return n.resolve(l)},function(n,a){return g(t,function(t){return l.push(e(t))},i,r,o,s,a).then(function(){return l})})},{each:g,map:x,managePromiseQueue:w,promiseLock:w,defaultChunkSize:h,chunkSizeFrom:function(t,e){return null==e&&(e=void 0),_.isNumber(t)&&(e=t),(s.isFalse(t)||t===!1)&&(e=!1),e}}}])}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var e,n;return n=["extended","included"],e=function(){function e(){}return e.extend=function(e){var i,r,o;for(i in e)o=e[i],t.call(n,i)<0&&(this[i]=o);return null!=(r=e.extended)&&r.apply(this),this},e.include=function(e){var i,r,o;for(i in e)o=e[i],t.call(n,i)<0&&(this.prototype[i]=o);return null!=(r=e.included)&&r.apply(this),this},e}()})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(){}}})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(t){var e;return e={handle:function(n){return n.$on("$destroy",function(){return e.handle(n)}),n.deferred=t.defer(),{getScope:function(){return n}}},mapPromise:function(t,e){var n;return n=e.getScope(),n.deferred.promise.then(function(e){return t.map=e}),n.deferred.promise}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(){var t,n;return n=function(t){return e.isDefined(t.events)&&null!=t.events&&e.isObject(t.events)},t=function(t,e){return n(t)?t:n(e)?e:void 0},{setEvents:function(n,i,r,o){var s;return s=t(i,r),null!=s?_.compact(_.map(s.events,function(t,a){var l;return o&&(l=_(o).contains(a)),s.events.hasOwnProperty(a)&&e.isFunction(s.events[a])&&!l?google.maps.event.addListener(n,a,function(){return i.$evalAsync||(i.$evalAsync=function(){}),i.$evalAsync(t.apply(i,[n,a,r,arguments]))}):void 0})):void 0},removeEvents:function(t){var e,n;if(t)for(e in t)n=t[e],n&&google.maps.event.removeListener(n)}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger",function(){return{fit:function(t,e){var n,i,r,o,s;if(e&&(null!=t?t.length:void 0)){n=new google.maps.LatLngBounds,i=!1;for(r in t)o=t[r],o&&(i||(i=!0),s=_.isFunction(o.getPosition)?o.getPosition():o),n.extend(s);if(i)return e.fitBounds(n)}}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(t,n){var i,r,o,s,a,l;return r=function(t,e,n){return t===e||-1!==n.indexOf(t)},i=function(t){return r(t,!1,["false","FALSE",0,"n","N","no","NO"])},s=function(t){return Array.isArray(t)&&2===t.length?t[1]:e.isDefined(t.type)&&"Point"===t.type?t.coordinates[1]:t.latitude},a=function(t){return Array.isArray(t)&&2===t.length?t[0]:e.isDefined(t.type)&&"Point"===t.type?t.coordinates[0]:t.longitude},o=function(t){return t?Array.isArray(t)&&2===t.length?new google.maps.LatLng(t[1],t[0]):e.isDefined(t.type)&&"Point"===t.type?new google.maps.LatLng(t.coordinates[1],t.coordinates[0]):new google.maps.LatLng(t.latitude,t.longitude):void 0},l=function(t){if(e.isUndefined(t))return!1;if(_.isArray(t)){if(2===t.length)return!0}else if(null!=t&&(null!=t?t.type:void 0)&&"Point"===t.type&&_.isArray(t.coordinates)&&2===t.coordinates.length)return!0;return t&&e.isDefined((null!=t?t.latitude:void 0)&&e.isDefined(null!=t?t.longitude:void 0))?!0:!1},{setCoordsFromEvent:function(t,n){return t?(Array.isArray(t)&&2===t.length?(t[1]=n.lat(),t[0]=n.lng()):e.isDefined(t.type)&&"Point"===t.type?(t.coordinates[1]=n.lat(),t.coordinates[0]=n.lng()):(t.latitude=n.lat(),t.longitude=n.lng()),t):void 0},getLabelPositionPoint:function(t){var e,n;return void 0===t?void 0:(t=/^([-\d\.]+)\s([-\d\.]+)$/.exec(t),e=parseFloat(t[1]),n=parseFloat(t[2]),null!=e&&null!=n?new google.maps.Point(e,n):void 0)},createWindowOptions:function(i,r,s,a){var l;return null!=s&&null!=a&&null!=n?(l=e.extend({},a,{content:this.buildContent(r,a,s),position:null!=a.position?a.position:e.isObject(i)?i.getPosition():o(r.coords)}),null!=i&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):a?a:(t.error("infoWindow defaults not defined"),s?void 0:t.error("infoWindow content not defined"))},buildContent:function(t,e,i){var r,o;return null!=e.content?o=e.content:null!=n?(i=i.replace(/^\s+|\s+$/g,""),r=""===i?"":n(i)(t),r.length>0&&(o=r[0])):o=i,o},defaultDelay:50,isTrue:function(t){return r(t,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:i,isFalsy:function(t){return r(t,!1,[void 0,null])||i(t)},getCoords:o,validateCoords:l,equalCoords:function(t,e){return s(t)===s(e)&&a(t)===a(e)},validatePath:function(t){var n,i,r,o;if(i=0,e.isUndefined(t.type)){if(!Array.isArray(t)||t.length<2)return!1;for(;i<t.length;){if(!(e.isDefined(t[i].latitude)&&e.isDefined(t[i].longitude)||"function"==typeof t[i].lat&&"function"==typeof t[i].lng))return!1;i++}return!0}if(e.isUndefined(t.coordinates))return!1;if("Polygon"===t.type){if(t.coordinates[0].length<4)return!1;n=t.coordinates[0]}else if("MultiPolygon"===t.type){if(o={max:0,index:0},_.forEach(t.coordinates,function(t,e){return t[0].length>this.max?(this.max=t[0].length,this.index=e):void 0},o),r=t.coordinates[o.index],n=r[0],n.length<4)return!1}else{if("LineString"!==t.type)return!1;if(t.coordinates.length<2)return!1;n=t.coordinates}for(;i<n.length;){if(2!==n[i].length)return!1;i++}return!0},convertPathPoints:function(t){var n,i,r,o,s;if(i=0,o=new google.maps.MVCArray,e.isUndefined(t.type))for(;i<t.length;)e.isDefined(t[i].latitude)&&e.isDefined(t[i].longitude)?r=new google.maps.LatLng(t[i].latitude,t[i].longitude):"function"==typeof t[i].lat&&"function"==typeof t[i].lng&&(r=t[i]),o.push(r),i++;else for("Polygon"===t.type?n=t.coordinates[0]:"MultiPolygon"===t.type?(s={max:0,index:0},_.forEach(t.coordinates,function(t,e){return t[0].length>this.max?(this.max=t[0].length,this.index=e):void 0},s),n=t.coordinates[s.index][0]):"LineString"===t.type&&(n=t.coordinates);i<n.length;)o.push(new google.maps.LatLng(n[i][1],n[i][0])),i++;return o},getPath:function(t,e){var n;return null!=e&&_.isString(e)?(n=t,_.each(e.split("."),function(t){return n?n=n[t]:void 0}),n):e},validateBoundPoints:function(t){return e.isUndefined(t.sw.latitude)||e.isUndefined(t.sw.longitude)||e.isUndefined(t.ne.latitude)||e.isUndefined(t.ne.longitude)?!1:!0},convertBoundPoints:function(t){var e;return e=new google.maps.LatLngBounds(new google.maps.LatLng(t.sw.latitude,t.sw.longitude),new google.maps.LatLng(t.ne.latitude,t.ne.longitude))},fitMapBounds:function(t,e){return t.fitBounds(e)}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(t,e){var n,i,r,o;return i=0,o=[],r=function(){return t.all(o)},n=function(t,o,s){return e(function(){return 0>=s?void t.reject("Your maps are not found we have checked the maximum amount of times. :)"):void(i!==o?n(t,o,s-1):t.resolve(r()))},100)},{spawn:function(){var e;return e=t.defer(),o.push(e.promise),i+=1,{instance:i,deferred:e}},promises:r,instances:function(){return i},promise:function(e,i){var r;return null==e&&(e=1),null==i&&(i=50),r=t.defer(),n(r,e,i),r.promise},reset:function(){i=0,o.length=0},decrement:function(){i>0&&(i-=1),o.length&&(o.length-=1)}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(e){var n;return n=function(e){function n(t,e,n,i){this.scope=t,this.element=e,this.attrs=n,this.ctrls=i}return t(n,e),n}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["nemSimpleLogger",function(t){return t.spawn()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapPromise","$q","$timeout",function(i,r){var o;return o=function(i){function o(e){this.scope=e,this.modelsLength=t(this.modelsLength,this),this.updateChild=t(this.updateChild,this),this.destroy=t(this.destroy,this),this.onDestroy=t(this.onDestroy,this),this.setChildScope=t(this.setChildScope,this),this.getChanges=t(this.getChanges,this),this.getProp=t(this.getProp,this),this.setIdKey=t(this.setIdKey,this),this.modelKeyComparison=t(this.modelKeyComparison,this),o.__super__.constructor.call(this),this["interface"]={},this["interface"].scopeKeys=[],this.defaultIdKey="id",this.idKey=void 0}return n(o,i),o.prototype.evalModelHandle=function(t,e){return null!=t&&null!=e?"self"===e?t:(_.isFunction(e)&&(e=e()),r.getPath(t,e)):void 0},o.prototype.modelKeyComparison=function(t,e){var n,i,o;if(n=_.contains(this["interface"].scopeKeys,"coords"),(n&&null!=this.scope.coords||!n)&&(o=this.scope),null==o)throw"No scope set!";return n&&(i=r.equalCoords(this.scopeOrModelVal("coords",o,t),this.scopeOrModelVal("coords",o,e)),!i)?i:i=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(i){return n.scopeOrModelVal(o[i],o,t)===n.scopeOrModelVal(o[i],o,e)}}(this))},o.prototype.setIdKey=function(t){return this.idKey=null!=t.idKey?t.idKey:this.defaultIdKey},o.prototype.setVal=function(t,e,n){var i;return i=this.modelOrKey(t,e),i=n,t},o.prototype.modelOrKey=function(t,e){return null!=e?"self"!==e?r.getPath(t,e):t:void 0},o.prototype.getProp=function(t,e,n){return this.scopeOrModelVal(t,e,n)},o.prototype.getChanges=function(t,e,n){var i,r,o;n&&(e=_.pick(e,n),t=_.pick(t,n)),r={},o={},i={};for(o in t)e&&e[o]===t[o]||(_.isArray(t[o])?r[o]=t[o]:_.isObject(t[o])?(i=this.getChanges(t[o],e?e[o]:null),_.isEmpty(i)||(r[o]=i)):r[o]=t[o]);return r},o.prototype.scopeOrModelVal=function(t,e,n,i){var r,o,s,a;return null==i&&(i=!1),r=function(t,e,n){return null==n&&(n=!1),n?{isScope:t,value:e}:e},a=_.get(e,t),_.isFunction(a)?r(!0,a(n),i):_.isObject(a)?r(!0,a,i):_.isString(a)?(o=a,s=o?"self"===o?n:_.get(n,o):_.get(n,t),_.isFunction(s)?r(!1,s(),i):r(!1,s,i)):r(!0,a,i)},o.prototype.setChildScope=function(t,e,n){var i,r,o,s;for(r in t)o=t[r],i=this.scopeOrModelVal(o,e,n,!0),null!=(null!=i?i.value:void 0)&&(s=i.value,s!==e[o]&&(e[o]=s));return e.model=n},o.prototype.onDestroy=function(){},o.prototype.destroy=function(t){var e;return null==t&&(t=!1),null==this.scope||(null!=(e=this.scope)?e.$$destroyed:void 0)||!this.needToManualDestroy&&!t?this.clean():this.scope.$destroy()},o.prototype.updateChild=function(t,e){return null==e[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):t.updateModel(e)},o.prototype.modelsLength=function(t){var n,i;return null==t&&(t=void 0),n=0,i=t?t:this.scope.models,null==i?n:n=e.isArray(i)||null!=i.length?i.length:Object.keys(i).length},o}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(t,e,n,i){return{didQueueInitPromise:function(t,n){return 0===n.models.length?(e.promiseLock(t,i.promiseTypes.init,null,null,function(){return function(){return i.resolve()}}(this)),!0):!1},figureOutState:function(e,n,i,r){var o,s,a,l,u;return o=[],a={},l=[],u=[],n.models.forEach(function(s){var l;return null==s[e]?t.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(a[s[e]]={},null==i.get(s[e])?o.push(s):(l=i.get(s[e]),r(s,l.clonedModel,n)?void 0:u.push({model:s,child:l})))}),s=i.values(),s.forEach(function(n){var i;return null==n?void t.error("child undefined in ModelsWatcher."):null==n.model?void t.error("child.model undefined in ModelsWatcher."):(i=n.model[e],null==a[i]?l.push(n):void 0)}),{adds:o,removals:l,updates:u}}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(t,e,n){var i,r,o,s,a,l,u,c,d,h,p;return d={create:"create",update:"update","delete":"delete",init:"init"},c={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},p=function(){var t;return t={},t[""+c.IN_PROGRESS]="in-progress",t[""+c.RESOLVED]="resolved",t[""+c.REJECTED]="rejected",t}(),s=function(t){return t.$$state?t.$$state.status===c.IN_PROGRESS:t.hasOwnProperty("$$v")?void 0:!0},a=function(t){return t.$$state?t.$$state.status===c.RESOLVED:t.hasOwnProperty("$$v")?!0:void 0},u=function(t){return p[t]||"done w error"},i=function(e){var n,i,r;return n=t.defer(),i=t.all([e,n.promise]),r=t.defer(),e.then(n.resolve,function(){},function(t){return n.notify(t),r.notify(t)}),i.then(function(t){return r.resolve(t[0]||t[1])},function(t){return r.reject(t)}),r.promise.cancel=function(t){return null==t&&(t="canceled"),n.reject(t)},r.promise.notify=function(t){return null==t&&(t="cancel safe"),r.notify(t),e.hasOwnProperty("notify")?e.notify(t):void 0},null!=e.promiseType&&(r.promise.promiseType=e.promiseType),r.promise},r=function(t,e){return{promise:t,promiseType:e}},o=function(){return t.defer()},h=function(){var e;return e=t.defer(),e.resolve.apply(void 0,arguments),e.promise},l=function(i){var r;return _.isFunction(i)?(r=t.defer(),e(function(){var t;return t=i(),r.resolve(t)}),r.promise):void n.error("uiGmapPromise.promise() only accepts functions")},{defer:o,promise:l,resolve:h,promiseTypes:d,isInProgress:s,isResolved:a,promiseStatus:u,ExposedPromise:i,SniffedPromise:r}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var e;return e=function(){function e(){this.removeAll=t(this.removeAll,this),this.slice=t(this.slice,this),this.push=t(this.push,this),this.keys=t(this.keys,this),this.values=t(this.values,this),this.remove=t(this.remove,this),this.put=t(this.put,this),this.stateChanged=t(this.stateChanged,this),this.get=t(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return e.prototype.get=function(t){return this.dict[t]},e.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},e.prototype.put=function(t,e){return null==this.get(t)&&this.length++,this.stateChanged(),this.dict[t]=e},e.prototype.remove=function(t,e){var n;return null==e&&(e=!1),e&&!this.get(t)?void 0:(n=this.dict[t],delete this.dict[t],this.length--,this.stateChanged(),n)},e.prototype.valuesOrKeys=function(t){var e,n;return null==t&&(t="Keys"),this["did"+t+"StateChange"]?(n=[],e=[],_.each(this.dict,function(t,i){return n.push(t),e.push(i)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=n,this.allKeys=e,this["all"+t]):this["all"+t]},e.prototype.values=function(){return this.valuesOrKeys("Vals")},e.prototype.keys=function(){return this.valuesOrKeys()},e.prototype.push=function(t,e){return null==e&&(e="key"),this.put(t[e],t)},e.prototype.slice=function(){return this.keys().map(function(t){return function(e){return t.remove(e)}}(this))},e.prototype.removeAll=function(){return this.slice()},e.prototype.each=function(t){return _.each(this.dict,function(e){return t(e)})},e.prototype.map=function(t){return _.map(this.dict,function(e){return t(e)})},e}()})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(){var t;return t=function(t){return this.setIfChange=function(e,n){var i;return i=this.exp,_.isEqual(n,e)?void 0:t(i,e)},this.sic=this.setIfChange,this}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapEventsHelper",function(n,i,r,o){var s;return s=function(){function s(e,i,o,a){null==i&&(i={}),this.opt_options=null!=o?o:{},this.opt_events=a,this.checkSync=t(this.checkSync,this),this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.destroy=t(this.destroy,this),this.attachEvents=t(this.attachEvents,this),this.clear=t(this.clear,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=s.type,this.clusterer=new NgMapMarkerClusterer(e,i,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return s.type="ClustererMarkerManager",s.prototype.checkKey=function(t){var e;return null==t.key?(e="gMarker.key undefined and it is REQUIRED!!",n.error(e)):void 0},s.prototype.add=function(t){return this.checkKey(t),this.clusterer.addMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(t.key,t),this.checkSync()},s.prototype.update=function(t){return this.remove(t),this.add(t)},s.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},s.prototype.remove=function(t){var e;return this.checkKey(t),e=this.propMapGMarkers.get(t.key),e&&(this.clusterer.removeMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(t.key)),this.checkSync()
},s.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},s.prototype.draw=function(){return this.clusterer.repaint()},s.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},s.prototype.attachEvents=function(t,i){var r,o,s;if(this.listeners=[],e.isDefined(t)&&null!=t&&e.isObject(t)){s=[];for(o in t)r=t[o],t.hasOwnProperty(o)&&e.isFunction(t[o])?(n.info(i+": Attaching event: "+o+" to clusterer"),s.push(this.listeners.push(google.maps.event.addListener(this.clusterer,o,t[o])))):s.push(void 0);return s}},s.prototype.clearEvents=function(){return o.removeEvents(this.listeners),this.listeners=[]},s.prototype.destroy=function(){return this.clearEvents(),this.clear()},s.prototype.fit=function(){return i.fit(this.getGMarkers(),this.clusterer.getMap())},s.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},s.prototype.checkSync=function(){},s}()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(e,n,i){var r;return r=function(){function r(n){this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.handleOptDraw=t(this.handleOptDraw,this),this.clear=t(this.clear,this),this.destroy=t(this.destroy,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=r.type,this.gMap=n,this.gMarkers=new i,this.$log=e,this.$log.info(this)}return r.type="MarkerManager",r.prototype.add=function(t,n){var i,r;if(null==n&&(n=!0),null==t.key)throw r="gMarker.key undefined and it is REQUIRED!!",e.error(r),r;return i=this.gMarkers.get(t.key),i?void 0:(this.handleOptDraw(t,n,!0),this.gMarkers.put(t.key,t))},r.prototype.update=function(t,e){return null==e&&(e=!0),this.remove(t,e),this.add(t,e)},r.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},r.prototype.remove=function(t,e){return null==e&&(e=!0),this.handleOptDraw(t,e,!1),this.gMarkers.get(t.key)?this.gMarkers.remove(t.key):void 0},r.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},r.prototype.draw=function(){var t;return t=[],this.gMarkers.each(function(e){return function(n){return n.isDrawn?void 0:n.doAdd?(n.setMap(e.gMap),n.isDrawn=!0):t.push(n)}}(this)),t.forEach(function(t){return function(e){return e.isDrawn=!1,t.remove(e,!0)}}(this))},r.prototype.destroy=function(){return this.clear()},r.prototype.clear=function(){return this.gMarkers.each(function(t){return t.setMap(null)}),delete this.gMarkers,this.gMarkers=new i},r.prototype.handleOptDraw=function(t,e,n){return e===!0?(t.setMap(n?this.gMap:null),t.isDrawn=!0):(t.isDrawn=!1,t.doAdd=n)},r.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},r.prototype.getGMarkers=function(){return this.gMarkers.values()},r}()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapSpiderfierMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapMarkerSpiderfier",function(n,i,r,o){var s;return s=function(){function s(e,i,a,l,u){null==i&&(i={}),this.opt_options=null!=a?a:{},this.opt_events=l,this.scope=u,this.checkSync=t(this.checkSync,this),this.isSpiderfied=t(this.isSpiderfied,this),this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.destroy=t(this.destroy,this),this.attachEvents=t(this.attachEvents,this),this.clear=t(this.clear,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=s.type,this.markerSpiderfier=new o(e,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return s.type="SpiderfierMarkerManager",s.prototype.checkKey=function(t){var e;return null==t.key?(e="gMarker.key undefined and it is REQUIRED!!",n.error(e)):void 0},s.prototype.add=function(t){return t.setMap(this.markerSpiderfier.map),this.checkKey(t),this.markerSpiderfier.addMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(t.key,t),this.checkSync()},s.prototype.update=function(t){return this.remove(t),this.add(t)},s.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},s.prototype.remove=function(t){var e;return this.checkKey(t),e=this.propMapGMarkers.get(t.key),e&&(t.setMap(null),this.markerSpiderfier.removeMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(t.key)),this.checkSync()},s.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},s.prototype.draw=function(){},s.prototype.clear=function(){return this.removeMany(this.getGMarkers())},s.prototype.attachEvents=function(t,i){return e.isDefined(t)&&null!=t&&e.isObject(t)?_.each(t,function(r){return function(o,s){return t.hasOwnProperty(s)&&e.isFunction(t[s])?(n.info(i+": Attaching event: "+s+" to markerSpiderfier"),r.markerSpiderfier.addListener(s,function(){return r.scope.$evalAsync("spiderfy"===s||"unspiderfy"===s?t[s].apply(t,arguments):t[s].apply(t,[arguments[0],s,arguments[0].model,arguments]))})):void 0}}(this)):void 0},s.prototype.clearEvents=function(t,i){var r,o;if(e.isDefined(t)&&null!=t&&e.isObject(t))for(o in t)r=t[o],t.hasOwnProperty(o)&&e.isFunction(t[o])&&(n.info(i+": Clearing event: "+o+" to markerSpiderfier"),this.markerSpiderfier.clearListeners(o))},s.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},s.prototype.fit=function(){return i.fit(this.getGMarkers(),this.markerSpiderfier.map)},s.prototype.getGMarkers=function(){return this.markerSpiderfier.getMarkers()},s.prototype.isSpiderfied=function(){return _.find(this.getGMarkers(),function(t){return null!=(null!=t?t._omsData:void 0)})},s.prototype.checkSync=function(){},s}()}])}.call(this),function(){e.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(t){var n,i;return n=function(e,n,i){return google.maps.event.addListener(e,n,function(){return i.apply(this,arguments),t(function(){},!0)})},i=function(t,i,r){var o;return r?n(t,i,r):(o=[],e.forEach(i,function(e,i){return o.push(n(t,i,e))}),function(){return e.forEach(o,function(t){return google.maps.event.removeListener(t)}),o=null})}}])}.call(this),function(){e.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(t){return function(n,i,r,o){var s,a,l,u,c,d,h,p,f;return u=!1,p=i.$eval(r),i["static"]||(c={set_at:function(t){var e;if(!u&&(e=n.getAt(t)))return e.lng&&e.lat?(p[t].latitude=e.lat(),p[t].longitude=e.lng()):p[t]=e},insert_at:function(t){var e;if(!u&&(e=n.getAt(t)))return e.lng&&e.lat?p.splice(t,0,{latitude:e.lat(),longitude:e.lng()}):p.splice(t,0,e)},remove_at:function(t){return u?void 0:p.splice(t,1)}},"Polygon"===p.type?s=p.coordinates[0]:"LineString"===p.type&&(s=p.coordinates),a={set_at:function(t){var e;if(!u&&(e=n.getAt(t),e&&e.lng&&e.lat))return s[t][1]=e.lat(),s[t][0]=e.lng()},insert_at:function(t){var e;if(!u&&(e=n.getAt(t),e&&e.lng&&e.lat))return s.splice(t,0,[e.lng(),e.lat()])},remove_at:function(t){return u?void 0:s.splice(t,1)}},h=t(n,e.isUndefined(p.type)?c:a)),d=function(t){var e,i,r,s,a,l,c,d;if(u=!0,l=n,e=!1,t){for(i=0,c=l.getLength(),s=t.length,r=Math.min(c,s),a=void 0;r>i;)d=l.getAt(i),a=t[i],"function"==typeof a.equals?a.equals(d)||(l.setAt(i,a),e=!0):(d.lat()!==a.latitude||d.lng()!==a.longitude)&&(l.setAt(i,new google.maps.LatLng(a.latitude,a.longitude)),e=!0),i++;for(;s>i;)a=t[i],l.push("function"==typeof a.lat&&"function"==typeof a.lng?a:new google.maps.LatLng(a.latitude,a.longitude)),e=!0,i++;for(;c>i;)l.pop(),e=!0,i++}return u=!1,e?o(l):void 0},l=function(t){var e,i,r,s,a,l,c,d,h;if(u=!0,c=n,i=!1,t){for("Polygon"===p.type?e=t.coordinates[0]:"LineString"===p.type&&(e=t.coordinates),r=0,d=c.getLength(),a=e.length,s=Math.min(d,a),l=void 0;s>r;)h=c.getAt(r),l=e[r],(h.lat()!==l[1]||h.lng()!==l[0])&&(c.setAt(r,new google.maps.LatLng(l[1],l[0])),i=!0),r++;for(;a>r;)l=e[r],c.push(new google.maps.LatLng(l[1],l[0])),i=!0,r++;for(;d>r;)c.pop(),i=!0,r++}return u=!1,i?o(c):void 0},i["static"]||(f=e.isUndefined(p.type)?i.$watchCollection(r,d):i.$watch(r,l,!0)),function(){return h&&(h(),h=null),f?(f(),f=null):void 0}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(t){return{maybeRepaint:function(e){return e?(e.style.opacity=.9,t(function(){return e.style.opacity=1})):void 0}}}])}.call(this),function(){e.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var t,e,n,i;return t=["length","forEach","map"],e=[],n=function(e){return e.forEach=function(n){return _.each(_.omit(e,t),function(t){return _.isFunction(t)?void 0:n(t)})},e},e.push(n),i=function(e){return e.map=function(n){return _.map(_.omit(e,t),function(t){return _.isFunction(t)?void 0:n(t)})},e},e.push(i),{slapMap:i,slapForEach:n,slapAll:function(t){return e.forEach(function(e){return e(t)}),t}}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(i,r,o){var s;return s=function(i){function o(){return this.watchProps=t(this.watchProps,this),this.buildOpts=t(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(t){return e.isDefined(null!=t?t.model:void 0)?t.model:t},o.prototype.buildOpts=function(t,n,i){var o,s,a;return null==t&&(t={}),null==i&&(i={}),this.scope?this.map?(o=this.getCorrectModel(this.scope),a=this.scopeOrModelVal("stroke",this.scope,o),s=e.extend(t,this.DEFAULTS,{map:this.map,strokeColor:null!=a?a.color:void 0,strokeOpacity:null!=a?a.opacity:void 0,strokeWeight:null!=a?a.weight:void 0}),e.forEach(e.extend(i,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(t){return function(i,r){var a;return a=n?n[r]:t.scopeOrModelVal(r,t.scope,o),s[r]=e.isUndefined(a)?i:o[r]}}(this)),s["static"]&&(s.editable=!1),s):void r.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void r.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},o.prototype.watchProps=function(t){return null==t&&(t=this.props),t.forEach(function(t){return function(e){return null!=t.attrs[e]||null!=t.attrs[null!=e?e.prop:void 0]?(null!=e?e.isColl:void 0)?t.scope.$watchCollection(e.prop,t.setMyOptions):t.scope.$watch(e,t.setMyOptions):void 0}}(this))},o}(o)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{path:t},e,{geodesic:!1})},n}(e)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.buildOpts=function(t,n,r){var o,s;return s=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,s),t=e.extend(t,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),i.__super__.buildOpts.call(this,t,n,r)},i}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{path:t},e,{geodesic:!1})},n}(e)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{bounds:t},e)},n}(e)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e,i){return n.__super__.buildOpts.call(this,{center:t,radius:e},i)},n}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(t,n){return _.extend(n,{createOptions:function(t,i,r,o){var s;return null==r&&(r={}),s=e.extend({},r,{position:null!=r.position?r.position:n.getCoords(t),visible:null!=r.visible?r.visible:n.validateCoords(t)}),(null!=r.icon||null!=i)&&(s=e.extend(s,{icon:null!=r.icon?r.icon:i})),null!=o&&(s.map=o),s},isLabel:function(t){return null==t?!1:null!=t.labelContent||null!=t.labelAnchor||null!=t.labelClass||null!=t.labelStyle||null!=t.labelVisible}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(i,r,o,s,a){return function(i,r){var l;return l=function(i){function l(n,i,s,l,u,c){var d;this.scope=n,this.attrs=i,this.map=s,this.defaults=l,this.model=u,this.clean=t(this.clean,this),this.clonedModel=_.clone(this.model,!0),this.isDragging=!1,this.internalEvents={dragend:function(t){return function(){return _.defer(function(){return t.isDragging=!1})}}(this),dragstart:function(t){return function(){return t.isDragging=!0}}(this)},d=function(t){return function(){var n;if(!t.isDragging)return t.pathPoints=t.convertPathPoints(t.scope.path),null!=t.gObject&&t.clean(),null!=t.scope.model&&(n=t.scope),t.pathPoints.length>0&&(t.gObject=r(t.buildOpts(t.pathPoints,n))),t.gObject?(o(t.gObject.getPath(),t.scope,"path",function(e){return t.pathPoints=e,null!=c?c():void 0}),e.isDefined(t.scope.events)&&e.isObject(t.scope.events)&&(t.listeners=t.model?a.setEvents(t.gObject,t.scope,t.model):a.setEvents(t.gObject,t.scope,t.scope)),t.internalListeners=t.model?a.setEvents(t.gObject,{events:t.internalEvents},t.model):a.setEvents(t.gObject,{events:t.internalEvents},t.scope)):void 0}}(this),d(),this.scope.$watch("path",function(t){return function(e,n){return _.isEqual(e,n)&&t.gObject?void 0:d()}}(this),!0),!this.scope["static"]&&e.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(t){return function(e,n){var i;return e!==n?(e=!t.isFalse(e),null!=(i=t.gObject)?i.setEditable(e):void 0):void 0}}(this),!0),e.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(t){return function(e,n){var i;return e!==n?(e=!t.isFalse(e),null!=(i=t.gObject)?i.setDraggable(e):void 0):void 0}}(this),!0),e.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(t){return function(e,n){var i;return e!==n&&(e=!t.isFalse(e)),null!=(i=t.gObject)?i.setVisible(e):void 0}}(this),!0),e.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(t){return function(e,n){var i;return e!==n?(e=!t.isFalse(e),null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(t){return function(e,n){var i;return e!==n&&null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(t){return function(){return t.clean(),t.scope=null}}(this)),e.isDefined(this.scope.fill)&&e.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(t){return function(e,n){return e!==n?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this)),e.isDefined(this.scope.fill)&&e.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(t){return function(e,n){return e!==n?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this)),e.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(t){return function(e,n){return e!==n?t.gObject.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this))}return n(l,i),l.include(s),l.prototype.clean=function(){var t;return a.removeEvents(this.listeners),a.removeEvents(this.internalListeners),null!=(t=this.gObject)&&t.setMap(null),this.gObject=null},l}(i)}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(t,e){var n,i;return n=function(t,e,n){var i,r;return r=new google.maps.Polyline({map:t,clickable:!1}),i=google.maps.event.addListener(t,"mousemove",function(t){return r.getPath().push(t.latLng)}),void google.maps.event.addListenerOnce(t,"mouseup",function(){var o;return google.maps.event.removeListener(i),o=r.getPath(),r.setMap(null),e.push(new google.maps.Polygon({map:t,path:o})),r=null,google.maps.event.clearListeners(t.getDiv(),"mousedown"),n()})},i=function(i,r){var o,s;return this.map=i,o=function(e){return function(){var n;return n={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},t.info("disabling map move"),e.map.setOptions(n)}}(this),s=function(t){return function(){var e,n;return e={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(n=t.deferred)&&n.resolve(),_.defer(function(){return t.map.setOptions(_.extend(e,r.options))})}}(this),this.engage=function(i){return function(r){return i.polys=r,i.deferred=e.defer(),o(),t.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(i.map.getDiv(),"mousedown",function(){return n(i.map,i.polys,s)}),i.deferred.promise}}(this),this}}])}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(e,r,o,s,a,l,u,c,d){var h;return h=function(e){function h(t,e,i,r,s,l,u,c,f,g){var m;this.model=e,this.keys=i,this.gMap=r,this.defaults=s,this.doClick=l,this.gManager=u,this.doDrawSelf=null!=c?c:!0,this.trackModel=null!=f?f:!0,this.needRedraw=null!=g?g:!1,this.internalEvents=n(this.internalEvents,this),this.setLabelOptions=n(this.setLabelOptions,this),this.setOptions=n(this.setOptions,this),this.setIcon=n(this.setIcon,this),this.setCoords=n(this.setCoords,this),this.isNotValid=n(this.isNotValid,this),this.maybeSetScopeValue=n(this.maybeSetScopeValue,this),this.createMarker=n(this.createMarker,this),this.setMyScope=n(this.setMyScope,this),this.updateModel=n(this.updateModel,this),this.handleModelChanges=n(this.handleModelChanges,this),this.destroy=n(this.destroy,this),this.clonedModel=_.clone(this.model,!0),this.deferred=d.defer(),_.each(this.keys,function(t){return function(e,n){var i;return i=t.keys[n],null!=i&&!_.isFunction(i)&&_.isString(i)?t[n+"Key"]=i:void 0}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),h.__super__.constructor.call(this,t),this.scope.getGMarker=function(t){return function(){return t.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(t){return function(e,n){return e!==n?t.handleModelChanges(e,n):void 0}}(this),!0)):(m=new a(function(e){return function(n){return e.firstTime?void 0:e.setMyScope(n,t)}}(this),!1),_.each(this.keys,function(e,n){return t.$watch(n,m.sic,!0)})),this.scope.$on("$destroy",function(t){return function(){return p(t)}}(this)),this.createMarker(this.model),o.info(this)}var p;return i(h,e),h.include(r),h.include(s),h.include(l),p=function(t){return null!=(null!=t?t.gObject:void 0)&&(t.removeEvents(t.externalListeners),t.removeEvents(t.internalListeners),null!=t?t.gObject:void 0)?(t.removeFromManager&&t.gManager.remove(t.gObject),t.gObject.setMap(null),t.gObject=null):void 0},h.prototype.destroy=function(t){return null==t&&(t=!0),this.removeFromManager=t,this.scope.$destroy()},h.prototype.handleModelChanges=function(t,e){var n,i,r;return n=this.getChanges(t,e,u.keys),this.firstTime?void 0:(i=0,r=_.keys(n).length,_.each(n,function(n){return function(o,s){var a;return i+=1,a=r===i,n.setMyScope(s,t,e,!1,!0,a),n.needRedraw=!0}}(this)))},h.prototype.updateModel=function(t){return this.clonedModel=_.clone(t,!0),this.setMyScope("all",t,this.model)},h.prototype.renderGMarker=function(e,n){var i,r,s;if(null==e&&(e=!0),i=this.getProp("coords",this.scope,this.model),null!=(null!=(s=this.gManager)?s.isSpiderfied:void 0)&&(r=this.gManager.isSpiderfied()),null!=i){if(!this.validateCoords(i))return void o.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=n&&n(),e&&this.gObject&&this.gManager.add(this.gObject),r)return this.gManager.markerSpiderfier.spiderListener(this.gObject,t.event)}else if(e&&this.gObject)return this.gManager.remove(this.gObject)},h.prototype.setMyScope=function(t,e,n,i,r){var o;switch(null==n&&(n=void 0),null==i&&(i=!1),null==r&&(r=!0),null==e?e=this.model:this.model=e,this.gObject||(this.setOptions(this.scope,r),o=!0),t){case"all":return _.each(this.keys,function(t){return function(o,s){return t.setMyScope(s,e,n,i,r)}}(this));case"icon":return this.maybeSetScopeValue("icon",e,n,this.iconKey,this.evalModelHandle,i,this.setIcon,r);case"coords":return this.maybeSetScopeValue("coords",e,n,this.coordsKey,this.evalModelHandle,i,this.setCoords,r);case"options":if(!o)return this.createMarker(e,n,i,r)}},h.prototype.createMarker=function(t,e,n,i){return null==e&&(e=void 0),null==n&&(n=!1),null==i&&(i=!0),this.maybeSetScopeValue("options",t,e,this.optionsKey,this.evalModelHandle,n,this.setOptions,i),this.firstTime=!1},h.prototype.maybeSetScopeValue=function(t,e,n,i,r,o,s,a){return null==s&&(s=void 0),null==a&&(a=!0),null!=s?s(this.scope,a):void 0},h.doDrawSelf&&doDraw&&h.gManager.draw(),h.prototype.isNotValid=function(t,e){var n,i;return null==e&&(e=!0),i=e?void 0===this.gObject:!1,n=this.trackModel?!1:t.$id!==this.scope.$id,n||i},h.prototype.setCoords=function(t,e){return null==e&&(e=!0),this.isNotValid(t)||null==this.gObject?void 0:this.renderGMarker(e,function(e){return function(){var n,i,r;return i=e.getProp("coords",t,e.model),n=e.getCoords(i),r=e.gObject.getPosition(),null==r||null==n||n.lng()!==r.lng()||n.lat()!==r.lat()?(e.gObject.setPosition(n),e.gObject.setVisible(e.validateCoords(i))):void 0}}(this))},h.prototype.setIcon=function(t,e){return null==e&&(e=!0),this.isNotValid(t)||null==this.gObject?void 0:this.renderGMarker(e,function(e){return function(){var n,i,r;return r=e.gObject.getIcon(),i=e.getProp("icon",t,e.model),r!==i?(e.gObject.setIcon(i),n=e.getProp("coords",t,e.model),e.gObject.setPosition(e.getCoords(n)),e.gObject.setVisible(e.validateCoords(n))):void 0}}(this))},h.prototype.setOptions=function(t,e){var n;if(null==e&&(e=!0),!this.isNotValid(t,!1)){if(this.renderGMarker(e,function(e){return function(){var n,i,r;return i=e.getProp("coords",t,e.model),r=e.getProp("icon",t,e.model),n=e.getProp("options",t,e.model),e.opts=e.createOptions(i,r,n),e.isLabel(e.gObject)!==e.isLabel(e.opts)&&null!=e.gObject&&(e.gManager.remove(e.gObject),e.gObject=void 0),null!=e.gObject&&e.gObject.setOptions(e.setLabelOptions(e.opts)),e.gObject||(e.isLabel(e.opts)?e.gObject=new MarkerWithLabel(e.setLabelOptions(e.opts)):e.opts.content?(e.gObject=new RichMarker(e.opts),e.gObject.getIcon=e.gObject.getContent,e.gObject.setIcon=e.gObject.setContent):e.gObject=new google.maps.Marker(e.opts),_.extend(e.gObject,{model:e.model})),e.externalListeners&&e.removeEvents(e.externalListeners),e.internalListeners&&e.removeEvents(e.internalListeners),e.externalListeners=e.setEvents(e.gObject,e.scope,e.model,["dragend"]),e.internalListeners=e.setEvents(e.gObject,{events:e.internalEvents(),$evalAsync:function(){}},e.model),null!=e.id?e.gObject.key=e.id:void 0}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==c.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");(null!=(n=this.gObject)?n.getMap():0)&&this.gManager.type===c.type||(o.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},h.prototype.setLabelOptions=function(t){return t.labelAnchor&&(t.labelAnchor=this.getLabelPositionPoint(t.labelAnchor)),t},h.prototype.internalEvents=function(){return{dragend:function(t){return function(e,n,i,r){var o,s,a;return s=t.trackModel?t.scope.model:t.model,a=t.setCoordsFromEvent(t.modelOrKey(s,t.coordsKey),t.gObject.getPosition()),s=t.setVal(i,t.coordsKey,a),o=t.scope.events,null!=(null!=o?o.dragend:void 0)&&o.dragend(e,n,s,r),t.scope.$apply()}}(this),click:function(t){return function(e,n,i,r){var o;return o=t.getProp("click",t.scope,t.model),t.doClick&&null!=o?t.scope.$evalAsync(o(e,n,t.model,r)):void 0}}(this)}},h}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(e,n){var i,r,o;return o=function(t){return new google.maps.Polygon(t)},r=new e(n,o),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(e,n){var i,r,o;return o=function(t){return new google.maps.Polyline(t)},r=e(n,o),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r)}])}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(r,o,s,a,l,u,c,d){var h;return h=function(r){function h(t,e,i,r,o,a,l,u,c){var d;this.model=t,this.scope=e,this.opts=i,this.isIconVisibleOnClick=r,this.mapCtrl=o,this.markerScope=a,this.element=l,this.needToManualDestroy=null!=u?u:!1,this.markerIsVisibleAfterWindowClose=null!=c?c:!0,this.updateModel=n(this.updateModel,this),this.destroy=n(this.destroy,this),this.remove=n(this.remove,this),this.getLatestPosition=n(this.getLatestPosition,this),this.hideWindow=n(this.hideWindow,this),this.showWindow=n(this.showWindow,this),this.handleClick=n(this.handleClick,this),this.watchOptions=n(this.watchOptions,this),this.watchCoords=n(this.watchCoords,this),this.createGWin=n(this.createGWin,this),this.watchElement=n(this.watchElement,this),this.watchAndDoShow=n(this.watchAndDoShow,this),this.doShow=n(this.doShow,this),this.clonedModel=_.clone(this.model,!0),this.getGmarker=function(){var t,e;return null!=(null!=(t=this.markerScope)?t.getGMarker:void 0)&&null!=(e=this.markerScope)?e.getGMarker():void 0},this.listeners=[],this.createGWin(),d=this.getGmarker(),null!=d&&d.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(t){return function(){return t.destroy()}}(this)),s.info(this)}return i(h,r),h.include(o),h.include(d),h.prototype.doShow=function(t){return this.scope.show===!0||t?this.showWindow():this.hideWindow()},h.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},h.prototype.watchElement=function(){return this.scope.$watch(function(t){return function(){var e,n;if(t.element||t.html)return t.html!==t.element.html()&&t.gObject?(null!=(e=t.opts)&&(e.content=void 0),n=t.gObject.isOpen(),t.remove(),t.createGWin(n)):void 0}}(this))},h.prototype.createGWin=function(e){var n,i,r,o,s;return null==e&&(e=!1),r=this.getGmarker(),i={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),i=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),n=this.scope.options?this.scope.options:i,this.opts=this.createWindowOptions(r,this.markerScope||this.scope,this.html,n),null!=this.opts?(this.gObject||(this.gObject=this.opts.boxClass&&t.InfoBox&&"function"==typeof t.InfoBox?new t.InfoBox(this.opts):new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(t){return function(){return r&&(r.setAnimation(t.oldMarkerAnimation),t.markerIsVisibleAfterWindowClose&&_.delay(function(){return r.setVisible(!1),r.setVisible(t.markerIsVisibleAfterWindowClose)},250)),t.gObject.close(),t.model.show=!1,null!=t.scope.closeClick?t.scope.$evalAsync(t.scope.closeClick()):t.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)&&null!=(s=o.options)?s.forceClick:void 0)||e),this.doShow(this.gObject.isOpen())):void 0},h.prototype.watchCoords=function(){var t;return t=null!=this.markerScope?this.markerScope:this.scope,t.$watch("coords",function(t){return function(e,n){var i;if(e!==n){if(null==e)t.hideWindow();else if(!t.validateCoords(e))return void s.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(t.model));
if(i=t.getCoords(e),t.doShow(),t.gObject.setPosition(i),t.opts)return t.opts.position=i}}}(this),!0)},h.prototype.watchOptions=function(){return this.scope.$watch("options",function(t){return function(e,n){if(e!==n&&(t.opts=e,null!=t.gObject)){if(t.gObject.setOptions(t.opts),null!=t.opts.visible&&t.opts.visible)return t.showWindow();if(null!=t.opts.visible)return t.hideWindow()}}}(this),!0)},h.prototype.handleClick=function(t){var e,n;if(null!=this.gObject)return n=this.getGmarker(),e=function(t){return function(){return null==t.gObject&&t.createGWin(),t.showWindow(),null!=n?(t.initialMarkerVisibility=n.getVisible(),t.oldMarkerAnimation=n.getAnimation(),n.setVisible(t.isIconVisibleOnClick)):void 0}}(this),t&&e(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:e}},this.model)):void 0},h.prototype.showWindow=function(){var t,n,i;return null!=this.gObject?(n=function(t){return function(){var e,n,i;if(!t.gObject.isOpen()){if(n=t.getGmarker(),null!=t.gObject&&null!=t.gObject.getPosition&&(i=t.gObject.getPosition()),n&&(i=n.getPosition()),!i)return;if(t.gObject.open(t.mapCtrl,n),e=t.gObject.isOpen(),t.model.show!==e)return t.model.show=e}}}(this),this.scope.templateUrl?l.get(this.scope.templateUrl,{cache:u}).then(function(t){return function(i){var r,o;return o=t.scope.$new(),e.isDefined(t.scope.templateParameter)&&(o.parameter=t.scope.templateParameter),r=a(i.data)(o),t.gObject.setContent(r[0]),n()}}(this)):this.scope.template?(i=this.scope.$new(),e.isDefined(this.scope.templateParameter)&&(i.parameter=this.scope.templateParameter),t=a(this.scope.template)(i),this.gObject.setContent(t[0]),n()):n()):void 0},h.prototype.hideWindow=function(){return null!=this.gObject&&this.gObject.isOpen()?this.gObject.close():void 0},h.prototype.getLatestPosition=function(t){var e;return e=this.getGmarker(),null==this.gObject||null==e||t?t?this.gObject.setPosition(t):void 0:this.gObject.setPosition(e.getPosition())},h.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},h.prototype.destroy=function(t){var e;return null==t&&(t=!1),this.remove(),null==this.scope||(null!=(e=this.scope)?e.$$destroyed:void 0)||!this.needToManualDestroy&&!t?void 0:this.scope.$destroy()},h.prototype.updateModel=function(t){return this.clonedModel=_.clone(t,!0),_.extend(this.model,this.clonedModel)},h}(r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise","uiGmapFitHelper",function(i,r,o,s,a,l,u,c){return function(i,d,h){var p;return p=function(o){function p(e,n,o,s,l){this.element=n,this.attrs=o,this.gMap=s,this.defaults=l,this.maybeFit=t(this.maybeFit,this),this.createChild=t(this.createChild,this),this.pieceMeal=t(this.pieceMeal,this),this.createAllNew=t(this.createAllNew,this),this.watchIdKey=t(this.watchIdKey,this),this.createChildScopes=t(this.createChildScopes,this),this.watchDestroy=t(this.watchDestroy,this),this.onDestroy=t(this.onDestroy,this),this.rebuildAll=t(this.rebuildAll,this),this.doINeedToWipe=t(this.doINeedToWipe,this),this.watchModels=t(this.watchModels,this),p.__super__.constructor.call(this,e),this["interface"]=i,this.$log=r,this.plurals=new a,_.each(i.scopeKeys,function(t){return function(e){return t[e+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return n(p,o),p.include(s),p.prototype.watchModels=function(t){return t.$watch("models",function(e){return function(n,i){return n!==i?e.doINeedToWipe(n)||t.doRebuildAll?e.rebuildAll(t,!0,!0):e.createChildScopes(!1):void 0}}(this),!0)},p.prototype.doINeedToWipe=function(t){var e;return e=null!=t?0===t.length:!0,this.plurals.length>0&&e},p.prototype.rebuildAll=function(t,e,n){return this.onDestroy(n).then(function(t){return function(){return e?t.createChildScopes():void 0}}(this))},p.prototype.onDestroy=function(){return p.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,u.promiseTypes["delete"],void 0,void 0,function(t){return function(){return l.each(t.plurals.values(),function(t){return t.destroy(!0)},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}}(this))},p.prototype.watchDestroy=function(t){return t.$on("$destroy",function(e){return function(){return e.rebuildAll(t,!1,!0)}}(this))},p.prototype.createChildScopes=function(t){return null==t&&(t=!0),e.isUndefined(this.scope.models)?void this.$log.error("No models to create "+h+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),t?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},p.prototype.watchIdKey=function(t){return this.setIdKey(t),t.$watch("idKey",function(e){return function(n,i){return n!==i&&null==n?(e.idKey=n,e.rebuildAll(t,!0,!0)):void 0}}(this))},p.prototype.createAllNew=function(t,e){var n;return null==e&&(e=!1),this.models=t.models,this.firstTime&&(this.watchModels(t),this.watchDestroy(t)),this.didQueueInitPromise(this,t)?void 0:(n=null,l.promiseLock(this,u.promiseTypes.create,"createAllNew",function(t){return n=t},function(e){return function(){return l.map(t.models,function(t){var i;return i=e.createChild(t,e.gMap),n&&(r.debug("createNew should fall through safely"),i.isEnabled=!1),i.pathPoints.getArray()},l.chunkSizeFrom(t.chunk)).then(function(t){return e.maybeFit(t),e.firstTime=!1})}}(this)))},p.prototype.pieceMeal=function(t,e){var n,i;return null==e&&(e=!0),t.$$destroyed?void 0:(n=null,i=null,this.models=t.models,null!=t&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,u.promiseTypes.update,"pieceMeal",function(t){return n=t},function(e){return function(){return u.promise(function(){return e.figureOutState(e.idKey,t,e.plurals,e.modelKeyComparison)}).then(function(r){return i=r,i.updates.length&&l.each(i.updates,function(t){return _.extend(t.child.scope,t.model),t.child.model=t.model}),l.each(i.removals,function(t){return null!=t?(t.destroy(),e.plurals.remove(t.model[e.idKey]),n):void 0},l.chunkSizeFrom(t.chunk))}).then(function(){return l.each(i.adds,function(t){return n&&r.debug("pieceMeal should fall through safely"),e.createChild(t,e.gMap),n},l.chunkSizeFrom(t.chunk)).then(function(){return e.maybeFit()})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0)))},p.prototype.createChild=function(t,e){var n,r;return r=this.scope.$new(!1),this.setChildScope(i.scopeKeys,r,t),r.$watch("model",function(t){return function(e,n){return e!==n?t.setChildScope(r,e):void 0}}(this),!0),r["static"]=this.scope["static"],n=new d(r,this.attrs,e,this.defaults,t,function(t){return function(){return t.maybeFit()}}(this)),null==t[this.idKey]?void this.$log.error(h+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(t[this.idKey],n),n)},p.prototype.maybeFit=function(t){return null==t&&(t=this.plurals.map(function(t){return t.pathPoints})),this.scope.fit?(t=_.flatten(t),c.fit(t,this.gMap)):void 0},p}(o)}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(n,i,r,o,s){var a,l;return l=function(t,e){return t.settingFromDirective=!0,e(),i(function(){return t.settingFromDirective=!1})},a=function(i){function s(t,i,o,s,a){var u,c,d;this.attrs=o,this.map=s,this.DEFAULTS=a,this.scope=t,d=null,u=function(t){return function(){return d=null,null!=t.listeners?(t.removeEvents(t.listeners),t.listeners=void 0):void 0}}(this),c=new google.maps.Circle(this.buildOpts(r.getCoords(t.center),t.radius)),this.setMyOptions=function(e){return function(n,i){return t.settingFromDirective?void 0:_.isEqual(n,i)?void 0:c.setOptions(e.buildOpts(r.getCoords(t.center),t.radius))}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return c}),u(),this.listeners=this.setEvents(c,t,t,["radius_changed"])||[],this.listeners.push(google.maps.event.addListener(c,"radius_changed",function(){var n,i;return n=c.getRadius(),n!==d?(d=n,i=function(){return l(t,function(){var e,i;return n!==t.radius&&(t.radius=n),(null!=(e=t.events)?e.radius_changed:void 0)&&_.isFunction(null!=(i=t.events)?i.radius_changed:void 0)?t.events.radius_changed(c,"radius_changed",t,arguments):void 0})},e.mock?i():t.$evalAsync(function(){return i()})):void 0})),this.listeners.push(google.maps.event.addListener(c,"center_changed",function(){return t.$evalAsync(function(){return l(t,function(){return e.isDefined(t.center.type)?(t.center.coordinates[1]=c.getCenter().lat(),t.center.coordinates[0]=c.getCenter().lng()):(t.center.latitude=c.getCenter().lat(),t.center.longitude=c.getCenter().lng())})})})),t.$on("$destroy",function(){return function(){return u(),c.setMap(null)}}(this)),n.info(this)}return t(s,i),s.include(r),s.include(o),s}(s)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(e,n,i,r){var o;return o=function(e){function n(t,e,n,i){var r,o;this.scope=t,this.attrs=n,this.map=i,r=new google.maps.drawing.DrawingManager(this.scope.options),r.setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return r}),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(t){return null!=r?r.setOptions(t):void 0},!0),null!=this.scope.events&&(o=this.setEvents(r,this.scope,this.scope),this.scope.$watch("events",function(t){return function(e,n){return _.isEqual(e,n)?void 0:(null!=o&&t.removeEvents(o),o=t.setEvents(r,t.scope,t.scope))}}(this))),this.scope.$on("$destroy",function(t){return function(){return null!=o&&t.removeEvents(o),r.setMap(null),r=null}}(this))}return t(n,e),n.include(r),n}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,s,a){if(this.scope=n,this.element=i,this.attrs=s,this.map=a,this.onWatch=t(this.onWatch,this),this.watch=t(this.watch,this),this.validateScope=t(this.validateScope,this),o.__super__.constructor.call(this,this.scope),this.$log=r,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=e.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(t){return function(){return t.onDestroy(t.scope)}}(this))}return n(o,i),o.prototype.DEFAULTS={},o.prototype.validateScope=function(t){var e;return null==t?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(e=null!=t.coords,e?e:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},o.prototype.watch=function(t,e,n){return null==n&&(n=!0),e.$watch(t,function(n){return function(i,r){return _.isEqual(i,r)?void 0:n.onWatch(t,e,i,r)}}(this),n)},o.prototype.onWatch=function(){},o}(i)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(e,n,i){var r;return r=function(e){function r(t,e,n,o,s,a,l,u){r.__super__.constructor.call(this,t),this.$log=i,this.$timeout=s,this.$compile=a,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=t.options&&(this.DEFAULTS=t.options)}return t(r,e),r.include(n),r.prototype.getItem=function(t,e,n){return"models"===e?t[e][n]:t[e].get(n)},r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(i,r){var o;return o=function(i){function o(n,i,o,s,a,l){return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.onLayerCreated=null!=a?a:void 0,this.$log=null!=l?l:r,this.createGoogleLayer=t(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,e.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(t){return function(e,n){return e!==n?(t.doShow=e,t.gObject.setMap(e?t.gMap:null)):void 0}}(this),!0),this.scope.$watch("options",function(t){return function(e,n){return e!==n&&t.doShow?t.gObject.setOptions(e):void 0}}(this),!0),void this.scope.$on("$destroy",function(t){return function(){return t.gObject.setMap(null)}}(this)))}return n(o,i),o.prototype.createGoogleLayer=function(){var t;return this.gObject=null==this.attrs.options?void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&this.doShow&&this.gObject.setMap(this.gMap),null!=this.gObject&&null!=this.onLayerCreated&&"function"==typeof(t=this.onLayerCreated(this.scope,this.gObject))?t(this.gObject):void 0},o}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,o,s,a){return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.$log=null!=a?a:r,this.hideOverlay=t(this.hideOverlay,this),this.showOverlay=t(this.showOverlay,this),this.refreshMapType=t(this.refreshMapType,this),this.createMapType=t(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),e.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(t){return function(e,n){return e!==n?(t.doShow=e,e?t.showOverlay():t.hideOverlay()):void 0}}(this),!0),this.scope.$watch("options",function(t){return function(e,n){return _.isEqual(e,n)?void 0:t.refreshMapType()}}(this),!0),e.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(t){return function(e,n){return _.isEqual(e,n)?void 0:t.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(t){return function(){return t.hideOverlay(),t.mapType=null}}(this)))}return n(o,i),o.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),e.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},o.prototype.refreshMapType=function(){return this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap?this.showOverlay():void 0},o.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},o.prototype.hideOverlay=function(){var t;return t=!1,this.gMap.overlayMapTypes.forEach(function(e){return function(n,i){t||n.layerId!==e.id||(t=!0,e.gMap.overlayMapTypes.removeAt(i))}}(this))},o}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger","uiGmapSpiderfierMarkerManager",function(i,r,o,s,a,l,u,c,d,h,p,f,g){var m,v;return v=function(t,e){return e.plurals=new o,e.scope.plurals=e.plurals,e},m=function(i){function c(e,n,i,r){this.maybeExecMappedEvent=t(this.maybeExecMappedEvent,this),this.onDestroy=t(this.onDestroy,this),this.newChildMarker=t(this.newChildMarker,this),this.pieceMeal=t(this.pieceMeal,this),this.rebuildAll=t(this.rebuildAll,this),this.createAllNew=t(this.createAllNew,this),this.bindToTypeEvents=t(this.bindToTypeEvents,this),this.createChildScopes=t(this.createChildScopes,this),this.validateScope=t(this.validateScope,this),this.onWatch=t(this.onWatch,this);var s;c.__super__.constructor.call(this,e,n,i,r),this["interface"]=d,s=this,v(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(t){return function(e,n){return e!==n?t.doRebuildAll=e:void 0}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(t){return function(e,n){if(!_.isEqual(e,n)||!t.modelsRendered){if(0===e.length&&0===n.length)return;return t.modelsRendered=!0,t.onWatch("models",t.scope,e,n)}}}(this),!this.isTrue(i.modelsbyref)),this.watch("doCluster",this.scope),this.watch("type",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("typeOptions",this.scope),this.watch("typeEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return n(c,i),c.include(p),c.include(r),c.prototype.onWatch=function(t,e,n,i){return"idKey"===t&&n!==i&&(this.idKey=n),this.doRebuildAll||"doCluster"===t||"type"===t?this.rebuildAll(e):this.pieceMeal(e)},c.prototype.validateScope=function(t){var n;return n=e.isUndefined(t.models)||void 0===t.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),c.__super__.validateScope.call(this,t)||n},c.prototype.createChildScopes=function(t){return null!=this.gMap&&null!=this.scope.models?t?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1):void 0},c.prototype.bindToTypeEvents=function(t,n){var i,r;return null==n&&(n=["click","mouseout","mouseover"]),r=this,this.origTypeEvents?e.extend(t,this.origTypeEvents):(this.origTypeEvents={},_.each(n,function(e){return function(n){return e.origTypeEvents[n]=null!=t?t[n]:void 0}}(this))),i={},_.each(n,function(){return function(t){return i[t]=function(e){return r.maybeExecMappedEvent(e,t)}}}(this)),e.extend(t,i)},c.prototype.createAllNew=function(t){var e,n,i,r;return null!=this.gManager&&(this.gManager instanceof g&&(e=this.gManager.isSpiderfied()),this.gManager.clear(),delete this.gManager),i=t.typeEvents||t.clusterEvents,r=t.typeOptions||t.clusterOptions,t.doCluster||"cluster"===t.type?(null!=i&&this.bindToTypeEvents(i),this.gManager=new l(this.map,void 0,r,i)):"spider"===t.type?(null!=i&&this.bindToTypeEvents(i,["spiderfy","unspiderfy"]),this.gManager=new g(this.map,void 0,r,i,this.scope),e&&this.gManager.spiderfy()):this.gManager=new u(this.map),this.didQueueInitPromise(this,t)?void 0:(n=null,a.promiseLock(this,h.promiseTypes.create,"createAllNew",function(t){return n=t},function(e){return function(){return a.each(t.models,function(i){return e.newChildMarker(i,t),n},a.chunkSizeFrom(t.chunk)).then(function(){return e.modelsRendered=!0,t.fit&&e.gManager.fit(),e.gManager.draw(),e.scope.pluralsUpdate.updateCtr+=1},a.chunkSizeFrom(t.chunk))}}(this)))},c.prototype.rebuildAll=function(t){var e;if(t.doRebuild||void 0===t.doRebuild)return(null!=(e=this.scope.plurals)?e.length:void 0)?this.onDestroy(t).then(function(e){return function(){return e.createAllNew(t)}}(this)):this.createAllNew(t)},c.prototype.pieceMeal=function(t){var e,n;if(!t.$$destroyed)return e=null,n=null,this.modelsLength()&&this.scope.plurals.length?a.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(t){return e=t},function(i){return function(){return h.promise(function(){return i.figureOutState(i.idKey,t,i.scope.plurals,i.modelKeyComparison)}).then(function(r){return n=r,a.each(n.removals,function(t){return null!=t?(null!=t.destroy&&t.destroy(),i.scope.plurals.remove(t.id),e):void 0},a.chunkSizeFrom(t.chunk))}).then(function(){return a.each(n.adds,function(n){return i.newChildMarker(n,t),e},a.chunkSizeFrom(t.chunk))}).then(function(){return a.each(n.updates,function(t){return i.updateChild(t.child,t.model),e},a.chunkSizeFrom(t.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(t.plurals=i.scope.plurals,t.fit&&i.gManager.fit(),i.gManager.draw()),i.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(t))},c.prototype.newChildMarker=function(t,e){var n,i,r,o;return null==t[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.markerModels),i=e.$new(!1),i.events=e.events,o={},d.scopeKeys.forEach(function(t){return o[t]=e[t]}),n=new s(i,t,o,this.map,this.DEFAULTS,this.doClick,this.gManager,r=!1),this.scope.plurals.put(t[this.idKey],n),n)},c.prototype.onDestroy=function(t){return c.__super__.onDestroy.call(this,t),a.promiseLock(this,h.promiseTypes["delete"],void 0,void 0,function(t){return function(){return a.each(t.scope.plurals.values(),function(t){return null!=t?t.destroy(!1):void 0},a.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){return null!=t.gManager&&t.gManager.destroy(),t.plurals.removeAll(),t.plurals!==t.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),t.scope.pluralsUpdate.updateCtr+=1})}}(this))},c.prototype.maybeExecMappedEvent=function(t,e){var n,i;if(!this.scope.$$destroyed)return i=this.scope.typeEvents||this.scope.clusterEvents,_.isFunction(null!=i?i[e]:void 0)&&(n=this.mapTypeToPlurals(t),this.origTypeEvents[e])?this.origTypeEvents[e](n.group,n.mapped):void 0},c.prototype.mapTypeToPlurals=function(t){var e,n,i;return _.isArray(t)?e=t:_.isFunction(t.getMarkers)&&(e=t.getMarkers()),null==e?void f.error("Unable to map event as we cannot find the array group to map"):(n=(null!=(i=this.scope.plurals.values())?i.length:void 0)?e.map(function(t){return function(e){return t.scope.plurals.get(e.key).model}}(this)):[],{cluster:t,mapped:n,group:t})},c.prototype.getItem=function(t,e,n){return"models"===e?t[e][n]:t[e].get(n)},c}(i)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(t){return e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+t+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+t+"ChildModel","uiGmapI"+t,function(e,n,i){return e(i,n,t)}])})}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(e,n,i,r){var o;return o=function(r){function o(t,n,i,r,o){var s,a,l,u,c,d,h,p,f,g,m;this.scope=t,this.attrs=i,this.map=r,this.DEFAULTS=o,s=void 0,u=!1,f=[],p=void 0,c=function(t){return function(){return t.isTrue(t.attrs.fit)?t.fitMapBounds(t.map,s):void 0}}(this),l=function(t){return function(){var n,i,r;return null!=t.scope.bounds&&null!=(null!=(n=t.scope.bounds)?n.sw:void 0)&&null!=(null!=(i=t.scope.bounds)?i.ne:void 0)&&t.validateBoundPoints(t.scope.bounds)?(s=t.convertBoundPoints(t.scope.bounds),e.info("new new bounds created: "+JSON.stringify(s))):null!=t.scope.bounds.getNorthEast&&null!=t.scope.bounds.getSouthWest?s=t.scope.bounds:null!=t.scope.bounds?e.error("Invalid bounds for newValue: "+JSON.stringify(null!=(r=t.scope)?r.bounds:void 0)):void 0}}(this),l(),d=new google.maps.Rectangle(this.buildOpts(s)),e.info("gObject (rectangle) created: "+d),g=!1,m=function(t){return function(){var e,n,i;return e=d.getBounds(),n=e.getNorthEast(),i=e.getSouthWest(),g?void 0:t.scope.$evalAsync(function(t){return null!=t.bounds&&null!=t.bounds.sw&&null!=t.bounds.ne&&(t.bounds.ne={latitude:n.lat(),longitude:n.lng()},t.bounds.sw={latitude:i.lat(),longitude:i.lng()}),null!=t.bounds.getNorthEast&&null!=t.bounds.getSouthWest?t.bounds=e:void 0})}}(this),h=function(t){return function(){return c(),t.removeEvents(f),f.push(google.maps.event.addListener(d,"dragstart",function(){return u=!0})),f.push(google.maps.event.addListener(d,"dragend",function(){return u=!1,m()})),f.push(google.maps.event.addListener(d,"bounds_changed",function(){return u?void 0:m()}))}}(this),a=function(t){return function(){return t.removeEvents(f),null!=p&&t.removeEvents(p),d.setMap(null)}}(this),null!=s&&h(),this.scope.$watch("bounds",function(t,e){var n;if(!(_.isEqual(t,e)&&null!=s||u))return g=!0,null==t?void a():(null==s?n=!0:c(),l(),d.setBounds(s),g=!1,n&&null!=s?h():void 0)},!0),this.setMyOptions=function(t){return function(e,n){return _.isEqual(e,n)||null==s||null==e?void 0:d.setOptions(t.buildOpts(s))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(p=this.setEvents(d,this.scope,this.scope),this.scope.$watch("events",function(t){return function(e,n){return _.isEqual(e,n)?void 0:(null!=p&&t.removeEvents(p),p=t.setEvents(d,t.scope,t.scope))}}(this))),this.scope.$on("$destroy",function(){return function(){return a()}}(this)),e.info(this)}return t(o,r),o.include(n),o.include(i),o}(r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper","$timeout","$http","$templateCache",function(i,r,o){var s;return s=function(i){function s(n,i,o,s,a,l,u){var c;return this.scope=n,this.element=i,this.attrs=o,this.gMap=s,this.ctrlPosition=a,this.template=l,this.$log=null!=u?u:r,this.setVisibility=t(this.setVisibility,this),this.getBounds=t(this.getBounds,this),this.setBounds=t(this.setBounds,this),this.createSearchBox=t(this.createSearchBox,this),this.addToParentDiv=t(this.addToParentDiv,this),this.addAsMapControl=t(this.addAsMapControl,this),this.init=t(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(e.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),e.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),e.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,c=e.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],void this.init())}return n(s,i),s.include(o),s.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(t){return function(n){return e.isObject(n)&&(null!=n.bounds&&t.setBounds(n.bounds),null!=n.visible&&t.visible!==n.visible)?t.setVisibility(n.visible):void 0}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.visible||this.setVisibility(this.visible),this.listener=this.autocomplete?google.maps.event.addListener(this.gObject,"place_changed",function(t){return function(){return t.places=t.gObject.getPlace()}}(this)):google.maps.event.addListener(this.gObject,"places_changed",function(t){return function(){return t.places=t.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$destroy",function(t){return function(){return t.gObject=null}}(this))},s.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},s.prototype.addToParentDiv=function(){return this.parentDiv=e.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},s.prototype.createSearchBox=function(){return this.gObject=this.autocomplete?new google.maps.places.Autocomplete(this.input,this.scope.options):new google.maps.places.SearchBox(this.input,this.scope.options)},s.prototype.setBounds=function(t){if(e.isUndefined(t.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(t.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(t)},s.prototype.getBounds=function(){return this.gObject.getBounds()},s.prototype.setVisibility=function(t){return null!=this.attrs.parentdiv?t===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):t===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=t},s}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(i,r,o,s,a,l,u,c,d,h,p,f,g,m,v){var y;
return y=function(i){function y(e,n,i,r,s,l){this.gMap=s,this.markersScope=l,this.modelKeyComparison=t(this.modelKeyComparison,this),this.interpolateContent=t(this.interpolateContent,this),this.setChildScope=t(this.setChildScope,this),this.createWindow=t(this.createWindow,this),this.setContentKeys=t(this.setContentKeys,this),this.pieceMeal=t(this.pieceMeal,this),this.createAllNew=t(this.createAllNew,this),this.watchIdKey=t(this.watchIdKey,this),this.createChildScopes=t(this.createChildScopes,this),this.watchOurScope=t(this.watchOurScope,this),this.watchDestroy=t(this.watchDestroy,this),this.onDestroy=t(this.onDestroy,this),this.rebuildAll=t(this.rebuildAll,this),this.doINeedToWipe=t(this.doINeedToWipe,this),this.watchModels=t(this.watchModels,this),this.go=t(this.go,this),y.__super__.constructor.call(this,e,n,i,r,c,d,h,p),this["interface"]=m,this.plurals=new o,_.each(m.scopeKeys,function(t){return function(e){return t[e+"Key"]=void 0}}(this)),this.linked=new a(e,n,i,r),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(e)}return n(y,i),y.include(r),y.prototype.go=function(t){return this.watchOurScope(t),this.doRebuildAll=null!=this.scope.doRebuildAll?this.scope.doRebuildAll:!1,t.$watch("doRebuildAll",function(t){return function(e,n){return e!==n?t.doRebuildAll=e:void 0}}(this)),this.createChildScopes()},y.prototype.watchModels=function(t){var e;return e=null!=this.markersScope?"pluralsUpdate":"models",t.$watch(e,function(e){return function(n,i){var r;return!_.isEqual(n,i)||e.firstWatchModels?(e.firstWatchModels=!1,e.doRebuildAll||e.doINeedToWipe(t.models)?e.rebuildAll(t,!0,!0):(r=0===e.plurals.length,null!=e.existingPieces?_.last(e.existingPieces._content).then(function(){return e.createChildScopes(r)}):e.createChildScopes(r))):void 0}}(this),!0)},y.prototype.doINeedToWipe=function(t){var e;return e=null!=t?0===t.length:!0,this.plurals.length>0&&e},y.prototype.rebuildAll=function(t,e,n){return this.onDestroy(n).then(function(t){return function(){return e?t.createChildScopes():void 0}}(this))},y.prototype.onDestroy=function(){return y.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,g.promiseTypes["delete"],void 0,void 0,function(t){return function(){return l.each(t.plurals.values(),function(t){return t.destroy()},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}}(this))},y.prototype.watchDestroy=function(t){return t.$on("$destroy",function(e){return function(){return e.firstWatchModels=!0,e.firstTime=!0,e.rebuildAll(t,!1,!0)}}(this))},y.prototype.watchOurScope=function(t){return _.each(m.scopeKeys,function(e){return function(n){var i;return i=n+"Key",e[i]="function"==typeof t[n]?t[n]():t[n]}}(this))},y.prototype.createChildScopes=function(t){var n,i,r;return null==t&&(t=!0),this.isIconVisibleOnClick=!0,e.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=e.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(i=this.markersScope)?i.plurals:void 0)&&void 0!==(null!=(r=this.markersScope)?r.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),t?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),t?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},y.prototype.watchIdKey=function(t){return this.setIdKey(t),t.$watch("idKey",function(e){return function(n,i){return n!==i&&null==n?(e.idKey=n,e.rebuildAll(t,!0,!0)):void 0}}(this))},y.prototype.createAllNew=function(t,e,n,i){var r;return null==n&&(n="models"),null==i&&(i=!1),this.firstTime&&(this.watchModels(t),this.watchDestroy(t)),this.setContentKeys(t.models),this.didQueueInitPromise(this,t)?void 0:(r=null,l.promiseLock(this,g.promiseTypes.create,"createAllNew",function(t){return r=t},function(i){return function(){return l.each(t.models,function(o){var s,a;return s=e&&null!=(a=i.getItem(t,n,o[i.idKey]))?a.gObject:void 0,r||(!s&&i.markersScope&&u.error("Unable to get gMarker from markersScope!"),i.createWindow(o,s,i.gMap)),r},l.chunkSizeFrom(t.chunk)).then(function(){return i.firstTime=!1})}}(this)))},y.prototype.pieceMeal=function(t,e,n,i){var r,o;return null==n&&(n="models"),null==i&&(i=!0),t.$$destroyed?void 0:(r=null,o=null,null!=t&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,g.promiseTypes.update,"pieceMeal",function(t){return r=t},function(e){return function(){return g.promise(function(){return e.figureOutState(e.idKey,t,e.plurals,e.modelKeyComparison)}).then(function(n){return o=n,l.each(o.removals,function(t){return null!=t?(e.plurals.remove(t.id),null!=t.destroy&&t.destroy(!0),r):void 0},l.chunkSizeFrom(t.chunk))}).then(function(){return l.each(o.adds,function(i){var o,s;if(o=null!=(s=e.getItem(t,n,i[e.idKey]))?s.gObject:void 0,!o)throw"Gmarker undefined";return e.createWindow(i,o,e.gMap),r})}).then(function(){return l.each(o.updates,function(t){return e.updateChild(t.child,t.model),r},l.chunkSizeFrom(t.chunk))})}}(this)):(u.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0)))},y.prototype.setContentKeys=function(t){return this.modelsLength(t)?this.contentKeys=Object.keys(t[0]):void 0},y.prototype.createWindow=function(t,e,n){var i,r,o,a,l,u;return r=this.linked.scope.$new(!1),this.setChildScope(r,t),r.$watch("model",function(t){return function(e,n){return e!==n?t.setChildScope(r,e):void 0}}(this),!0),o={html:function(e){return function(){return e.interpolateContent(e.linked.element.html(),t)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,t)||{},a=this.createWindowOptions(e,r,o.html(),this.DEFAULTS),i=new s(t,r,a,this.isIconVisibleOnClick,n,null!=(l=this.markersScope)&&null!=(u=l.plurals.get(t[this.idKey]))?u.scope:void 0,o,!1,!0),null==t[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(t[this.idKey],i),i)},y.prototype.setChildScope=function(t,e){return _.each(m.scopeKeys,function(n){return function(i){var r,o;return r=i+"Key",o="self"===n[r]?e:e[n[r]],o!==t[i]?t[i]=o:void 0}}(this)),t.model=e},y.prototype.interpolateContent=function(t,e){var n,i,r,o,s,a;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=f(t),r={},a=this.contentKeys,i=0,s=a.length;s>i;i++)o=a[i],r[o]=e[o];return n(r)}},y.prototype.modelKeyComparison=function(t,e){var n,i;if(i=null!=this.scope.coords?this.scope:this.parentScope,null==i)throw"No scope or parentScope set!";return(n=v.equalCoords(this.evalModelHandle(t,i.coords),this.evalModelHandle(e,i.coords)))?n=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(r){return n.evalModelHandle(t,i[r])===n.evalModelHandle(e,i[r])}}(this)):n},y}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(t,e){return _.extend(t,{link:function(t,n,i,r){return r.getScope().deferred.promise.then(function(){return function(r){return new e(t,n,i,r)}}(this))}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(i,r,o,s,a,l){var u;return u=function(u){function c(){this.link=t(this.link,this),c.__super__.constructor.call(this)}return n(c,u),c.prototype.link=function(t,n,u,c){return l.then(function(n){return function(l){var u,d;return e.isUndefined(t.template)?void n.$log.error("mapControl: could not find a valid template property"):(u=e.isDefined(t.index&&!isNaN(parseInt(t.index)))?parseInt(t.index):void 0,d=e.isDefined(t.position)?t.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[d]?i.mapPromise(t,c).then(function(i){var l,c;return l=void 0,c=e.element("<div></div>"),r.get(t.template,{cache:o}).success(function(n){var i,r;return r=t.$new(),c.append(n),e.isDefined(t.controller)&&(i=a(t.controller,{$scope:r}),c.children().data("$ngControllerController",i)),l=s(c.children())(r),u?l[0].index=u:void 0}).error(function(){return n.$log.error("mapControl: template could not be found")}).then(function(){return i.controls[google.maps.ControlPosition[d]].push(l[0])})}):void n.$log.error("mapControl: invalid position property"))}}(this))},c}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(t,e){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(e,n){return e.ctrlType="uiGmapDragZoom",_.extend(this,t.handle(e,n))}],link:function(n,i,r,o){return t.mapPromise(n,o).then(function(t){var i,r,o;return i=function(e){return t.enableKeyDragZoom(e),n.spec?n.spec.enableKeyDragZoom(e):void 0},r=new e(function(t,e){return e?i({key:e}):i()}),o=new e(function(t,e){return e?i(e):void 0}),n.$watch("keyboardkey",r.sic),r.sic(n.keyboardkey),n.$watch("options",o.sic),o.sic(n.options)})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(t,e){return _.extend(t,{link:function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return new e(t,n,i,r)})}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(e,i,r,o,s){var a;return a=function(i){function a(){return this.link=t(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,i),a.include(r),a.prototype.restrict="EMA",a.prototype.replace=!0,a.prototype.require="^uiGmapGoogleMap",a.prototype.scope={polygons:"=",draw:"="},a.prototype.link=function(t,n,i,r){return this.mapPromise(t,r).then(function(){return function(n){var i,a;return t.polygons?_.isArray(t.polygons)?(i=new o(n,r.getScope()),a=void 0,t.draw=function(){return"function"==typeof a&&a(),i.engage(t.polygons).then(function(){var e;return e=!0,a=t.$watchCollection("polygons",function(t,n){var i;return e||t===n?void(e=!1):(i=s.differenceObjects(n,t),i.forEach(function(t){return t.setMap(null)}))})})}):e.error("Free Draw Polygons must be of type Array!"):e.error("No polygons to bind to!")}}(this))},a}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var t;return t={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i){var r;return r=function(e){function r(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return t(r,e),r.extend(i),r.prototype.link=function(){throw new Exception("Not implemented!!")},r}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(e,n){var i;return i=function(e){function i(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},i.scope)}return t(i,e),i.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},i.scopeKeys=_.keys(i.scope),i.keys=i.scopeKeys,i.extend(n),i}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i,r){var o;return o=function(n){function o(){}return t(o,n),o.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},o.scopeKeys=_.keys(o.scope),o.include(e),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i,r){var o;return o=function(n){function o(){}return t(o,n),o.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},o.scopeKeys=_.keys(o.scope),o.include(e),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var t;return t={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(e,n,i){var r;return r=function(e){function r(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},r.scope)}return t(r,e),r.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},r.scopeKeys=_.keys(r.scope),r.include(n),r.extend(i),r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper",function(i,r,o,s,a,l,u,c,d,h,p,f,g){var m,v,y;return m=void 0,y=[p,d,h],v=function(r){function a(){this.link=t(this.link,this);var e,n;e=function(t){var e,n;return n=void 0,t.$on("$destroy",function(){return u.decrement()}),e=l.handle(t),t.ctrlType="Map",t.deferred.promise.then(function(){return y.forEach(function(t){return t.init()})}),e.getMap=function(){return t.map},n=_.extend(this,e)},this.controller=["$scope",e],n=this}return n(a,r),a.include(s),a.prototype.restrict="EMA",a.prototype.transclude=!0,a.prototype.replace=!1,a.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container">\n</div><div ng-transclude style="display: none"></div></div>',a.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},a.prototype.link=function(t,n,r){var s,a;return s=[],t.$on("$destroy",function(){return g.removeEvents(s)}),t.idleAndZoomChanged=!1,null==t.center?void(a=t.$watch("center",function(e){return function(){return t.center?(a(),e.link(t,n,r)):void 0}}(this))):f.then(function(a){return function(l){var d,h,p,f,v,y,b,w,x,k,C,$,M,S,T,D,E;if(m={mapTypeId:l.MapTypeId.ROADMAP},S=u.spawn(),$=function(){return S.deferred.resolve({instance:S.instance,map:d})},!a.validateCoords(t.center))return void o.error("angular-google-maps: could not find a valid center property");if(!e.isDefined(t.zoom))return void o.error("angular-google-maps: map zoom property not set");if(v=e.element(n),v.addClass("angular-google-map"),k={options:{}},r.options&&(k.options=t.options),r.styles&&(k.styles=t.styles),r.type&&(T=r.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(T)?k.mapTypeId=google.maps.MapTypeId[r.type.toUpperCase()]:o.error("angular-google-maps: invalid map type '"+r.type+"'")),w=e.extend({},m,k,{center:a.getCoords(t.center),zoom:t.zoom,bounds:t.bounds}),d=new google.maps.Map(v.find("div")[1],w),d.uiGmap_id=c.generate(),f=!1,s.push(google.maps.event.addListenerOnce(d,"idle",function(){return t.deferred.resolve(d),$()})),p=r.events&&null!=(null!=(C=t.events)?C.blacklist:void 0)?t.events.blacklist:[],_.isString(p)&&(p=[p]),x=function(e,n,i){return _.contains(p,e)?void 0:(i&&i(),s.push(google.maps.event.addListener(d,e,function(){var e;return(null!=(e=t.update)?e.lazy:void 0)?void 0:n()})))},_.contains(p,"all")||(x("dragstart",function(){return f=!0,t.$evalAsync(function(t){return null!=t.dragging?t.dragging=f:void 0})}),x("dragend",function(){return f=!1,t.$evalAsync(function(t){return null!=t.dragging?t.dragging=f:void 0})}),D=function(n,i){if(null==n&&(n=d.center),null==i&&(i=t),!_.contains(p,"center"))if(e.isDefined(i.center.type)){if(i.center.coordinates[1]!==n.lat()&&(i.center.coordinates[1]=n.lat()),i.center.coordinates[0]!==n.lng())return i.center.coordinates[0]=n.lng()}else if(i.center.latitude!==n.lat()&&(i.center.latitude=n.lat()),i.center.longitude!==n.lng())return i.center.longitude=n.lng()},M=!1,x("idle",function(){var e,n,i;return e=d.getBounds(),n=e.getNorthEast(),i=e.getSouthWest(),M=!0,t.$evalAsync(function(e){return D(),_.isUndefined(e.bounds)||_.contains(p,"bounds")||(e.bounds.northeast={latitude:n.lat(),longitude:n.lng()},e.bounds.southwest={latitude:i.lat(),longitude:i.lng()}),_.contains(p,"zoom")||(e.zoom=d.zoom,t.idleAndZoomChanged=!t.idleAndZoomChanged),M=!1})})),e.isDefined(t.events)&&null!==t.events&&e.isObject(t.events)){b=function(e){return function(){return t.events[e].apply(t,[d,e,arguments])}},h=[];for(y in t.events)t.events.hasOwnProperty(y)&&e.isFunction(t.events[y])&&h.push(google.maps.event.addListener(d,y,b(y)));s.concat(h)}return d.getOptions=function(){return w},t.map=d,null!=r.control&&null!=t.control&&(t.control.refresh=function(t){var e,n,i;if(null!=d)return null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(i=n.event)?i.trigger:void 0)&&null!=d&&google.maps.event.trigger(d,"resize"),null!=(null!=t?t.latitude:void 0)&&null!=(null!=t?t.longitude:void 0)?(e=a.getCoords(t),a.isTrue(r.pan)?d.panTo(e):d.setCenter(e)):void 0},t.control.getGMap=function(){return d},t.control.getMapOptions=function(){return w},t.control.getCustomEventListeners=function(){return h},t.control.removeEvents=function(t){return g.removeEvents(t)}),t.$watch("center",function(e,n){var i,s;if(e!==n&&!M&&(i=a.getCoords(t.center),i.lat()!==d.center.lat()||i.lng()!==d.center.lng()))return s=!0,f||(a.validateCoords(e)||o.error("Invalid center for newValue: "+JSON.stringify(e)),a.isTrue(r.pan)&&t.zoom===d.zoom?d.panTo(i):d.setCenter(i)),s=!1},!0),E=null,t.$watch("zoom",function(e,n){var r,o,s;if(null!=e&&!_.isEqual(e,n)&&(null!=d?d.getZoom():void 0)!==(null!=t?t.zoom:void 0)&&!M)return s=!0,null!=E&&i.cancel(E),E=i(function(){return d.setZoom(e),s=!1},(null!=(r=t.eventOpts)&&null!=(o=r.debounce)?o.zoomMs:void 0)+20,!1)}),t.$watch("bounds",function(t,e){var n,i,r,s,a,l,u;if(t!==e)return null==(null!=t&&null!=(r=t.northeast)?r.latitude:void 0)||null==(null!=t&&null!=(s=t.northeast)?s.longitude:void 0)||null==(null!=t&&null!=(a=t.southwest)?a.latitude:void 0)||null==(null!=t&&null!=(l=t.southwest)?l.longitude:void 0)?void o.error("Invalid map bounds for new value: "+JSON.stringify(t)):(i=new google.maps.LatLng(t.northeast.latitude,t.northeast.longitude),u=new google.maps.LatLng(t.southwest.latitude,t.southwest.longitude),n=new google.maps.LatLngBounds(u,i),d.fitBounds(n))}),["options","styles"].forEach(function(e){return t.$watch(e,function(t,e){var n;return n=this.exp,_.isEqual(t,e)?void 0:("options"===n?k.options=t:k.options[n]=t,null!=d?d.setOptions(k):void 0)},!0)})}}(this))},a}(a)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(e,i,r,o){var s;return s=function(s){function a(){this.link=t(this.link,this),a.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',o.info(this)}return n(a,s),a.prototype.controller=["$scope","$element",function(t,n){return t.ctrlType="Marker",_.extend(this,e.handle(t,n))}],a.prototype.link=function(t,n,o,s){var a;return a=e.mapPromise(t,s),a.then(function(){return function(n){var o,s,a,l,u,c;return a=new r(n),l=_.object(e.keys,e.keys),u=new i(t,t,l,n,{},o=!0,a,s=!1,c=!1),u.deferred.promise.then(function(e){return t.deferred.resolve(e)}),null!=t.control?t.control.getGMarkers=a.getGMarkers:void 0}}(this)),t.$on("$destroy",function(){return function(){var t;return"undefined"!=typeof t&&null!==t&&t.clear(),t=null}}(this))},a}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(e,n,i,r,o){var s;return s=function(r){function s(){s.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',n.extend(this,{doCluster:"=?docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref",type:"=?type",typeOptions:"=?typeoptions",typeEvents:"=?typeevents"}),o.info(this)}return t(s,r),s.prototype.controller=["$scope","$element",function(t,n){return t.ctrlType="Markers",_.extend(this,e.handle(t,n))}],s.prototype.link=function(t,r,o,s){var a,l;return a=void 0,l=function(){return t.deferred.resolve()},e.mapPromise(t,s).then(function(e){var u;return u=s.getScope(),u.$watch("idleAndZoomChanged",function(){return _.defer(a.gManager.draw)}),a=new i(t,r,o,e),n.link(t,a),null!=t.control&&(t.control.getGMarkers=function(){var t;return null!=(t=a.gManager)?t.getGMarkers():void 0},t.control.getChildMarkers=function(){return a.plurals}),_.last(a.existingPieces._content).then(function(){return l()})})},s}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var t;return t=function(t,e){return null!=t.control?(t.control.updateModels=function(n){return t.models=n,e.createChildScopes(!1)},t.control.newModels=function(n){return t.models=n,e.rebuildAll(t,!0,!0)},t.control.clean=function(){return e.rebuildAll(t,!1,!0)},t.control.getPlurals=function(){return e.plurals},t.control.getManager=function(){return e.gManager},t.control.hasManager=function(){return null!=e.gManager==!0},t.control.managerDraw=function(){var e;return t.control.hasManager()&&null!=(e=t.control.getManager())?e.draw():void 0}):void 0},{extend:function(t,e){return _.extend(t.scope||{},e||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(e,n){return t(e,n)}}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmapPolygonChildModel",function(e,i,r){var o;return o=function(i){function o(){return this.link=t(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.link=function(t,n,i,o){var s,a;return s=[],a=e.mapPromise(t,o),null!=t.control&&(t.control.getInstance=this,t.control.polygons=s,t.control.promise=a),a.then(function(e){return function(n){return s.push(new r(t,i,n,e.DEFAULTS))}}(this))},o}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmapPolygonsParentModel","uiGmapPlural",function(i,r,o,s){var a;return a=function(i){function r(){this.link=t(this.link,this),r.__super__.constructor.call(this),s.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(a){return(e.isUndefined(t.path)||null===t.path)&&r.$log.warn("polygons: no valid path attribute found"),t.models||r.$log.warn("polygons: no models found to create from"),s.link(t,new o(t,n,i,a,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmapPolylineChildModel",function(i,r,o){var s;return s=function(r){function s(){return this.link=t(this.link,this),s.__super__.constructor.apply(this,arguments)}return n(s,r),s.prototype.link=function(t,n,r,s){return i.mapPromise(t,s).then(function(n){return function(i){return(e.isUndefined(t.path)||null===t.path||!n.validatePath(t.path))&&n.$log.warn("polyline: no valid path attribute found"),new o(t,r,i,n.DEFAULTS)}}(this))},s}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmapPolylinesParentModel","uiGmapPlural",function(i,r,o,s){var a;return a=function(i){function r(){this.link=t(this.link,this),r.__super__.constructor.call(this),s.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(a){return(e.isUndefined(t.path)||null===t.path)&&r.$log.warn("polylines: no valid path attribute found"),t.models||r.$log.warn("polylines: no models found to create from"),s.link(t,new o(t,n,i,a,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(t,e,n,i){return _.extend(n,{link:function(t,e,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return new i(t,e,n,r)}}(this))}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(i,r,o,s,a){var l;return l=function(l){function u(){this.link=t(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',a.debug(this),this.childWindows=[]}return n(u,l),u.include(r),u.prototype.link=function(t,n,r,o){var s,a;return s=o.length>1&&null!=o[1]?o[1]:void 0,a=null!=s?s.getScope():void 0,this.mapPromise=i.mapPromise(t,o[0]),this.mapPromise.then(function(i){return function(o){var l;return l=!0,e.isDefined(r.isiconvisibleonclick)&&(l=t.isIconVisibleOnClick),s?a.deferred.promise.then(function(){return i.init(t,n,l,o,a)}):void i.init(t,n,l,o)}}(this))},u.prototype.init=function(t,e,n,i,r){var a,l,u,c,d;return l=null!=t.options?t.options:{},c=null!=t&&this.validateCoords(t.coords),null!=(null!=r?r.getGMarker:void 0)&&(u=r.getGMarker()),d=c?this.createWindowOptions(u,t,e.html(),l):l,null!=i&&(a=new o({},t,d,n,i,r,e),this.childWindows.push(a),t.$on("$destroy",function(t){return function(){return t.childWindows=s.withoutObjects(t.childWindows,[a],function(t,e){return t.scope.$id===e.scope.$id}),t.childWindows.length=0}}(this))),null!=t.control&&(t.control.getGWindows=function(t){return function(){return t.childWindows.map(function(t){return t.gObject})}}(this),t.control.getChildWindows=function(t){return function(){return t.childWindows}}(this),t.control.getPlurals=t.control.getChildWindows,t.control.showWindow=function(t){return function(){return t.childWindows.map(function(t){return t.showWindow()})}}(this),t.control.hideWindow=function(t){return function(){return t.childWindows.map(function(t){return t.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=a?this.onChildCreation(a):void 0},u}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t
}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(e,i,r,o,s){var a;return a=function(e){function a(){this.init=t(this.init,this),this.link=t(this.link,this),a.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',i.extend(this),s.debug(this)}return n(a,e),a.prototype.link=function(t,e,n,i){var r,s,a;return r=i[0].getScope(),s=i.length>1&&null!=i[1]?i[1]:void 0,a=null!=s?s.getScope():void 0,r.deferred.promise.then(function(r){return function(s){var l,u;return l=(null!=a&&null!=(u=a.deferred)?u.promise:void 0)||o.resolve(),l.then(function(){var o,l;return o=null!=(l=r.parentModel)?l.existingPieces:void 0,o?o.then(function(){return r.init(t,e,n,i,s,a)}):r.init(t,e,n,i,s,a)})}}(this))},a.prototype.init=function(t,e,n,o,s,a){var l;return l=new r(t,e,n,o,s,a),i.link(t,l),null!=t.control?(t.control.getGWindows=function(){return function(){return l.plurals.map(function(t){return t.gObject})}}(this),t.control.getChildWindows=function(){return function(){return l.plurals}}(this)):void 0},a}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(t,e){return new e(t)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(t,e){return new e(t)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(t,e){return e}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(t,e,n,i,r){return new r(t,e,n,i)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(t,e,n,i,r,o){return new o(t,e,n,i,r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(e,n,i){var r;return new(r=function(){function e(){this.link=t(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return e.prototype.link=function(t,e,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return null!=t.onCreated?new i(t,e,n,r,t.onCreated):new i(t,e,n,r)}}(this))},e}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(t){return new t}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(e,n,i){var r;return new(r=function(){function e(){this.link=t(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return e.prototype.link=function(t,e,n,r){return r.getScope().deferred.promise.then(function(){return function(r){return new i(t,e,n,r)}}(this))},e}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(t){return new t}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,i,r,o,s,a){var l;return new(l=function(){function l(){this.link=t(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(t,i,l,u){return n.then(function(n){return function(c){return null==t.template&&(s.put("uigmap-searchbox-default.tpl.html",'<input type="text">'),t.template="uigmap-searchbox-default.tpl.html"),o.get(t.template,{cache:s}).success(function(o){return e.isUndefined(t.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(s){var u;return u=e.isDefined(t.position)?t.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new r(t,i,l,s,u,a(o)(t)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(t,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(i,r){var o,s,a;return o=function(e,n){return t[e](r,"ng-hide").then(function(){return n()})},s=function(e,n){return t[e](r,"ng-hide",n)},a=function(t,i){return e.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+e.version.major+'"'):1===e.version.major&&e.version.minor<3?s(t,i):o(t,i)},i.$watch("uiGmapShow",function(t){return t&&a("removeClass",i.uiGmapAfterShow),t?void 0:a("addClass",i.uiGmapAfterHide)})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(t,n,i,r){var o;return o="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(s,a){return t.then(function(){return function(){var t,l,u,c,d,h,p,f,g,m;return f=void 0,m=void 0,u=!1,h=void 0,p=null,g=null,t=function(){return r.removeEvents(h),null!=f&&(f.unbind("position"),f.setVisible(!1)),null!=m?(null!=(null!=m?m.setVisible:void 0)&&m.setVisible(!1),m=void 0):void 0},d=function(t,n){var i;return i=google.maps.geometry.spherical.computeHeading(t,n),u=!0,s.radius=s.radius||50,g=e.extend({heading:i,zoom:1,pitch:0},s.povoptions||{}),p=p=e.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:t,pov:g,visible:!0},s.options||{}),u=!1},l=function(){var e;return s.focalcoord?s.radius?(t(),null==m&&(m=new google.maps.StreetViewService),s.events&&(h=r.setEvents(m,s,s)),e=i.getCoords(s.focalcoord),m.getPanoramaByLocation(e,s.radius,function(t,n){var i,r,o;return null!=s.imagestatus&&(s.imagestatus=n),null!=(null!=(o=s.events)?o.image_status_changed:void 0)&&s.events.image_status_changed(m,"image_status_changed",s,n),"OK"===n?(r=t.location.latLng,d(r,e),i=a[0],f=new google.maps.StreetViewPanorama(i,p)):void 0})):void n.error(o+": needs a radius to set the camera view from its focal target."):void n.error(o+": focalCoord needs to be defined")},null!=s.control&&(s.control.getOptions=function(){return p},s.control.getPovOptions=function(){return g},s.control.getGObject=function(){return m},s.control.getGPano=function(){return f}),s.$watch("options",function(t,e){return t===e||t===p||u?void 0:l()}),c=!0,s.$watch("focalcoord",function(t,e){return t===e&&!c||null==t?void 0:(c=!1,l())}),s.$on("$destroy",function(){return t()})}}(this))}}}])}.call(this),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function t(){}return t.generate=function(){var e=t._gri,n=t._ha;return n(e(32),8)+"-"+n(e(16),4)+"-"+n(16384|e(12),4)+"-"+n(32768|e(14),4)+"-"+n(e(48),12)},t._gri=function(t){return 0>t?0/0:30>=t?0|Math.random()*(1<<t):53>=t?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<t-30)):0/0},t._ha=function(t,e){for(var n=t.toString(16),i=e-n.length,r="0";i>0;i>>>=1,r+=r)1&i&&(n=r+n);return n},t}),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){function e(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof t.visible&&(t.visible="undefined"==typeof t.isHidden?!0:!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function i(t,e){t.getMarkerClusterer().extend(i,google.maps.OverlayView),this.cluster_=t,this.className_=t.getMarkerClusterer().getClusterClass(),this.styles_=e,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(t.getMap())}function r(t){this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinimumClusterSize(),this.averageCenter_=t.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new i(this,t.getStyles())}function o(t,e,i){this.extend(o,google.maps.OverlayView),e=e||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,i.zoomOnClick!==n&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,i.averageCenter!==n&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,i.ignoreHidden!==n&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,i.enableRetinaIcons!==n&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.imagePath_=i.imagePath||o.IMAGE_PATH,this.imageExtension_=i.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||o.IMAGE_SIZES,this.calculator_=i.calculator||o.CALCULATOR,this.batchSize_=i.batchSize||o.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(e,!0),this.setMap(t)}function s(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t}function a(t,e){this.marker_=t,this.handCursorURL_=t.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=a.getSharedCross(e)}function l(t){t=t||{},t.labelContent=t.labelContent||"",t.labelAnchor=t.labelAnchor||new google.maps.Point(0,0),t.labelClass=t.labelClass||"markerLabels",t.labelStyle=t.labelStyle||{},t.labelInBackground=t.labelInBackground||!1,"undefined"==typeof t.labelVisible&&(t.labelVisible=!0),"undefined"==typeof t.raiseOnDrag&&(t.raiseOnDrag=!0),"undefined"==typeof t.clickable&&(t.clickable=!0),"undefined"==typeof t.draggable&&(t.draggable=!1),"undefined"==typeof t.optimized&&(t.optimized=!1),t.crossImage=t.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",t.handCursor=t.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",t.optimized=!1,this.label=new a(this,t.crossImage,t.handCursor),google.maps.Marker.apply(this,arguments)}function u(t){var e=t||{};this.ready_=!1,this.dragging_=!1,t.visible==n&&(t.visible=!0),t.shadow==n&&(t.shadow="7px -3px 5px rgba(88,88,88,0.7)"),t.anchor==n&&(t.anchor=c.BOTTOM),this.setValues(e)}e.prototype=new google.maps.OverlayView,e.prototype.createInfoBoxDiv_=function(){var t,e,n,i=this,r=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},o=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),i.enableEventPropagation_||r(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],r));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},e.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},e.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},e.prototype.panBox_=function(t){var e,n,i=0,r=0;if(!t&&(e=this.getMap(),e instanceof google.maps.Map)){e.getBounds().contains(this.position_)||e.setCenter(this.position_),n=e.getBounds();var o=e.getDiv(),s=o.offsetWidth,a=o.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,d=this.div_.offsetHeight,h=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);if(f.x<-l+h?i=f.x+l-h:f.x+c+l+h>s&&(i=f.x+c+l+h-s),this.alignBottom_?f.y<-u+p+d?r=f.y+u-p-d:f.y+u+p>a&&(r=f.y+u+p-a):f.y<-u+p?r=f.y+u-p:f.y+d+u+p>a&&(r=f.y+d+u+p-a),0!==i||0!==r){{e.getCenter()}e.panBy(i,r)}}},e.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},e.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=n.ownerDocument.defaultView.getComputedStyle(n,""),t&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(e.top=parseInt(n.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(n.currentStyle.borderRightWidth,10)||0),e},e.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},e.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.div_.style.visibility=this.isHidden_?"hidden":"visible"},e.prototype.setOptions=function(t){"undefined"!=typeof t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),"undefined"!=typeof t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),"undefined"!=typeof t.content&&this.setContent(t.content),"undefined"!=typeof t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),"undefined"!=typeof t.maxWidth&&(this.maxWidth_=t.maxWidth),"undefined"!=typeof t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),"undefined"!=typeof t.alignBottom&&(this.alignBottom_=t.alignBottom),"undefined"!=typeof t.position&&this.setPosition(t.position),"undefined"!=typeof t.zIndex&&this.setZIndex(t.zIndex),"undefined"!=typeof t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),"undefined"!=typeof t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),"undefined"!=typeof t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),"undefined"!=typeof t.isHidden&&(this.isHidden_=t.isHidden),"undefined"!=typeof t.visible&&(this.isHidden_=!t.visible),"undefined"!=typeof t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},e.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},e.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},e.prototype.getContent=function(){return this.content_},e.prototype.getPosition=function(){return this.position_},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.getVisible=function(){var t;return t="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},e.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},e.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},e.prototype.open=function(t,e){var n=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(t),this.div_&&this.panBox_()},e.prototype.close=function(){var t;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0;t<this.eventListeners_.length;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function e(t,e){var n=this,i=new google.maps.OverlayView;i.onAdd=function(){n.init_(t,e)},i.draw=function(){},i.onRemove=function(){},i.setMap(t),this.prjov_=i}var n=function(t){var e;switch(t){case"thin":e="2px";break;case"medium":e="4px";break;case"thick":e="6px";break;default:e=t}return e},i=function(t){var e,i={};if(document.defaultView&&document.defaultView.getComputedStyle){if(e=t.ownerDocument.defaultView.getComputedStyle(t,""))return i.top=parseInt(e.borderTopWidth,10)||0,i.bottom=parseInt(e.borderBottomWidth,10)||0,i.left=parseInt(e.borderLeftWidth,10)||0,i.right=parseInt(e.borderRightWidth,10)||0,i}else if(document.documentElement.currentStyle&&t.currentStyle)return i.top=parseInt(n(t.currentStyle.borderTopWidth),10)||0,i.bottom=parseInt(n(t.currentStyle.borderBottomWidth),10)||0,i.left=parseInt(n(t.currentStyle.borderLeftWidth),10)||0,i.right=parseInt(n(t.currentStyle.borderRightWidth),10)||0,i;return i.top=parseInt(t.style["border-top-width"],10)||0,i.bottom=parseInt(t.style["border-bottom-width"],10)||0,i.left=parseInt(t.style["border-left-width"],10)||0,i.right=parseInt(t.style["border-right-width"],10)||0,i},r={x:0,y:0},o=function(){r.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,r.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var s=function(e){var n=0,i=0;return e=e||t.event,"undefined"!=typeof e.pageX?(n=e.pageX,i=e.pageY):"undefined"!=typeof e.clientX&&(n=e.clientX+r.x,i=e.clientY+r.y),{left:n,top:i}},a=function(e){for(var n=e.offsetLeft,i=e.offsetTop,r=e.offsetParent;null!==r;){r!==document.body&&r!==document.documentElement&&(n-=r.scrollLeft,i-=r.scrollTop);var o=r,s=o.offsetLeft,a=o.offsetTop;if(!s&&!a&&t.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");s+=parseInt(u[4],10)||0,a+=parseInt(u[5],10)||0}}n+=s,i+=a,r=r.offsetParent}return{left:n,top:i}},l=function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},u=function(t,e){"undefined"!=typeof e&&(t.style.opacity=e),"undefined"!=typeof t.style.opacity&&""!==t.style.opacity&&(t.style.filter="alpha(opacity="+100*t.style.opacity+")")};e.prototype.init_=function(e,n){var r,s=this;for(this.map_=e,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=i(this.map_.getDiv()),this.veilDiv_=[],r=0;4>r;r++)this.veilDiv_[r]=document.createElement("div"),this.veilDiv_[r].onselectstart=function(){return!1},l(this.veilDiv_[r].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[r].style,n.paneStyle),l(this.veilDiv_[r].style,n.veilStyle),l(this.veilDiv_[r].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[r].style.MozUserSelect="none"),u(this.veilDiv_[r]),"transparent"===this.veilDiv_[r].style.backgroundColor&&(this.veilDiv_[r].style.backgroundColor="white",u(this.veilDiv_[r],0)),this.map_.getDiv().appendChild(this.veilDiv_[r]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=i(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(t){s.onKeyDown_(t)}),google.maps.event.addDomListener(document,"keyup",function(t){s.onKeyUp_(t)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(t){s.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(t){s.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(t){s.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(t){s.onMouseDown_(t)}),google.maps.event.addDomListener(document,"mousedown",function(t){s.onMouseDownDocument_(t)}),google.maps.event.addDomListener(document,"mousemove",function(t){s.onMouseMove_(t)}),google.maps.event.addDomListener(document,"mouseup",function(t){s.onMouseUp_(t)}),google.maps.event.addDomListener(t,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},e.prototype.initControl_=function(t){var e,n,i=this;return e=document.createElement("div"),e.className=this.visualClass_,e.style.position="relative",e.style.overflow="hidden",e.style.height=this.visualSize_.height+"px",e.style.width=this.visualSize_.width+"px",e.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",e.appendChild(n),e.onclick=function(t){i.hotKeyDown_=!i.hotKeyDown_,i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on,i.activatedByControl_=!0,google.maps.event.trigger(i,"activate")):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off,google.maps.event.trigger(i,"deactivate")),i.onMouseMove_(t)},e.onmouseover=function(){i.buttonDiv_.firstChild.style.left=-(1*i.visualSize_.width)+"px"},e.onmouseout=function(){i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off)},e.ondragstart=function(){return!1},l(e.style,{cursor:"pointer",marginTop:t.height+"px",marginLeft:t.width+"px"}),e},e.prototype.isHotKeyDown_=function(e){var n;if(e=e||t.event,n=e.shiftKey&&"shift"===this.key_||e.altKey&&"alt"===this.key_||e.ctrlKey&&"ctrl"===this.key_,!n)switch(e.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},e.prototype.isMouseOnMap_=function(){var t=this.mousePosn_;if(t){var e=this.mapPosn_,n=this.map_.getDiv();return t.left>e.left&&t.left<e.left+n.offsetWidth&&t.top>e.top&&t.top<e.top+n.offsetHeight}return!1},e.prototype.setVeilVisibility_=function(){var t;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var e=this.map_.getDiv();if(this.mapWidth_=e.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=e.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,i=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,r=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+o)+"px",t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",t=1;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.width="0px",this.veilDiv_[t].style.height="0px";for(t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="block"}}else for(t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none"},e.prototype.onKeyDown_=function(t){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(t)&&(this.mapPosn_=a(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},e.prototype.getMousePoint_=function(t){var e=s(t),n=new google.maps.Point;return n.x=e.left-this.mapPosn_.left-this.borderWidths_.left,n.y=e.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},e.prototype.onMouseDown_=function(t){if(this.map_&&this.hotKeyDown_){this.mapPosn_=a(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(t),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var e=this.prjov_.getProjection(),n=e.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},e.prototype.onMouseDownDocument_=function(){this.mouseDown_=!0},e.prototype.onMouseMove_=function(t){if(this.mousePosn_=s(t),this.dragging_){this.endPt_=this.getMousePoint_(t);var e=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,i-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,r-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));
this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=e+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=e+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(e+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=e+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+r+"px",this.veilDiv_[3].style.left=e+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+r)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=e+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(e,n+r),new google.maps.Point(e+i,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=a(this.map_.getDiv()),this.setVeilVisibility_())},e.prototype.onMouseUp_=function(t){var e,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(t).x===this.startPt_.x&&this.getMousePoint_(t).y===this.startPt_.y)return void this.onKeyUp_(t);var i=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),s=Math.abs(this.startPt_.y-this.endPt_.y),a=!0;a&&(i+=this.borderWidths_.left,r+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(i,r+s)),c=l.fromContainerPixelToLatLng(new google.maps.Point(i+o,r)),d=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{e=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<e&&this.map_.setZoom(e);var h=l.fromLatLngToContainerPixel(u),p=l.fromLatLngToContainerPixel(c);a&&(h.x-=this.borderWidths_.left,h.y-=this.borderWidths_.top,p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top),this.boxDiv_.style.left=h.x+"px",this.boxDiv_.style.top=p.y+"px",this.boxDiv_.style.width=Math.abs(p.x-h.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(p.y-h.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(t),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(t)||this.onKeyUp_(t)}},e.prototype.onKeyUp_=function(){var t,e,n,i,r,o,s,a,l=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,e=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=this.prjov_.getProjection(),s=o.fromContainerPixelToLatLng(new google.maps.Point(e,n+r)),a=o.fromContainerPixelToLatLng(new google.maps.Point(e+i,n)),l=new google.maps.LatLngBounds(s,a)),t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",l)}},google.maps.Map.prototype.enableKeyDragZoom=function(t){this.dragZoom_=new e(this,t)},google.maps.Map.prototype.disableKeyDragZoom=function(){var t,e=this.dragZoom_;if(e){for(t=0;t<e.listeners_.length;++t)google.maps.event.removeListener(e.listeners_[t]);for(this.getDiv().removeChild(e.boxDiv_),t=0;t<e.veilDiv_.length;t++)this.getDiv().removeChild(e.veilDiv_[t]);e.visualEnabled_&&this.controls[e.visualPosition_].removeAt(e.controlIndex_),e.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),i.prototype.onAdd=function(){var t,e,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){e=t}),google.maps.event.addDomListener(this.div_,"mousedown",function(){t=!0,e=!1}),google.maps.event.addDomListener(this.div_,"click",function(i){if(t=!1,!e){var r,o,s=n.cluster_.getMarkerClusterer();google.maps.event.trigger(s,"click",n.cluster_),google.maps.event.trigger(s,"clusterclick",n.cluster_),s.getZoomOnClick()&&(o=s.getMaxZoom(),r=n.cluster_.getBounds(),s.getMap().fitBounds(r),setTimeout(function(){s.getMap().fitBounds(r),null!==o&&s.getMap().getZoom()>o&&s.getMap().setZoom(o+1)},100)),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var t=n.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var t=n.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseout",n.cluster_)})},i.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},i.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},i.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},i.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),n=parseInt(e[0].trim(),10),i=parseInt(e[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),t="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(t+="clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);"),t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},i.prototype.useStyle=function(t){this.sums_=t;var e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e);var n=this.styles_[e];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},i.prototype.setCenter=function(t){this.center_=t},i.prototype.createCss=function(t){var e=[];return e.push("cursor: pointer;"),e.push("position: absolute; top: "+t.y+"px; left: "+t.x+"px;"),e.push("width: "+this.width_+"px; height: "+this.height_+"px;"),e.join("")},i.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x-=this.anchorIcon_[1],e.y-=this.anchorIcon_[0],e.x=parseInt(e.x,10),e.y=parseInt(e.y,10),e},r.prototype.getSize=function(){return this.markers_.length},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getCenter=function(){return this.center_},r.prototype.getMap=function(){return this.map_},r.prototype.getMarkerClusterer=function(){return this.markerClusterer_},r.prototype.getBounds=function(){var t,e=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(t=0;t<n.length;t++)e.extend(n[t].getPosition());return e},r.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},r.prototype.addMarker=function(t){var e,n,i;if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+t.getPosition().lat())/r,s=(this.center_.lng()*(r-1)+t.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,s),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();if(t.isAdded=!0,this.markers_.push(t),n=this.markers_.length,i=this.markerClusterer_.getMaxZoom(),null!==i&&this.map_.getZoom()>i)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n===this.minClusterSize_)for(e=0;n>e;e++)this.markers_[e].setMap(null);else t.setMap(null);return this.updateIcon_(),!0},r.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},r.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},r.prototype.updateIcon_=function(){var t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)return void this.clusterIcon_.hide();if(t<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()},r.prototype.isMarkerAlreadyAdded_=function(t){var e;if(this.markers_.indexOf)return-1!==this.markers_.indexOf(t);for(e=0;e<this.markers_.length;e++)if(t===this.markers_[e])return!0;return!1},o.prototype.onAdd=function(){var t=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){t.resetViewport_(!1),(this.getZoom()===(this.get("minZoom")||0)||this.getZoom()===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){t.redraw_()})]},o.prototype.onRemove=function(){var t;for(t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var t,e;if(!(this.styles_.length>0))for(t=0;t<this.imageSizes_.length;t++)e=this.imageSizes_[t],this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},o.prototype.fitMapToMarkers=function(){var t,e=this.getMarkers(),n=new google.maps.LatLngBounds;for(t=0;t<e.length;t++)n.extend(e[t].getPosition());this.getMap().fitBounds(n)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(t){this.gridSize_=t},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(t){this.minClusterSize_=t},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(t){this.maxZoom_=t},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(t){this.styles_=t},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(t){this.title_=t},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(t){this.zoomOnClick_=t},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(t){this.averageCenter_=t},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(t){this.ignoreHidden_=t},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons_=t},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(t){this.imageExtension_=t},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(t){this.imagePath_=t},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(t){this.imageSizes_=t},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(t){this.calculator_=t},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(t){this.batchSizeIE_=t},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(t){this.clusterClass_=t},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw_()},o.prototype.addMarkers=function(t,e){var n;for(n in t)t.hasOwnProperty(n)&&this.pushMarkerTo_(t[n]);e||this.redraw_()},o.prototype.pushMarkerTo_=function(t){if(t.getDraggable()){var e=this;google.maps.event.addListener(t,"dragend",function(){e.ready_&&(this.isAdded=!1,e.repaint())})}t.isAdded=!1,this.markers_.push(t)},o.prototype.removeMarker=function(t,e){var n=this.removeMarker_(t);return!e&&n&&this.repaint(),n},o.prototype.removeMarkers=function(t,e){var n,i,r=!1;for(n=0;n<t.length;n++)i=this.removeMarker_(t[n]),r=r||i;return!e&&r&&this.repaint(),r},o.prototype.removeMarker_=function(t){var e,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(t);else for(e=0;e<this.markers_.length;e++)if(t===this.markers_[e]){n=e;break}return-1===n?!1:(t.setMap(null),this.markers_.splice(n,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var e;for(e=0;e<t.length;e++)t[e].remove()},0)},o.prototype.getExtendedBounds=function(t){var e=this.getProjection(),n=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),i=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),r=e.fromLatLngToDivPixel(n);r.x+=this.gridSize_,r.y-=this.gridSize_;var o=e.fromLatLngToDivPixel(i);o.x-=this.gridSize_,o.y+=this.gridSize_;var s=e.fromDivPixelToLatLng(r),a=e.fromDivPixelToLatLng(o);return t.extend(s),t.extend(a),t},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(t){var e,n;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.markers_.length;e++)n=this.markers_[e],n.isAdded=!1,t&&n.setMap(null)},o.prototype.distanceBetweenPoints_=function(t,e){var n=6371,i=(e.lat()-t.lat())*Math.PI/180,r=(e.lng()-t.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),s=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),a=n*s;return a},o.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},o.prototype.addToClosestCluster_=function(t){var e,n,i,o,s=4e4,a=null;for(e=0;e<this.clusters_.length;e++)i=this.clusters_[e],o=i.getCenter(),o&&(n=this.distanceBetweenPoints_(o,t.getPosition()),s>n&&(s=n,a=i));a&&a.isMarkerInClusterBounds(t)?a.addMarker(t):(i=new r(this),i.addMarker(t),this.clusters_.push(i))},o.prototype.createClusters_=function(t){var e,n,i,r=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),s=Math.min(t+this.batchSize_,this.markers_.length);for(e=t;s>e;e++)n=this.markers_[e],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);s<this.markers_.length?this.timerRefStatic=setTimeout(function(){r.createClusters_(s)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},o.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},o.CALCULATOR=function(t,e){for(var n=0,i="",r=t.length.toString(),o=r;0!==o;)o=parseInt(o/10,10),n++;return n=Math.min(n,e),{text:r,index:n,title:i}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],s(a,google.maps.OverlayView),a.getSharedCross=function(t){var e;return"undefined"==typeof a.getSharedCross.crossDiv&&(e=document.createElement("img"),e.style.cssText="position: absolute; z-index: 1000002; display: none;",e.style.marginLeft="-8px",e.style.marginTop="-9px",e.src=t,a.getSharedCross.crossDiv=e),a.getSharedCross.crossDiv},a.prototype.onAdd=function(){var t,e,n,i,r,o,s,l=this,u=!1,c=!1,d=20,h="url("+this.handCursorURL_+")",p=function(t){t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},f=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof a.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),a.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",t))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(t){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",t))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(t){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=h),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",t),p(t))}),google.maps.event.addDomListener(document,"mouseup",function(e){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",e)),c){if(r){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=d,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(f,1406)}catch(o){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(t),i=!0,c=!1,e.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",e)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(i){var a;u&&(c?(i.latLng=new google.maps.LatLng(i.latLng.lat()-e,i.latLng.lng()-n),a=l.getProjection().fromLatLngToDivPixel(i.latLng),r&&(l.crossDiv_.style.left=a.x+"px",l.crossDiv_.style.top=a.y+"px",l.crossDiv_.style.display="",a.y-=d),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(a)),r&&(l.eventDiv_.style.top=a.y+d+"px"),google.maps.event.trigger(l.marker_,"drag",i)):(e=i.latLng.lat()-l.marker_.getPosition().lat(),n=i.latLng.lng()-l.marker_.getPosition().lng(),t=l.marker_.getZIndex(),o=l.marker_.getPosition(),s=l.marker_.getMap().getCenter(),r=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),i.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",i)))}),google.maps.event.addDomListener(document,"keydown",function(t){c&&27===t.keyCode&&(r=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(s),google.maps.event.trigger(document,"mouseup",t))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(i?i=!1:(google.maps.event.trigger(l.marker_,"click",t),p(t)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",t),p(t))}),google.maps.event.addListener(this.marker_,"dragstart",function(){c||(r=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(){c||r&&(l.setPosition(d),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(){c||r&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},a.prototype.onRemove=function(){var t;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t])},a.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},a.prototype.setContent=function(){var t=this.marker_.get("labelContent");"undefined"==typeof t.nodeType?(this.labelDiv_.innerHTML=t,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(t),t=t.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(t))},a.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},a.prototype.setStyles=function(){var t,e;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",e=this.marker_.get("labelStyle");for(t in e)e.hasOwnProperty(t)&&(this.labelDiv_.style[t]=e[t],this.eventDiv_.style[t]=e[t]);this.setMandatoryStyles()},a.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},a.prototype.setAnchor=function(){var t=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-t.x+"px",this.labelDiv_.style.marginTop=-t.y+"px",this.eventDiv_.style.marginLeft=-t.x+"px",this.eventDiv_.style.marginTop=-t.y+"px"},a.prototype.setPosition=function(t){var e=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof t&&(t=0),this.labelDiv_.style.left=Math.round(e.x)+"px",this.labelDiv_.style.top=Math.round(e.y-t)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},a.prototype.setZIndex=function(){var t=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+t,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+t,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},a.prototype.setVisible=function(){this.labelDiv_.style.display=this.marker_.get("labelVisible")&&this.marker_.getVisible()?"block":"none",this.eventDiv_.style.display=this.labelDiv_.style.display},s(l,google.maps.Marker),l.prototype.setMap=function(t){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(t)},u.prototype=new google.maps.OverlayView,t.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(t){this.set("visible",t)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(t){this.set("flat",!!t)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(t){this.set("shadow",t),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(t){this.set("zIndex",t)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(t){this.set("draggable",!!t)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(t){this.set("position",t)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(t){this.set("anchor",t)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(t){var e=document.createElement("DIV");if(e.innerHTML=t,1==e.childNodes.length)return e.removeChild(e.firstChild);for(var n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n},u.prototype.removeChildren_=function(t){if(t)for(var e;e=t.firstChild;)t.removeChild(e)},u.prototype.setContent=function(t){this.set("content",t)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var t=this.getContent();if(t){"string"==typeof t&&(t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),t=this.htmlToDocumentFragment_(t)),this.markerContent_.appendChild(t);for(var e,n=this,i=this.markerContent_.getElementsByTagName("IMG"),r=0;e=i[r];r++)google.maps.event.addDomListener(e,"mousedown",function(t){n.getDraggable()&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1)}),google.maps.event.addDomListener(e,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(t){if(this.ready_){var e="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==t&&(e="-moz-grabbing"),"dragready"==t&&(e="-moz-grab"),"draggable"==t&&(e="pointer")):(("dragging"==t||"dragready"==t)&&(e="move"),"draggable"==t&&(e="pointer")),this.markerWrapper_.style.cursor!=e&&(this.markerWrapper_.style.cursor=e)}},u.prototype.startDrag=function(t){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var e=this.getMap();this.mapDraggable_=e.get("draggable"),e.set("draggable",!1),this.mouseX_=t.clientX,this.mouseY_=t.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(t){if(!this.getDraggable()||!this.dragging_)return void this.stopDrag();var e=this.mouseX_-t.clientX,n=this.mouseY_-t.clientY;this.mouseX_=t.clientX,this.mouseY_=t.clientY;var i=parseInt(this.markerWrapper_.style.left,10)-e,r=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=i+"px",this.markerWrapper_.style.top=r+"px";var o=this.getOffset_(),s=new google.maps.Point(i-o.width,r-o.height),a=this.getProjection();this.setPosition(a.fromDivPixelToLatLng(s)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(t){if(t){var e=this;this.draggableListener_=google.maps.event.addDomListener(t,"mousedown",function(t){e.startDrag(t)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var e=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(t){e.drag(t)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){e.stopDrag(),e.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(t,"mousemove",function(t){e.drag(t)},!0),google.maps.event.addDomListener(t,"mouseup",function(){e.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var t,e=0;t=this.draggingListeners_[e];e++)google.maps.event.removeListener(t);
this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var t=this.getAnchor();if("object"==typeof t)return t;var e=new google.maps.Size(0,0);if(!this.markerContent_)return e;var n=this.markerContent_.offsetWidth,i=this.markerContent_.offsetHeight;switch(t){case c.TOP_LEFT:break;case c.TOP:e.width=-n/2;break;case c.TOP_RIGHT:e.width=-n;break;case c.LEFT:e.height=-i/2;break;case c.MIDDLE:e.width=-n/2,e.height=-i/2;break;case c.RIGHT:e.width=-n,e.height=-i/2;break;case c.BOTTOM_LEFT:e.height=-i;break;case c.BOTTOM:e.width=-n/2,e.height=-i;break;case c.BOTTOM_RIGHT:e.width=-n,e.height=-i}return e},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var t=this;google.maps.event.addDomListener(this.markerContent_,"click",function(){google.maps.event.trigger(t,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(){google.maps.event.trigger(t,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(){google.maps.event.trigger(t,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var t=this.getProjection();if(t){var e=this.get("position"),n=t.fromLatLngToDivPixel(e),i=this.getOffset_();this.markerWrapper_.style.top=n.y+i.height+"px",this.markerWrapper_.style.left=n.x+i.width+"px";var r=this.markerContent_.offsetHeight,o=this.markerContent_.offsetWidth;o!=this.get("width")&&this.set("width",o),r!=this.get("height")&&this.set("height",r)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var c={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};t.RichMarkerPosition=c,t.InfoBox=e,t.Cluster=r,t.ClusterIcon=i,t.MarkerClusterer=o,t.MarkerLabel_=a,t.MarkerWithLabel=l,t.RichMarker=u})}}),function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,n,i){e.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:i(1).Graph,Queue:i(1).Queue}})},function(t,e,n){(function(){t.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(t){(function(){var e,n={}.hasOwnProperty;e=function(){function t(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return t.prototype.addNode=function(t){return this._nodes[t]?void 0:(this.nodeSize++,this._nodes[t]={_outEdges:{},_inEdges:{}})},t.prototype.getNode=function(t){return this._nodes[t]},t.prototype.removeNode=function(t){var e,i,r,o,s;if(i=this._nodes[t]){o=i._outEdges;for(r in o)n.call(o,r)&&this.removeEdge(t,r);s=i._inEdges;for(e in s)n.call(s,e)&&this.removeEdge(e,t);return this.nodeSize--,delete this._nodes[t],i}},t.prototype.addEdge=function(t,e,n){var i,r,o;return null==n&&(n=1),!this.getEdge(t,e)&&(r=this._nodes[t],o=this._nodes[e],r&&o)?(i={weight:n},r._outEdges[e]=i,o._inEdges[t]=i,this.edgeSize++,i):void 0},t.prototype.getEdge=function(t,e){var n,i;return n=this._nodes[t],i=this._nodes[e],n&&i?n._outEdges[e]:void 0},t.prototype.removeEdge=function(t,e){var n,i,r;return i=this._nodes[t],r=this._nodes[e],(n=this.getEdge(t,e))?(delete i._outEdges[e],delete r._inEdges[t],this.edgeSize--,n):void 0},t.prototype.getInEdgesOf=function(t){var e,i,r,o;r=this._nodes[t],i=[],o=null!=r?r._inEdges:void 0;for(e in o)n.call(o,e)&&i.push(this.getEdge(e,t));return i},t.prototype.getOutEdgesOf=function(t){var e,i,r,o;e=this._nodes[t],i=[],o=null!=e?e._outEdges:void 0;for(r in o)n.call(o,r)&&i.push(this.getEdge(t,r));return i},t.prototype.getAllEdgesOf=function(t){var e,n,i,r,o,s,a;if(n=this.getInEdgesOf(t),i=this.getOutEdgesOf(t),0===n.length)return i;for(r=this.getEdge(t,t),e=o=0,s=n.length;s>=0?s>o:o>s;e=s>=0?++o:--o)if(n[e]===r){a=[n[n.length-1],n[e]],n[e]=a[0],n[n.length-1]=a[1],n.pop();break}return n.concat(i)},t.prototype.forEachNode=function(t){var e,i,r;r=this._nodes;for(e in r)n.call(r,e)&&(i=r[e],t(i,e))},t.prototype.forEachEdge=function(t){var e,i,r,o,s,a;s=this._nodes;for(i in s)if(n.call(s,i)){r=s[i],a=r._outEdges;for(o in a)n.call(a,o)&&(e=a[o],t(e))}},t}(),t.exports=e}).call(this)},function(t){(function(){var e,n,i,r;e=function(){function t(t){var e,n,i,r,o,s;for(null==t&&(t=[]),this._data=[void 0],i=0,o=t.length;o>i;i++)n=t[i],null!=n&&this._data.push(n);if(this._data.length>1)for(e=r=2,s=this._data.length;s>=2?s>r:r>s;e=s>=2?++r:--r)this._upHeap(e);this.size=this._data.length-1}return t.prototype.add=function(t){return null!=t?(this._data.push(t),this._upHeap(this._data.length-1),this.size++,t):void 0},t.prototype.removeMin=function(){var t;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(t=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),t)},t.prototype.peekMin=function(){return this._data[1]},t.prototype._upHeap=function(t){var e,n;for(e=this._data[t];this._data[t]<this._data[i(t)]&&t>1;)n=[this._data[i(t)],this._data[t]],this._data[t]=n[0],this._data[i(t)]=n[1],t=i(t)},t.prototype._downHeap=function(){var t,e,i;for(t=1;n(t<this._data.length)&&(e=n(t),e<this._data.length-1&&this._data[r(t)]<this._data[e]&&(e=r(t)),this._data[e]<this._data[t]);)i=[this._data[t],this._data[e]],this._data[e]=i[0],this._data[t]=i[1],t=e},t}(),i=function(t){return t>>1},n=function(t){return t<<1},r=function(t){return(t<<1)+1},t.exports=e}).call(this)},function(t){(function(){var e;e=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,i=t.length;i>n;n++)e=t[n],this.add(e)}return t.prototype.at=function(t){var e,n,i,r,o;if(-this.size<=t&&t<this.size){if(t=this._adjust(t),2*t<this.size)for(e=this.head,n=i=1;t>=i;n=i+=1)e=e.next;else for(e=this.tail,n=r=1,o=this.size-t-1;o>=r;n=r+=1)e=e.prev;return e}},t.prototype.add=function(t,e){var n,i,r,o,s;return null==e&&(e=this.size),-this.size<=e&&e<=this.size?(i={value:t},e=this._adjust(e),0===this.size?this.head=i:0===e?(r=[i,this.head,i],this.head.prev=r[0],i.next=r[1],this.head=r[2]):(n=this.at(e-1),o=[n.next,i,i,n],i.next=o[0],null!=(s=n.next)?s.prev=o[1]:void 0,n.next=o[2],i.prev=o[3]),e===this.size&&(this.tail=i),this.size++,t):void 0},t.prototype.removeAt=function(t){var e,n,i;return null==t&&(t=this.size-1),-this.size<=t&&t<this.size&&0!==this.size?(t=this._adjust(t),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===t?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(e=this.at(t),n=e.value,e.prev.next=e.next,null!=(i=e.next)&&(i.prev=e.prev),t===this.size-1&&(this.tail=e.prev)),this.size--,n):void 0},t.prototype.remove=function(t){var e;if(null!=t){for(e=this.head;e&&e.value!==t;)e=e.next;if(e)return 1===this.size?this.head.value=this.tail.value=void 0:e===this.head?(this.head=this.head.next,this.head.prev=void 0):e===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(e.prev.next=e.next,e.next.prev=e.prev),this.size--,t}},t.prototype.indexOf=function(t,e){var n,i;if(null==e&&(e=0),null==this.head.value&&!this.head.next||e>=this.size)return-1;for(e=Math.max(0,this._adjust(e)),n=this.at(e),i=e;n&&n.value!==t;)n=n.next,i++;return i===this.size?-1:i},t.prototype._adjust=function(t){return 0>t?this.size+t:t},t}(),t.exports=e}).call(this)},function(t){(function(){var e,n,i,r,o={}.hasOwnProperty;n="_mapId_",e=function(){function t(e){var n,i;this._content={},this._itemId=0,this._id=t._newMapId(),this.size=0;for(n in e)o.call(e,n)&&(i=e[n],this.set(n,i))}return t._mapIdTracker=0,t._newMapId=function(){return this._mapIdTracker++},t.prototype.hash=function(t,e){var o,s;return null==e&&(e=!1),s=i(t),r(t)?(o=n+this._id,e&&!t[o]&&(t[o]=this._itemId++),o+"_"+t[o]):s+"_"+t},t.prototype.set=function(t,e){return this.has(t)||this.size++,this._content[this.hash(t,!0)]=[e,t],e},t.prototype.get=function(t){var e;return null!=(e=this._content[this.hash(t)])?e[0]:void 0},t.prototype.has=function(t){return this.hash(t)in this._content},t.prototype["delete"]=function(t){var e;return e=this.hash(t),e in this._content?(delete this._content[e],r(t)&&delete t[n+this._id],this.size--,!0):!1},t.prototype.forEach=function(t){var e,n,i;i=this._content;for(e in i)o.call(i,e)&&(n=i[e],t(n[1],n[0]))},t}(),r=function(t){var e,n,r,o,s;for(e=["Boolean","Number","String","Undefined","Null","RegExp","Function"],r=i(t),o=0,s=e.length;s>o;o++)if(n=e[o],r===n)return!1;return!0},i=function(t){return Object.prototype.toString.apply(t).match(/\[object (.+)\]/)[1]},t.exports=e}).call(this)},function(t){(function(){var e;e=function(){function t(t){null==t&&(t=[]),this._content=t,this._dequeueIndex=0,this.size=this._content.length}return t.prototype.enqueue=function(t){return this.size++,this._content.push(t),t},t.prototype.dequeue=function(){var t;if(0!==this.size)return this.size--,t=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),t},t.prototype.peek=function(){return this._content[this._dequeueIndex]},t}(),t.exports=e}).call(this)},function(t){(function(){var e,n,i,r,o,s,a,l,u,c,d,h,p,f,g;n=0,i=1,r=2,a=3,o=1,e=2,s=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this._root,this.size=0,n=0,i=t.length;i>n;n++)e=t[n],null!=e&&this.add(e)}return t.prototype.add=function(t){var s,d,h,p;if(null!=t){if(this.size++,h={value:t,_color:o},this._root){if(d=l(this._root,function(e){return t===e.value?n:t<e.value?e._left?i:(h._parent=e,e._left=h,a):e._right?r:(h._parent=e,e._right=h,a)}),null!=d)return}else this._root=h;for(s=h;;){if(s===this._root){s._color=e;break}if(s._parent._color===e)break;{if((null!=(p=g(s))?p._color:void 0)!==o){!c(s)&&c(s._parent)?(this._rotateLeft(s._parent),s=s._left):c(s)&&!c(s._parent)&&(this._rotateRight(s._parent),s=s._right),s._parent._color=e,u(s)._color=o,c(s)?this._rotateRight(u(s)):this._rotateLeft(u(s));break}s._parent._color=e,g(s)._color=e,u(s)._color=o,s=u(s)}}return t}},t.prototype.has=function(t){var e;return e=l(this._root,function(e){return t===e.value?n:t<e.value?i:r}),e?!0:!1},t.prototype.peekMin=function(){var t;return null!=(t=p(this._root))?t.value:void 0},t.prototype.peekMax=function(){var t;return null!=(t=h(this._root))?t.value:void 0},t.prototype.remove=function(t){var e;return(e=l(this._root,function(e){return t===e.value?n:t<e.value?i:r}))?(this._removeNode(this._root,e),this.size--,t):void 0},t.prototype.removeMin=function(){var t,e;return(t=p(this._root))?(e=t.value,this._removeNode(this._root,t),e):void 0},t.prototype.removeMax=function(){var t,e;return(t=h(this._root))?(e=t.value,this._removeNode(this._root,t),e):void 0},t.prototype._removeNode=function(t,n){var i,r,s,a,l,u,h,g,m,v;if(n._left&&n._right&&(r=p(n._right),n.value=r.value,n=r),r=n._left||n._right,r||(r={color:e,_right:void 0,_left:void 0,isLeaf:!0}),r._parent=n._parent,null!=(s=n._parent)&&(s[d(n)]=r),n._color===e)if(r._color===o)r._color=e,r._parent||(this._root=r);else for(;;){if(!r._parent){this._root=r.isLeaf?void 0:r;break}if(i=f(r),(null!=i?i._color:void 0)===o&&(r._parent._color=o,i._color=e,c(r)?this._rotateLeft(r._parent):this._rotateRight(r._parent)),i=f(r),r._parent._color!==e||i&&(i._color!==e||i._left&&i._left._color!==e||i._right&&i._right._color!==e)){if(!(r._parent._color!==o||i&&(i._color!==e||i._left&&(null!=(a=i._left)?a._color:void 0)!==e||i._right&&(null!=(l=i._right)?l._color:void 0)!==e))){null!=i&&(i._color=o),r._parent._color=e;break}if((null!=i?i._color:void 0)===e){!c(r)||i._right&&i._right._color!==e||(null!=(u=i._left)?u._color:void 0)!==o?c(r)||i._left&&i._left._color!==e||(null!=(g=i._right)?g._color:void 0)!==o||(i._color=o,null!=(m=i._right)&&(m._color=e),this._rotateLeft(i)):(i._color=o,null!=(h=i._left)&&(h._color=e),this._rotateRight(i));break}i=f(r),i._color=r._parent._color,c(r)?(i._right._color=e,this._rotateRight(r._parent)):(i._left._color=e,this._rotateLeft(r._parent))}else null!=i&&(i._color=o),r.isLeaf&&(r._parent[d(r)]=void 0),r=r._parent}return r.isLeaf&&null!=(v=r._parent)?v[d(r)]=void 0:void 0},t.prototype._rotateLeft=function(t){var e,n;return null!=(e=t._parent)&&(e[d(t)]=t._right),t._right._parent=t._parent,t._parent=t._right,t._right=t._right._left,t._parent._left=t,null!=(n=t._right)&&(n._parent=t),null==t._parent._parent?this._root=t._parent:void 0},t.prototype._rotateRight=function(t){var e,n;return null!=(e=t._parent)&&(e[d(t)]=t._left),t._left._parent=t._parent,t._parent=t._left,t._left=t._left._right,t._parent._right=t,null!=(n=t._left)&&(n._parent=t),null==t._parent._parent?this._root=t._parent:void 0},t}(),c=function(t){return t===t._parent._left},d=function(t){return c(t)?"_left":"_right"},l=function(t,e){var o,s,l;for(s=t,l=void 0;s;){if(o=e(s),o===n){l=s;break}if(o===i)s=s._left;else if(o===r)s=s._right;else if(o===a)break}return l},p=function(t){return l(t,function(t){return t._left?i:n})},h=function(t){return l(t,function(t){return t._right?r:n})},u=function(t){var e;return null!=(e=t._parent)?e._parent:void 0},g=function(t){return u(t)?c(t._parent)?u(t)._right:u(t)._left:void 0},f=function(t){return c(t)?t._parent._right:t._parent._left},t.exports=s}).call(this)},function(t,e,n){(function(){var e,i,r,o,s={}.hasOwnProperty;e=n(6),r="end",i=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this._root={},this.size=0,n=0,i=t.length;i>n;n++)e=t[n],this.add(e)}return t.prototype.add=function(t){var e,n,i,o;if(null!=t){for(this.size++,e=this._root,i=0,o=t.length;o>i;i++)n=t[i],null==e[n]&&(e[n]={}),e=e[n];return e[r]=!0,t}},t.prototype.has=function(t){var e,n,i,o;if(null==t)return!1;for(e=this._root,i=0,o=t.length;o>i;i++){if(n=t[i],null==e[n])return!1;e=e[n]}return e[r]?!0:!1},t.prototype.longestPrefixOf=function(t){var e,n,i,r,o;if(null==t)return"";for(e=this._root,i="",r=0,o=t.length;o>r&&(n=t[r],null!=e[n]);r++)i+=n,e=e[n];return i},t.prototype.wordsWithPrefix=function(t){var n,i,o,a,l,u,c,d,h,p;if(null==t)return[];for(null!=t||(t=""),c=[],i=this._root,d=0,h=t.length;h>d;d++)if(o=t[d],i=i[o],null==i)return[];for(l=new e,l.enqueue([i,""]);0!==l.size;){p=l.dequeue(),a=p[0],n=p[1],a[r]&&c.push(t+n);for(o in a)s.call(a,o)&&(u=a[o],l.enqueue([u,n+o]))}return c},t.prototype.remove=function(t){var e,n,i,s,a,l,u,c;if(null!=t){for(e=this._root,s=[],a=0,u=t.length;u>a;a++){if(i=t[a],null==e[i])return;e=e[i],s.push([i,e])}if(e[r]){if(this.size--,delete e[r],o(e,1))return t;for(n=l=c=s.length-1;(1>=c?1>=l:l>=1)&&!o(s[n][1],1);n=1>=c?++l:--l)delete s[n-1][1][s[n][0]];return o(this._root[s[0][0]],1)||delete this._root[s[0][0]],t}}},t}(),o=function(t,e){var n,i;if(0===e)return!0;i=0;for(n in t)if(s.call(t,n)&&(i++,i>=e))return!0;return!1},t.exports=i}).call(this)}]),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapMarkerSpiderfier",["uiGmapGoogleMapApi",function(e){var n=this,i={}.hasOwnProperty,r=[].slice;return this.OverlappingMarkerSpiderfier=function(){function e(t,e){var r,o,s,a,l,u;this.map=t,null==e&&(e={});for(o in e)i.call(e,o)&&(u=e[o],this[o]=u);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},l=["click","zoom_changed","maptypeid_changed"],s=0,a=l.length;a>s;s++)r=l[s],n.addListener(this.map,r,function(t){return function(){return t.unspiderfy()}}(this))}var n,o,s,a,l,u,c,d,h,p,f;for(d=e.prototype,h=[e,d],s=0,u=h.length;u>s;s++)f=h[s],f.VERSION="0.3.3";return o=void 0,n=void 0,c=void 0,p=2*Math.PI,d.keepSpiderfied=!1,d.markersWontHide=!1,d.markersWontMove=!1,d.nearbyDistance=20,d.circleSpiralSwitchover=9,d.circleFootSeparation=23,d.circleStartAngle=p/12,d.spiralFootSeparation=26,d.spiralLengthStart=11,d.spiralLengthFactor=4,d.spiderfiedZIndex=1e3,d.usualLegZIndex=10,d.highlightedLegZIndex=20,d.event="click",d.minZoomLevel=!1,d.legWeight=1.5,d.legColors={usual:{},highlighted:{}},l=d.legColors.usual,a=d.legColors.highlighted,e.initializeGoogleMaps=function(t){return o=t.maps,n=o.event,c=o.MapTypeId,l[c.HYBRID]=l[c.SATELLITE]="#fff",a[c.HYBRID]=a[c.SATELLITE]="#f00",l[c.TERRAIN]=l[c.ROADMAP]="#444",a[c.TERRAIN]=a[c.ROADMAP]="#f00",this.ProjHelper=function(t){return this.setMap(t)},this.ProjHelper.prototype=new o.OverlayView,this.ProjHelper.prototype.draw=function(){}},d.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},d.addMarker=function(t){var e;return null!=t._oms?this:(t._oms=!0,e=[n.addListener(t,this.event,function(e){return function(n){return e.spiderListener(t,n)}}(this))],this.markersWontHide||e.push(n.addListener(t,"visible_changed",function(e){return function(){return e.markerChangeListener(t,!1)}}(this))),this.markersWontMove||e.push(n.addListener(t,"position_changed",function(e){return function(){return e.markerChangeListener(t,!0)}}(this))),this.markerListenerRefs.push(e),this.markers.push(t),this)},d.markerChangeListener=function(t,e){return null==t._omsData||!e&&t.getVisible()||null!=this.spiderfying||null!=this.unspiderfying?void 0:this.unspiderfy(e?t:null)},d.getMarkers=function(){return this.markers.slice(0)},d.removeMarker=function(t){var e,i,r,o,s;if(null!=t._omsData&&this.unspiderfy(),e=this.arrIndexOf(this.markers,t),0>e)return this;for(s=this.markerListenerRefs.splice(e,1)[0],i=0,r=s.length;r>i;i++)o=s[i],n.removeListener(o);return delete t._oms,this.markers.splice(e,1),this},d.clearMarkers=function(){var t,e,i,r,o,s,a,l,u;for(this.unspiderfy(),u=this.markers,t=e=0,i=u.length;i>e;t=++e){for(a=u[t],s=this.markerListenerRefs[t],l=0,r=s.length;r>l;l++)o=s[l],n.removeListener(o);delete a._oms}return this.initMarkerArrays(),this},d.addListener=function(t,e){var n;return(null!=(n=this.listeners)[t]?n[t]:n[t]=[]).push(e),this},d.removeListener=function(t,e){var n;return n=this.arrIndexOf(this.listeners[t],e),0>n||this.listeners[t].splice(n,1),this},d.clearListeners=function(t){return this.listeners[t]=[],this},d.trigger=function(){var t,e,n,i,o,s,a,l;for(e=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],a=null!=(s=this.listeners[e])?s:[],l=[],i=0,o=a.length;o>i;i++)n=a[i],l.push(n.apply(null,t));return l},d.generatePtsCircle=function(t,e){var n,i,r,s,a,l,u,c;for(r=this.circleFootSeparation*(2+t),l=r/p,i=p/t,c=[],s=a=0,u=t;u>=0?u>a:a>u;s=u>=0?++a:--a)n=this.circleStartAngle+s*i,c.push(new o.Point(e.x+l*Math.cos(n),e.y+l*Math.sin(n)));return c},d.generatePtsSpiral=function(t,e){var n,i,r,s,a,l,u;for(s=this.spiralLengthStart,n=0,u=[],i=r=0,l=t;l>=0?l>r:r>l;i=l>=0?++r:--r)n+=this.spiralFootSeparation/s+5e-4*i,a=new o.Point(e.x+s*Math.cos(n),e.y+s*Math.sin(n)),s+=p*this.spiralLengthFactor/n,u.push(a);return u},d.spiderListener=function(e,n){var i,r,o,s,a,l,u,c,h,p,f,g,m;if(c=null!=e._omsData,c&&this.keepSpiderfied||("mouseover"===this.event?(i=this,r=function(){return i.unspiderfy()},t.clearTimeout(d.timeout),d.timeout=setTimeout(r,3e3)):this.unspiderfy()),c||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",e,n);for(p=[],f=[],h=this.nearbyDistance,g=h*h,u=this.llToPt(e.position),m=this.markers,o=0,s=m.length;s>o;o++)a=m[o],null!=a.map&&a.getVisible()&&(l=this.llToPt(a.position),this.ptDistanceSq(l,u)<g?p.push({marker:a,markerPt:l}):f.push(a));return 1===p.length?this.trigger("click",e,n):this.spiderfy(p,f)},d.markersNearMarker=function(t,e){var n,i,r,o,s,a,l,u,c,d,h;if(null==e&&(e=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(l=this.nearbyDistance,u=l*l,s=this.llToPt(t.position),a=[],c=this.markers,n=0,i=c.length;i>n&&(r=c[n],!(r!==t&&null!=r.map&&r.getVisible()&&(o=this.llToPt(null!=(d=null!=(h=r._omsData)?h.usualPosition:void 0)?d:r.position),this.ptDistanceSq(o,s)<u&&(a.push(r),e))));n++);return a},d.markersNearAnyOtherMarker=function(){var t,e,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m,v,y,b,w;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(f=this.nearbyDistance,g=f*f,h=function(){var t,e,n,i,r,o;for(n=this.markers,o=[],t=0,e=n.length;e>t;t++)a=n[t],o.push({pt:this.llToPt(null!=(i=null!=(r=a._omsData)?r.usualPosition:void 0)?i:a.position),willSpiderfy:!1});return o}.call(this),v=this.markers,e=i=0,r=v.length;r>i;e=++i)if(l=v[e],null!=l.map&&l.getVisible()&&(u=h[e],!u.willSpiderfy))for(y=this.markers,n=p=0,o=y.length;o>p;n=++p)if(c=y[n],n!==e&&null!=c.map&&c.getVisible()&&(d=h[n],(!(e>n)||d.willSpiderfy)&&this.ptDistanceSq(u.pt,d.pt)<g)){u.willSpiderfy=d.willSpiderfy=!0;break}for(b=this.markers,w=[],t=m=0,s=b.length;s>m;t=++m)a=b[t],h[t].willSpiderfy&&w.push(a);return w},d.makeHighlightListenerFuncs=function(t){return{highlight:function(e){return function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.highlighted[e.map.mapTypeId],zIndex:e.highlightedLegZIndex})}}(this),unhighlight:function(e){return function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.usual[e.map.mapTypeId],zIndex:e.usualLegZIndex})}}(this)}},d.spiderfy=function(t,e){var i,r,s,a,l,u,c,d,h,p,f;return this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel?!1:(this.spiderfying=!0,p=t.length,i=this.ptAverage(function(){var e,n,i;for(i=[],e=0,n=t.length;n>e;e++)d=t[e],i.push(d.markerPt);return i}()),a=p>=this.circleSpiralSwitchover?this.generatePtsSpiral(p,i).reverse():this.generatePtsCircle(p,i),f=function(){var e,i,d;for(d=[],e=0,i=a.length;i>e;e++)s=a[e],r=this.ptToLl(s),h=this.minExtract(t,function(t){return function(e){return t.ptDistanceSq(e.markerPt,s)}}(this)),c=h.marker,u=new o.Polyline({map:this.map,path:[c.position,r],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),c._omsData={usualPosition:c.position,leg:u},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.makeHighlightListenerFuncs(c),c._omsData.hightlightListeners={highlight:n.addListener(c,"mouseover",l.highlight),unhighlight:n.addListener(c,"mouseout",l.unhighlight)}),c.setPosition(r),c.setZIndex(Math.round(this.spiderfiedZIndex+s.y)),d.push(c);return d}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",f,e))},d.unspiderfy=function(t){var e,i,r,o,s,a,l;if(null==t&&(t=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,l=[],s=[],a=this.markers,e=0,i=a.length;i>e;e++)o=a[e],null!=o._omsData?(o._omsData.leg.setMap(null),o!==t&&o.setPosition(o._omsData.usualPosition),o.setZIndex(null),r=o._omsData.hightlightListeners,null!=r&&(n.removeListener(r.highlight),n.removeListener(r.unhighlight)),delete o._omsData,l.push(o)):s.push(o);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",l,s),this},d.ptDistanceSq=function(t,e){var n,i;return n=t.x-e.x,i=t.y-e.y,n*n+i*i},d.ptAverage=function(t){var e,n,i,r,s,a;for(s=a=0,e=0,n=t.length;n>e;e++)r=t[e],s+=r.x,a+=r.y;return i=t.length,new o.Point(s/i,a/i)},d.llToPt=function(t){return this.projHelper.getProjection().fromLatLngToDivPixel(t)},d.ptToLl=function(t){return this.projHelper.getProjection().fromDivPixelToLatLng(t)},d.minExtract=function(t,e){var n,i,r,o,s,a,l;for(r=s=0,a=t.length;a>s;r=++s)o=t[r],l=e(o),("undefined"==typeof n||null===n||i>l)&&(i=l,n=r);return t.splice(n,1)[0]},d.arrIndexOf=function(t,e){var n,i,r,o;if(null!=t.indexOf)return t.indexOf(e);for(n=i=0,r=t.length;r>i;n=++i)if(o=t[n],o===e)return n;return-1},e}(),e.then(function(){n.OverlappingMarkerSpiderfier.initializeGoogleMaps(t.google)}),this.OverlappingMarkerSpiderfier}]),e.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(e,n){return{init:_.once(function(){(function(){var i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t.NgMapCluster=function(t){function i(t){i.__super__.constructor.call(this,t),this.markers_=new n}return r(i,t),i.prototype.addMarker=function(t){var e,n;if(this.isMarkerAlreadyAdded_(t)){var i=this.markers_.get(t.key);if(i.getPosition().lat()==t.getPosition().lat()&&i.getPosition().lon()==t.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+t.getPosition().lat())/r,s=(this.center_.lng()*(r-1)+t.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,s),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();return t.isAdded=!0,this.markers_.push(t),e=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?t.getMap()!==this.map_&&t.setMap(this.map_):e<this.minClusterSize_?t.getMap()!==this.map_&&t.setMap(this.map_):e===this.minClusterSize_?this.markers_.each(function(t){t.setMap(null)}):t.setMap(null),!0},i.prototype.isMarkerAlreadyAdded_=function(t){return e.isNullOrUndefined(this.markers_.get(t.key))},i.prototype.getBounds=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(e){t.extend(e.getPosition())}),t},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new n,delete this.markers_},i}(Cluster),t.NgMapMarkerClusterer=function(t){function e(t,i,r){e.__super__.constructor.call(this,t,i,r),this.markers_=new n}return r(e,t),e.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new n},e.prototype.removeMarker_=function(t){return this.markers_.get(t.key)?(t.setMap(null),this.markers_.remove(t.key),!0):!1},e.prototype.createClusters_=function(t){var e,n,i,r=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625));var o=this.getExtendedBounds(i),s=Math.min(t+this.batchSize_,this.markers_.length),a=this.markers_.values();for(e=t;s>e;e++)n=a[e],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(s<this.markers_.length)this.timerRefStatic=setTimeout(function(){r.createClusters_(s)},0);else{for(e=0;e<this.clusters_.length;e++)this.clusters_[e].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},e.prototype.addToClosestCluster_=function(t){var e,n,i,r,o=4e4,s=null;for(e=0;e<this.clusters_.length;e++)i=this.clusters_[e],r=i.getCenter(),r&&(n=this.distanceBetweenPoints_(r,t.getPosition()),o>n&&(o=n,s=i));s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):(i=new NgMapCluster(this),i.addMarker(t),this.clusters_.push(i))},e.prototype.redraw_=function(){this.createClusters_(0)},e.prototype.resetViewport_=function(t){var e;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();this.clusters_=[],this.markers_.each(function(e){e.isAdded=!1,t&&e.setMap(null)})},e.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)"constructor"!==e&&(this.prototype[e]=t.prototype[e]);return this}.apply(t,[e])},ClusterIcon.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),n=parseInt(e[0].trim(),10),i=parseInt(e[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),t="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",t+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>",this.div_.title="undefined"==typeof this.sums_.title||""===this.sums_.title?this.cluster_.getMarkerClusterer().getTitle():this.sums_.title,this.div_.style.display=""}this.visible_=!0},e}(MarkerClusterer)}).call(this)})}}])}(window,angular),function(t,e){"use strict";function n(e){var n=x.defer();return _("Geocoder").geocode(t.isString(e)?{address:e}:e,function(t,e){e===w.GeocoderStatus.OK?n.resolve(t[0].geometry.location,t):(i("geocode: "+e),n.reject())}),n.promise}function i(){console&&console.error.apply(console,arguments)}function r(t){return(t.ngShow?"("+t.ngShow+")":"")+(t.ngHide?(t.ngShow?" && ":"")+"!("+t.ngHide+")":"")||""}function o(t){return t}function s(t){return t=1*t,isNaN(t)?void 0:t}function a(e){var n,i,r;return e instanceof w.LatLng?e:(t.isArray(e)?(n=s(e[0]),i=s(e[1])):t.isObject(e)&&(n=s(e.lat),i=s(e.lng)),M(n)&&M(i)&&(r=new w.LatLng(n,i)),r)}function l(n){var i,r,o;return!n||n instanceof w.LatLngBounds?n||e:(t.isArray(n)?2===n.length?(i=a(n[0]),r=a(n[1])):4===n.length&&(i=a([n[0],n[1]]),r=a([n[2],n[3]])):"ne"in n&&"sw"in n?(i=a(n.ne),r=a(n.sw)):"n"in n&&"e"in n&&"s"in n&&"w"in n&&(i=a([n.n,n.e]),r=a([n.s,n.w])),i&&r&&(o=new w.LatLngBounds(r,i)),o)}function u(t){return t+="",S(t.charAt(0))+t.substr(1)}function c(t){return t+="",t.charAt(0).toUpperCase()+t.substr(1)}function d(t,e){var n;return function(){return t&&(n=t.apply(e||this,arguments),t=null),n}}function h(t){return S(t.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/^[^_]+_/,""))}function p(t,e,n){$(n,function(n,i){var r=i.match(/^on(ce)?[A-Z]/);r&&w.event["addListener"+(r[1]?"Once":"")](t,h(i),function(t){C(function(){e.$apply(function(){var i=e.$new(!1);i.event=t,k(n)(i)})})})})}function f(e,i,r){var o,s;return T in i&&(s=e.$watch(i[T],function(e){o=e,e&&n(e).then(function(n){t.equals(o,e)&&r(n)})})),s}function g(t,e,n,i,r){function o(t){n.then(function(e){t=r(t),M(t)&&e["set"+c(i)](t)})}var s=S(i);s in e&&t.$watch(e[s],function(t){M(t)&&o(t)}),r===a&&f(t,e,function(t){o(t)})}function m(t,e,n,i){$(i,function(i,r){g(t,e,n,r,i)}),"options"in e&&g(t,e,n,"options",function(t){return $(i,function(e,n){n in t&&(t[n]=e(t[n]))}),t})}function v(e,n,r,o,s){function l(){var t=!0;return $(c,function(e){M(p[e])&&r[e]&&(p[e]=r[e](p[e])),t=t&&M(p[e])}),t}function u(){return l()?(s&&$(h,function(t){t()}),o(p),s):void 0}var c,d,h=[],p={};t.isString(r)?(c=r.split(" "),r={}):c=Object.keys(r),n.options&&(p=k(n.options)(e)),u()||$(c,function(t){var o=!1,s=S(t);s in n&&(o=!0,h.push(e.$watch(n[s],function(e){M(e)&&(p[t]=e,u())}))),r[t]===a&&(d=f(e,n,function(e){p[t]=e,u()}),d&&(o=!0,h.push(d))),o||M(p[t])||i(t+" missing")})}function y(n,i){var o=[i.directive||"gm"+c(S(n))];return t.isArray(i.require)?Array.prototype.push.apply(o,i.require):i.require&&t.isString(i.require)&&o.push(i.require),o.push("^gmMap"),{restrict:"E",scope:!0,require:o,controller:["$scope","$element","$attrs",function(t,o,s){function a(e){var n=r(s),a=h.get();n?t.$watch(n,function(n){l?i.visibility?i.visibility(t,o,s,f,n):l.setMap(n?a:null):(c(e,a,n),i.visibility&&i.visibility(t,o,s,f,n))
}):c(e,a,!0)}var l,c,h,f,g=i.name||u(n),y=this,b=x.defer();t.$on("$destroy",function(){l?(i.destroy?i.destroy(t,o,s,l):l.setMap(e),l=e,delete t[g]):b.reject()}),c=d(function(e,r,a){var u=i.opts?e.opts||{}:e;!a&&u.map&&delete u.map,l=i.instantiate?i.instantiate(t,o,s,e):new w[n](e),a&&!u.map&&l.setMap&&l.setMap(r),t[g]=l,p(l,t,s),b.resolve(l)}),y.init=d(function(e){f=e,h=f[f.length-1],h.then(function(e){var n={};i.create&&(s.options&&(n=k(s.options)(t),$(i.main,function(t,e){e in n&&(n[e]=t(n[e]))})),i.create(t,o,s,f,n,a))||v(t,s,i.main,function(n){i.opts?(n.opts=n.opts||{},n.opts.map=e):n.map=e,a(n),m(t,s,y,i.main)},!0)}),s.gmThen&&y.then(function(){k(s.gmThen)(t.$new(!1))})}),y.then=function(t){b.promise.then(t)},y.get=function(){return l}}],link:function(t,e,n,i){i[0].init(i)}}}function b(e,n){return y(e,t.extend({create:function(t,e,n,i,r,o){return n.ngShow||n.ngHide||i[0].then(function(t){t.setMap(i[1].get())}),o(r),!0}},n))}var w,_,x,k,C,$=t.forEach,M=t.isDefined,S=t.lowercase,T="gmAddress";_=function(){var t={};return function(e){return!t.hasOwnProperty(e)&&w[e]&&(t[e]=new w[e]),t[e]}}(),t.module("GoogleMapsNative",[]).provider("gmLibrary",function(){function e(){var t=s.url,e=t.indexOf("?");return-1===e?t+="?":e===t.length-1&&(t+="&"),$(s,function(e,n){-1===o.indexOf(n)&&(t+=n+"="+e+"&")}),s.libraries.length&&(t+="libraries="+s.libraries.join(",")),t}function n(t,n){var o,a=s.callback;return r||(r=!0,i=x.defer(),n.google&&n.google.maps?(i.resolve(),w=n.google.maps):(n[a]=function(){if(delete n[a],w=n.google.maps,!w)throw"google.maps library not found";i.resolve()},o=t[0].createElement("script"),o.type="text/javascript",o.src=e(),t.find("body").append(o))),i.promise}var i,r=!1,o=["url","libraries"],s={url:"https://maps.googleapis.com/maps/api/js",v:3,libraries:[],language:"en",sensor:"false",callback:"__mapLibraryLoaded"};this.configure=function(e){t.extend(s,e)},this.$get=["$document","$window","$rootScope","$q","$parse","$timeout",function(t,e,i,r,o,a){return x=r,k=o,C=a,{populate:function(t){t.google=e.google,i.google=e.google},load:function(){var i;return s.load?(i=x.defer(),s.load(i),i.promise.then(function(){return n(t,e)})):n(t,e)}}}]}).directive("gmMap",["gmLibrary",function(n){return{restrict:"E",scope:!0,controller:["$scope","$element","$attrs",function(i,l,u){function c(t){var e=r(u);e?i.$watch(e,function(e){e&&(h?C(function(){w.event.trigger(h,"resize")}):f(t))}):f(t)}var h,f,g=this,y=x.defer(),b=t.element(document.createElement("DIV"));l.css("position")||l.css("position","relative"),b.css({position:"absolute",top:0,right:0,bottom:0,left:0}),l.append(b),i.$on("$destroy",function(){h?(h=e,delete i.map):y.reject()}),f=d(function(t){C(function(){h=new w.Map(b[0],t),i.map=h,p(h,i,u),y.resolve(h)},100)}),g.init=function(){n.load().then(function(){n.populate(i),v(i,u,{center:a,zoom:s},function(t){c(t),m(i,u,g,{center:a,zoom:s,mapTypeId:o,heading:s,tilt:s})},!0)}),u.gmThen&&g.then(function(){k(u.gmThen)(i.$new(!1))})},g.then=function(t){y.promise.then(t)},g.get=function(){return h}}],link:function(t,e,n,i){i.init()}}}]).directive("gmMarker",function(){return y("Marker",{main:{position:a}})}).directive("gmCircle",function(){return y("Circle",{main:{center:a,radius:s}})}).directive("gmRectangle",function(){return y("Rectangle",{main:{bounds:l}})}).directive("gmInfowindow",function(){return y("InfoWindow",{require:"^?gmMarker",main:{position:a},destroy:function(t,e,n,i){i.close()},create:function(t,e,n,i,r,o){var s=i[0],l=i[1],u=i[2],c=function(t){o(t),n.ngShow||n.ngHide||s.then(function(t){t.open(u.get(),l?l.get():null)})};return l?l.then(function(){c(r)}):v(t,n,{position:a},function(e){c(e),m(t,n,i[0],{position:a})},!0),!0},visibility:function(t,e,n,i,r){var o=i[0].get(),s=i[1],a=i[2];return r?void o.open(a.get(),s?s.get():null):o.close()}})}).directive("gmDirections",function(){return{restrict:"E",scope:!0,require:["gmDirections","^gmMap"],controller:["$scope",function(t){var e=x.defer(),n={result:null,status:""};this._run=function(i){i.origin=a(i.origin)||i.origin,i.destination=a(i.destination)||i.destination,_("DirectionsService").route(i,function(i,r){n.result=i,n.status=r,t.$apply(function(){t.directions={result:i,status:r}}),e.resolve(n)})},this.then=function(t){e.promise.then(t)},this.get=function(){return n}}],link:function(t,e,n,i){var r=i[0],o=i[1];o.then(function(){v(t,n,"origin destination travelMode",function(t){r._run(t)})})}}}).directive("gmRenderer",function(){return y("DirectionsRenderer",{directive:"gmRenderer",name:"renderer",require:"^gmDirections",create:function(t,e,n,i,r,o){var s=i[0],a=i[1],l=i[2];return a.then(function(e){r.map=l.get(),r.directions=e.result,t.$watch("directions",function(t){s.get().setDirections(t.result)}),o(r)}),!0}})}).directive("gmPolyline",function(){return y("Polyline",{main:{path:function(t){return $(t,function(e,n){t[n]=a(e)}),t}}})}).directive("gmPolygon",function(){return y("Polygon",{main:{paths:function(t){return $(t,function(e,n){t[n]=a(e)}),t}}})}).directive("gmGroundoverlay",function(){return y("GroundOverlay",{opts:!0,instantiate:function(t,e,n,i){return new w.GroundOverlay(i.url,i.bounds,i.opts)},create:function(t,e,n,i,r,o){return i[1].then(function(){v(t,n,"url bounds",function(t){t.bounds=l(t.bounds),o(t)},!0)}),!0}})}).directive("gmKmllayer",function(){return y("KmlLayer",{opts:!0,main:{url:o},instantiate:function(t,e,n,i){return new w.KmlLayer(i.url,i.opts)}})}).directive("gmStyledmaptype",function(){return{restrict:"E",require:"^gmMap",link:function(t,n,i,r){r.then(function(n){t.map=n,n.mapTypes.set(i.id,new w.StyledMapType(k(i.styles)(t),i.options?k(i.options)(t):e))})}}}).directive("gmTrafficlayer",function(){return b("TrafficLayer")}).directive("gmBicyclinglayer",function(){return b("BicyclingLayer")}).directive("gmTransitlayer",function(){return b("TransitLayer")}).directive("gmStreetviewpanorama",["gmLibrary",function(t){return{restrict:"E",scope:!0,controller:["$scope","$element","$attrs",function(n,i,l){function u(t){var e=r(l);e?n.$watch(e,function(e){e&&(c?C(function(){w.event.trigger(c,"resize")}):h(t))}):h(t)}var c,h,f=this,g=x.defer();n.$on("$destroy",function(){c?(c=e,delete n.streetViewPanorama):g.reject()}),h=d(function(t){C(function(){c=new w.StreetViewPanorama(i[0],t),n.streetViewPanorama=c,p(c,n,l),g.resolve(c)},100)}),f.init=d(function(){t.load().then(function(){t.populate(n),v(n,l,{position:a},function(t){u(t),m(n,l,f,{position:a,pov:o,zoom:s})},!0)}),l.gmThen&&f.then(function(){k(l.gmThen)(n.$new(!1))})}),f.then=function(t){g.promise.then(t)},f.get=function(){return c}}],link:function(t,e,n,i){i.init()}}}])}(angular),angular.module("ngMap",[]),function(){"use strict";var t,e=function(e,n,i,r,o,s,a){t=o;var l=this;l.mapOptions,l.mapEvents,l.addObject=function(t,e){if(l.map){l.map[t]=l.map[t]||{};var n=Object.keys(l.map[t]).length;l.map[t][e.id||n]=e,l.map instanceof google.maps.Map&&("infoWindows"!=t&&e.setMap&&e.setMap&&e.setMap(l.map),e.centered&&e.position&&l.map.setCenter(e.position),"markers"==t&&l.objectChanged("markers"),"customMarkers"==t&&l.objectChanged("customMarkers"))}},l.deleteObject=function(t,e){if(e.map){var n=e.map[t];for(var i in n)n[i]===e&&(google.maps.event.clearInstanceListeners(e),delete n[i]);e.map&&e.setMap&&e.setMap(null),"markers"==t&&l.objectChanged("markers"),"customMarkers"==t&&l.objectChanged("customMarkers")}},l.observeAttrSetObj=function(e,n,i){if(n.noWatcher)return!1;for(var r=t.getAttrsToObserve(e),o=0;o<r.length;o++){var a=r[o];n.$observe(a,s.observeAndSet(a,i))}},l.zoomToIncludeMarkers=function(){var t=new google.maps.LatLngBounds;for(var e in l.map.markers)t.extend(l.map.markers[e].getPosition());for(var n in l.map.customMarkers)t.extend(l.map.customMarkers[n].getPosition());l.map.fitBounds(t)},l.objectChanged=function(t){!l.map||"markers"!=t&&"customMarkers"!=t||"auto"!=l.map.zoomToIncludeMarkers||l.zoomToIncludeMarkers()},l.initializeMap=function(){var o=l.mapOptions,c=l.mapEvents,d=l.map;if(l.map=a.getMapInstance(n[0]),s.setStyle(n[0]),d){var h=t.filter(i),p=t.getOptions(h),f=t.getControlOptions(h);o=angular.extend(p,f);for(var g in d){var m=d[g];if("object"==typeof m)for(var v in m)l.addObject(g,m[v])}l.map.showInfoWindow=l.showInfoWindow,l.map.hideInfoWindow=l.hideInfoWindow}o.zoom=o.zoom||15;var y=o.center;if(!o.center||"string"==typeof y&&y.match(/\{\{.*\}\}/))o.center=new google.maps.LatLng(0,0);else if(!(y instanceof google.maps.LatLng)){var b=o.center;delete o.center,s.getGeoLocation(b,o.geoLocationOptions).then(function(t){l.map.setCenter(t);var n=o.geoCallback;n&&r(n)(e)},function(){o.geoFallbackCenter&&l.map.setCenter(o.geoFallbackCenter)})}l.map.setOptions(o);for(var w in c)google.maps.event.addListener(l.map,w,c[w]);l.observeAttrSetObj(u,i,l.map),l.singleInfoWindow=o.singleInfoWindow,google.maps.event.addListenerOnce(l.map,"idle",function(){s.addMap(l),o.zoomToIncludeMarkers&&l.zoomToIncludeMarkers(),e.map=l.map,e.$emit("mapInitialized",l.map),i.mapInitialized&&r(i.mapInitialized)(e,{map:l.map})})},e.google=google;var u=t.orgAttributes(n),c=t.filter(i),d=t.getOptions(c,{scope:e}),h=t.getControlOptions(c),p=angular.extend(d,h),f=t.getEvents(e,c);Object.keys(f).length&&void 0,l.mapOptions=p,l.mapEvents=f,d.lazyInit?(l.map={id:i.id},s.addMap(l)):l.initializeMap(),d.triggerResize&&google.maps.event.trigger(l.map,"resize"),n.bind("$destroy",function(){a.returnMapInstance(l.map),s.deleteMap(l)})};e.$inject=["$scope","$element","$attrs","$parse","Attr2MapOptions","NgMap","NgMapPool"],angular.module("ngMap").controller("__MapController",e)}(),function(){"use strict";var t,e=function(e,i,r,o){o=o[0]||o[1];var s=t.orgAttributes(i),a=t.filter(r),l=t.getOptions(a,{scope:e}),u=t.getEvents(e,a),c=n(l,u);o.addObject("bicyclingLayers",c),o.observeAttrSetObj(s,r,c),i.bind("$destroy",function(){o.deleteObject("bicyclingLayers",c)})},n=function(t,e){var n=new google.maps.BicyclingLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n},i=function(n){return t=n,{restrict:"E",require:["?^map","?^ngMap"],link:e}};i.$inject=["Attr2MapOptions"],angular.module("ngMap").directive("bicyclingLayer",i)}(),function(){"use strict";var t,e,n,i=function(n,i,r,o){o=o[0]||o[1];var s=t.filter(r),a=t.getOptions(s,{scope:n}),l=t.getEvents(n,s),u=i[0].parentElement.removeChild(i[0]);e(u.innerHTML.trim())(n);for(var c in l)google.maps.event.addDomListener(u,c,l[c]);o.addObject("customControls",u);var d=a.position;o.map.controls[google.maps.ControlPosition[d]].push(u)},r=function(r,o,s){return t=r,e=o,n=s,{restrict:"E",require:["?^map","?^ngMap"],link:i}};r.$inject=["Attr2MapOptions","$compile","NgMap"],angular.module("ngMap").directive("customControl",r)}(),function(){"use strict";var t,e,n,i,r=function(t){t=t||{},this.el=document.createElement("div"),this.el.style.display="inline-block",this.visible=!0;for(var e in t)this[e]=t[e]},o=function(){r.prototype=new google.maps.OverlayView,r.prototype.setContent=function(t,e){this.el.innerHTML=t,this.el.style.position="absolute",e&&n(angular.element(this.el).contents())(e)},r.prototype.getDraggable=function(){return this.draggable},r.prototype.setDraggable=function(t){this.draggable=t},r.prototype.getPosition=function(){return this.position},r.prototype.setPosition=function(t){if(t&&(this.position=t),this.getProjection()&&"function"==typeof this.position.lng){var e=this.getProjection().fromLatLngToDivPixel(this.position),n=Math.round(e.x-this.el.offsetWidth/2),i=Math.round(e.y-this.el.offsetHeight-10);this.el.style.left=n+"px",this.el.style.top=i+"px"}},r.prototype.setZIndex=function(t){t&&(this.zIndex=t),this.el.style.zIndex=this.zIndex},r.prototype.setVisible=function(t){this.el.style.display=t?"inline-block":"none",this.visible=t},r.prototype.addClass=function(t){var e=this.el.className.trim().split(" ");-1==e.indexOf(t)&&e.push(t),this.el.className=e.join(" ")},r.prototype.removeClass=function(t){var e=this.el.className.split(" "),n=e.indexOf(t);n>-1&&e.splice(n,1),this.el.className=e.join(" ")},r.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},r.prototype.draw=function(){this.setPosition(),this.setZIndex(this.zIndex),this.setVisible(this.visible)},r.prototype.onRemove=function(){this.el.parentNode.removeChild(this.el)}},s=function(n,o){return function(s,a,l,u){u=u[0]||u[1];var c=t.orgAttributes(a),d=t.filter(l),h=t.getOptions(d,{scope:s}),p=t.getEvents(s,d),f=a[0].parentElement.removeChild(a[0]),g=new r(h);e(function(){s.$watch("["+o.join(",")+"]",function(){g.setContent(n,s)}),g.setContent(f.innerHTML,s);var t=f.firstElementChild.className;g.addClass("custom-marker"),g.addClass(t),h.position instanceof google.maps.LatLng||i.getGeoLocation(h.position).then(function(t){g.setPosition(t)})});for(var m in p)google.maps.event.addDomListener(g.el,m,p[m]);u.addObject("customMarkers",g),u.observeAttrSetObj(c,l,g),a.bind("$destroy",function(){u.deleteObject("customMarkers",g)})}},a=function(r,a,l,u){return t=l,e=r,n=a,i=u,{restrict:"E",require:["?^map","?^ngMap"],compile:function(t){o(),t[0].style.display="none";var e=t.html(),n=e.match(/{{([^}]+)}}/g),i=[];return(n||[]).forEach(function(t){var e=t.replace("{{","").replace("}}","");-1==t.indexOf("::")&&-1==t.indexOf("this.")&&-1==i.indexOf(e)&&i.push(t.replace("{{","").replace("}}",""))}),s(e,i)}}};a.$inject=["$timeout","$compile","Attr2MapOptions","NgMap"],angular.module("ngMap").directive("customMarker",a)}(),function(){"use strict";var t,e,n,i=function(t,e){t.panel&&(t.panel=document.getElementById(t.panel)||document.querySelector(t.panel));var n=new google.maps.DirectionsRenderer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n},r=function(t,i){var r=new google.maps.DirectionsService,o=i;o.travelMode=o.travelMode||"DRIVING";var s=["origin","destination","travelMode","transitOptions","unitSystem","durationInTraffic","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","region"];for(var a in o)-1===s.indexOf(a)&&delete o[a];o.waypoints&&("[]"==o.waypoints||""===o.waypoints)&&delete o.waypoints;var l=function(n){r.route(n,function(n,i){i==google.maps.DirectionsStatus.OK&&e(function(){t.setDirections(n)})})};o.origin&&o.destination&&("current-location"==o.origin?n.getCurrentPosition().then(function(t){o.origin=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),l(o)}):"current-location"==o.destination?n.getCurrentPosition().then(function(t){o.destination=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),l(o)}):l(o))},o=function(o,s,a,l){var u=o;t=l,e=s,n=a;var c=function(n,o,s,a){a=a[0]||a[1];var l=u.orgAttributes(o),c=u.filter(s),d=u.getOptions(c,{scope:n}),h=u.getEvents(n,c),p=u.getAttrsToObserve(l),f=i(d,h);a.addObject("directionsRenderers",f),p.forEach(function(t){!function(t){s.$observe(t,function(n){if("panel"==t)e(function(){var t=document.getElementById(n)||document.querySelector(n);t&&f.setPanel(t)});else if(d[t]!==n){var i=u.toOptionValue(n,{key:t});d[t]=i,r(f,d)}})}(t)}),t.getMap().then(function(){r(f,d)}),o.bind("$destroy",function(){a.deleteObject("directionsRenderers",f)})};return{restrict:"E",require:["?^map","?^ngMap"],link:c}};o.$inject=["Attr2MapOptions","$timeout","NavigatorGeolocation","NgMap"],angular.module("ngMap").directive("directions",o)}(),function(){"use strict";angular.module("ngMap").directive("drawingManager",["Attr2MapOptions",function(t){var e=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,n,i,r){r=r[0]||r[1];var o=e.filter(i),s=e.getOptions(o,{scope:t}),a=e.getControlOptions(o),l=e.getEvents(t,o),u=new google.maps.drawing.DrawingManager({drawingMode:s.drawingmode,drawingControl:s.drawingcontrol,drawingControlOptions:a.drawingControlOptions,circleOptions:s.circleoptions,markerOptions:s.markeroptions,polygonOptions:s.polygonoptions,polylineOptions:s.polylineoptions,rectangleOptions:s.rectangleoptions});i.$observe("drawingControlOptions",function(t){u.drawingControlOptions=e.getControlOptions({drawingControlOptions:t}).drawingControlOptions,u.setDrawingMode(null),u.setMap(r.map)});for(var c in l)google.maps.event.addListener(u,c,l[c]);r.addObject("mapDrawingManager",u),n.bind("$destroy",function(){r.deleteObject("mapDrawingManager",u)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("dynamicMapsEngineLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.visualization.DynamicMapsEngineLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var s=e.filter(r),a=e.getOptions(s,{scope:t}),l=e.getEvents(t,s,l),u=n(a,l);o.addObject("mapsEngineLayers",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("fusionTablesLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.FusionTablesLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var s=e.filter(r),a=e.getOptions(s,{scope:t}),l=e.getEvents(t,s,l),u=n(a,l);o.addObject("fusionTablesLayers",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("heatmapLayer",["Attr2MapOptions","$window",function(t,e){var n=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var s=n.filter(r),a=n.getOptions(s,{scope:t});if(a.data=e[r.data]||t[r.data],!(a.data instanceof Array))throw"invalid heatmap data";a.data=new google.maps.MVCArray(a.data);var l=new google.maps.visualization.HeatmapLayer(a);n.getEvents(t,s),o.addObject("heatmapLayers",l)}}}])}(),function(){"use strict";var t=function(t,e,n,i,r){var o=t,s=function(t,i,r){var o;!t.position||t.position instanceof google.maps.LatLng||delete t.position,o=new google.maps.InfoWindow(t);for(var s in i)s&&google.maps.event.addListener(o,s,i[s]);var a=r.html().trim();if(1!=angular.element(a).length)throw"info-window working as a template must have a container";return o.__template=a.replace(/\s?ng-non-bindable[='"]+/,""),o.__open=function(t,i,r){n(function(){r&&(i.anchor=r);var n=e(o.__template)(i);o.setContent(n[0]),i.$apply(),r&&r.getPosition?o.open(t,r):r&&r instanceof google.maps.LatLng?(o.open(t),o.setPosition(r)):o.open(t)})},o},a=function(t,e,n,a){a=a[0]||a[1],e.css("display","none");var l,u=o.orgAttributes(e),c=o.filter(n),d=o.getOptions(c,{scope:t}),h=o.getEvents(t,c);!d.position||d.position instanceof google.maps.LatLng||(l=d.position);var p=s(d,h,e);l&&r.getGeoLocation(l).then(function(e){p.setPosition(e),p.__open(a.map,t,e);var r=n.geoCallback;r&&i(r)(t)}),a.addObject("infoWindows",p),a.observeAttrSetObj(u,n,p),a.showInfoWindow=a.map.showInfoWindow=a.showInfoWindow||function(e,n,i){var r="string"==typeof e?e:n,o="string"==typeof e?n:i;if("string"==typeof o)if("undefined"!=typeof a.map.markers&&"undefined"!=typeof a.map.markers[o])o=a.map.markers[o];else{if("undefined"==typeof a.map.customMarkers[o])throw new Error("Cant open info window for id "+o+". Marker or CustomMarker is not defined");o=a.map.customMarkers[o]}var s=a.map.infoWindows[r],l=o?o:this.getPosition?this:null;s.__open(a.map,t,l),a.singleInfoWindow&&(a.lastInfoWindow&&t.hideInfoWindow(a.lastInfoWindow),a.lastInfoWindow=r)},a.hideInfoWindow=a.map.hideInfoWindow=a.hideInfoWindow||function(t,e){var n="string"==typeof t?t:e,i=a.map.infoWindows[n];i.close()},t.showInfoWindow=a.map.showInfoWindow,t.hideInfoWindow=a.map.hideInfoWindow,r.getMap().then(function(e){if(p.visible&&p.__open(e,t),p.visibleOnMarker){var n=p.visibleOnMarker;p.__open(e,t,e.markers[n])}})};return{restrict:"E",require:["?^map","?^ngMap"],link:a}};t.$inject=["Attr2MapOptions","$compile","$timeout","$parse","NgMap"],angular.module("ngMap").directive("infoWindow",t)}(),function(){"use strict";angular.module("ngMap").directive("kmlLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.KmlLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var s=e.orgAttributes(i),a=e.filter(r),l=e.getOptions(a,{scope:t}),u=e.getEvents(t,a),c=n(l,u);o.addObject("kmlLayers",c),o.observeAttrSetObj(s,r,c),i.bind("$destroy",function(){o.deleteObject("kmlLayers",c)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("mapData",["Attr2MapOptions","NgMap",function(t,e){var n=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r){var o=n.filter(r),s=n.getOptions(o,{scope:t}),a=n.getEvents(t,o,a);e.getMap().then(function(e){for(var n in s){var i=s[n];e.data[n]("function"==typeof t[i]?t[i]:i)}for(var r in a)e.data.addListener(r,a[r])})}}}])}(),function(){"use strict";var t,e,n,i,r=function(n,r,o){var s=o.mapLazyLoadParams||o.mapLazyLoad;if(window.lazyLoadCallback=function(){t(function(){r.html(i),e(r.contents())(n)},100)},void 0===window.google||void 0===window.google.maps){var a=document.createElement("script");a.src=s+(s.indexOf("?")>-1?"&":"?")+"callback=lazyLoadCallback",document.querySelector('script[src="'+a.src+'"]')||document.body.appendChild(a)}else r.html(i),e(r.contents())(n)},o=function(t,e){return!e.mapLazyLoad&&void 0,i=t.html(),n=e.mapLazyLoad,void 0!==window.google&&void 0!==window.google.maps?!1:(t.html(""),{pre:r})},s=function(n,i){return e=n,t=i,{compile:o}};s.$inject=["$compile","$timeout"],angular.module("ngMap").directive("mapLazyLoad",s)}(),function(){"use strict";angular.module("ngMap").directive("mapType",["$parse","NgMap",function(t,e){return{restrict:"E",require:["?^map","?^ngMap"],link:function(n,i,r,o){o=o[0]||o[1];var s,a=r.name;if(!a)throw"invalid map-type name";if(s=t(r.object)(n),!s)throw"invalid map-type object";e.getMap().then(function(t){t.mapTypes.set(a,s)}),o.addObject("mapTypes",s)}}}])}(),function(){"use strict";var t=function(){return{restrict:"AE",controller:"__MapController",conrollerAs:"ngmap"}};angular.module("ngMap").directive("map",[t]),angular.module("ngMap").directive("ngMap",[t])}(),function(){"use strict";angular.module("ngMap").directive("mapsEngineLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.visualization.MapsEngineLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var s=e.filter(r),a=e.getOptions(s,{scope:t}),l=e.getEvents(t,s,l),u=n(a,l);o.addObject("mapsEngineLayers",u)}}}])}(),function(){"use strict";var t,e,n,i=function(t,e){var i;if(n.defaultOptions.marker)for(var r in n.defaultOptions.marker)"undefined"==typeof t[r]&&(t[r]=n.defaultOptions.marker[r]);t.position instanceof google.maps.LatLng||(t.position=new google.maps.LatLng(0,0)),i=new google.maps.Marker(t),Object.keys(e).length>0;for(var o in e)o&&google.maps.event.addListener(i,o,e[o]);return i},r=function(r,o,s,a){a=a[0]||a[1];var l,u=t.orgAttributes(o),c=t.filter(s),d=t.getOptions(c,r,{scope:r}),h=t.getEvents(r,c);d.position instanceof google.maps.LatLng||(l=d.position);var p=i(d,h);a.addObject("markers",p),l&&n.getGeoLocation(l).then(function(t){p.setPosition(t),d.centered&&p.map.setCenter(t);var n=s.geoCallback;n&&e(n)(r)}),a.observeAttrSetObj(u,s,p),o.bind("$destroy",function(){a.deleteObject("markers",p)})},o=function(i,o,s){return t=i,e=o,n=s,{restrict:"E",require:["^?map","?^ngMap"],link:r}};o.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("marker",o)}(),function(){"use strict";angular.module("ngMap").directive("overlayMapType",["NgMap",function(t){return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,n,i,r){r=r[0]||r[1];var o=i.initMethod||"insertAt",s=e[i.object];t.getMap().then(function(t){if("insertAt"==o){var e=parseInt(i.index,10);t.overlayMapTypes.insertAt(e,s)}else"push"==o&&t.overlayMapTypes.push(s)}),r.addObject("overlayMapTypes",s)}}}])}(),function(){"use strict";var t=function(t,e){var n=t,i=function(t,i,r,o){if("false"===r.placesAutoComplete)return!1;var s=n.filter(r),a=n.getOptions(s,{scope:t}),l=n.getEvents(t,s),u=new google.maps.places.Autocomplete(i[0],a);for(var c in l)google.maps.event.addListener(u,c,l[c]);var d=function(){e(function(){o&&o.$setViewValue(i.val())},100)};google.maps.event.addListener(u,"place_changed",d),i[0].addEventListener("change",d),r.$observe("types",function(t){if(t){var e=n.toOptionValue(t,{key:"types"});u.setTypes(e)}})};return{restrict:"A",require:"?ngModel",link:i}};t.$inject=["Attr2MapOptions","$timeout"],angular.module("ngMap").directive("placesAutoComplete",t)}(),function(){"use strict";var t=function(t,e){var n,i=t.name;switch(delete t.name,i){case"circle":t.center instanceof google.maps.LatLng||(t.center=new google.maps.LatLng(0,0)),n=new google.maps.Circle(t);break;case"polygon":n=new google.maps.Polygon(t);break;case"polyline":n=new google.maps.Polyline(t);break;case"rectangle":n=new google.maps.Rectangle(t);break;case"groundOverlay":case"image":var r=t.url,o={opacity:t.opacity,clickable:t.clickable,id:t.id};n=new google.maps.GroundOverlay(r,t.bounds,o)}for(var s in e)e[s]&&google.maps.event.addListener(n,s,e[s]);return n},e=function(e,n,i){var r=e,o=function(e,o,s,a){a=a[0]||a[1];var l,u,c=r.orgAttributes(o),d=r.filter(s),h=r.getOptions(d,{scope:e}),p=r.getEvents(e,d);u=h.name,h.center instanceof google.maps.LatLng||(l=h.center);var f=t(h,p);a.addObject("shapes",f),l&&"circle"==u&&i.getGeoLocation(l).then(function(t){f.setCenter(t),f.centered&&f.map.setCenter(t);var i=s.geoCallback;i&&n(i)(e)}),a.observeAttrSetObj(c,s,f),o.bind("$destroy",function(){a.deleteObject("shapes",f)})};return{restrict:"E",require:["?^map","?^ngMap"],link:o}};e.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("shape",e)}(),function(){"use strict";var t=function(t,e){var n=t,i=function(t,e,n){var i,r;e.container&&(r=document.getElementById(e.container),r=r||document.querySelector(e.container)),r?i=new google.maps.StreetViewPanorama(r,e):(i=t.getStreetView(),i.setOptions(e));for(var o in n)o&&google.maps.event.addListener(i,o,n[o]);return i},r=function(t,r,o){var s=n.filter(o),a=n.getOptions(s,{scope:t}),l=n.getControlOptions(s),u=angular.extend(a,l),c=n.getEvents(t,s);e.getMap().then(function(t){var e=i(t,u,c);t.setStreetView(e),!e.getPosition()&&e.setPosition(t.getCenter()),google.maps.event.addListener(e,"position_changed",function(){e.getPosition()!==t.getCenter()&&t.setCenter(e.getPosition())});var n=google.maps.event.addListener(t,"center_changed",function(){e.setPosition(t.getCenter()),google.maps.event.removeListener(n)})})};return{restrict:"E",require:["?^map","?^ngMap"],link:r}};t.$inject=["Attr2MapOptions","NgMap"],angular.module("ngMap").directive("streetViewPanorama",t)}(),function(){"use strict";angular.module("ngMap").directive("trafficLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.TrafficLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var s=e.orgAttributes(i),a=e.filter(r),l=e.getOptions(a,{scope:t}),u=e.getEvents(t,a),c=n(l,u);o.addObject("trafficLayers",c),o.observeAttrSetObj(s,r,c),i.bind("$destroy",function(){o.deleteObject("trafficLayers",c)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("transitLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.TransitLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var s=e.orgAttributes(i),a=e.filter(r),l=e.getOptions(a,{scope:t}),u=e.getEvents(t,a),c=n(l,u);o.addObject("transitLayers",c),o.observeAttrSetObj(s,r,c),i.bind("$destroy",function(){o.deleteObject("transitLayers",c)})}}}])}(),function(){"use strict";var t=/([\:\-\_]+(.))/g,e=/^moz([A-Z])/,n=function(){return function(n){return n.replace(t,function(t,e,n,i){return i?n.toUpperCase():n}).replace(e,"Moz$1")}};angular.module("ngMap").filter("camelCase",n)}(),function(){"use strict";var t=function(){return function(t){try{return JSON.parse(t),t}catch(e){return t.replace(/([\$\w]+)\s*:/g,function(t,e){return'"'+e+'":'}).replace(/'([^']+)'/g,function(t,e){return'"'+e+'"'})}}};angular.module("ngMap").filter("jsonize",t)}(),function(){"use strict";var isoDateRE=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/,Attr2MapOptions=function($parse,$timeout,$log,NavigatorGeolocation,GeoCoder,camelCaseFilter,jsonizeFilter){var orgAttributes=function(t){t.length>0&&(t=t[0]);for(var e={},n=0;n<t.attributes.length;n++){var i=t.attributes[n];e[i.name]=i.value}return e},getJSON=function(t){var e=/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/;return t.match(e)&&(t="["+t+"]"),JSON.parse(jsonizeFilter(t))},getLatLng=function(t){var e=t;return t[0].constructor==Array?e=t.map(function(t){return new google.maps.LatLng(t[0],t[1])}):!isNaN(parseFloat(t[0]))&&isFinite(t[0])&&(e=new google.maps.LatLng(e[0],e[1])),e},toOptionValue=function(input,options){var output;try{output=getNumber(input)}catch(err){try{var output=getJSON(input);if(output instanceof Array)output=output[0].constructor==Object?output:getLatLng(output);else if(output===Object(output)){var newOptions=options;newOptions.doNotConverStringToNumber=!0,output=getOptions(output,newOptions)}}catch(err2){if(input.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{var exp="new google.maps."+input;output=eval(exp)}catch(e){output=input}else if(input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/))try{var matches=input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(e){output=input}else if(input.match(/^[A-Z]+$/))try{var capitalizedKey=options.key.charAt(0).toUpperCase()+options.key.slice(1);options.key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,""),output=google.maps.weather[capitalizedKey][input]):output=google.maps[capitalizedKey][input]}catch(e){output=input}else if(input.match(isoDateRE))try{output=new Date(input)}catch(e){output=input}else if(input.match(/^{/)&&options.scope)try{var expr=input.replace(/{{/,"").replace(/}}/g,"");output=options.scope.$eval(expr)}catch(err){output=input}else output=input}}if(("center"==options.key||"center"==options.key)&&output instanceof Array&&(output=new google.maps.LatLng(output[0],output[1])),"bounds"==options.key&&output instanceof Array&&(output=new google.maps.LatLngBounds(output[0],output[1])),"icons"==options.key&&output instanceof Array)for(var i=0;i<output.length;i++){var el=output[i];el.icon.path.match(/^[A-Z_]+$/)&&(el.icon.path=google.maps.SymbolPath[el.icon.path])}if("icon"==options.key&&output instanceof Object){(""+output.path).match(/^[A-Z_]+$/)&&(output.path=google.maps.SymbolPath[output.path]);for(var key in output){var arr=output[key];"anchor"==key||"origin"==key?output[key]=new google.maps.Point(arr[0],arr[1]):("size"==key||"scaledSize"==key)&&(output[key]=new google.maps.Size(arr[0],arr[1]))}}return output},getAttrsToObserve=function(t){var e=[];if(!t.noWatcher)for(var n in t){var i=t[n];i&&i.match(/\{\{.*\}\}/)&&e.push(camelCaseFilter(n))}return e},filter=function(t){var e={};for(var n in t)n.match(/^\$/)||n.match(/^ng[A-Z]/)||(e[n]=t[n]);return e},getOptions=function(t,e){e=e||{};var n={};for(var i in t)if(t[i]||0===t[i]){if(i.match(/^on[A-Z]/))continue;if(i.match(/ControlOptions$/))continue;n[i]="string"!=typeof t[i]?t[i]:e.doNotConverStringToNumber&&t[i].match(/^[0-9]+$/)?t[i]:toOptionValue(t[i],{key:i,scope:e.scope})}return n},getEvents=function(t,e){var n={},i=function(t){return"_"+t.toLowerCase()},r=function(e){var n=e.match(/([^\(]+)\(([^\)]*)\)/),i=n[1],r=n[2].replace(/event[ ,]*/,""),o=$parse("["+r+"]");return function(e){function n(t,e){return t[e]}var r=o(t),s=i.split(".").reduce(n,t);s&&s.apply(this,[e].concat(r)),$timeout(function(){t.$apply()})}};for(var o in e)if(e[o]){if(!o.match(/^on[A-Z]/))continue;var s=o.replace(/^on/,"");s=s.charAt(0).toLowerCase()+s.slice(1),s=s.replace(/([A-Z])/g,i);
var a=e[o];n[s]=new r(a)}return n},getControlOptions=function(t){var e={};if("object"!=typeof t)return!1;for(var n in t)if(t[n]){if(!n.match(/(.*)ControlOptions$/))continue;var i=t[n],r=i.replace(/'/g,'"');r=r.replace(/([^"]+)|("[^"]+")/g,function(t,e,n){return e?e.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):n});try{var o=JSON.parse(r);for(var s in o)if(o[s]){var a=o[s];if("string"==typeof a?a=a.toUpperCase():"mapTypeIds"===s&&(a=a.map(function(t){return t.match(/^[A-Z]+$/)?google.maps.MapTypeId[t.toUpperCase()]:t})),"style"===s){var l=n.charAt(0).toUpperCase()+n.slice(1),u=l.replace(/Options$/,"")+"Style";o[s]=google.maps[u][a]}else o[s]="position"===s?google.maps.ControlPosition[a]:a}e[n]=o}catch(c){}}return e};return{filter:filter,getOptions:getOptions,getEvents:getEvents,getControlOptions:getControlOptions,toOptionValue:toOptionValue,getAttrsToObserve:getAttrsToObserve,orgAttributes:orgAttributes}};Attr2MapOptions.$inject=["$parse","$timeout","$log","NavigatorGeolocation","GeoCoder","camelCaseFilter","jsonizeFilter"],angular.module("ngMap").service("Attr2MapOptions",Attr2MapOptions)}(),function(){"use strict";var t,e=function(e){var n=t.defer(),i=new google.maps.Geocoder;return i.geocode(e,function(t,e){e==google.maps.GeocoderStatus.OK?n.resolve(t):n.reject(e)}),n.promise},n=function(n){return t=n,{geocode:e}};n.$inject=["$q"],angular.module("ngMap").service("GeoCoder",n)}(),function(){"use strict";var t,e=function(e){var n=t.defer();return navigator.geolocation?(void 0===e?e={timeout:5e3}:void 0===e.timeout&&(e.timeout=5e3),navigator.geolocation.getCurrentPosition(function(t){n.resolve(t)},function(t){n.reject(t)},e)):n.reject("Browser Geolocation service failed."),n.promise},n=function(n){return t=n,{getCurrentPosition:e}};n.$inject=["$q"],angular.module("ngMap").service("NavigatorGeolocation",n)}(),function(){"use strict";var t,e,n=[],i=function(i){var r=e.createElement("div");r.style.width="100%",r.style.height="100%",i.appendChild(r);var o=new t.google.maps.Map(r,{});return n.push(o),o},r=function(t){for(var e,i=0;i<n.length;i++){var r=n[i];if(!r.inUse){var o=r.getDiv();t.appendChild(o),e=r;break}}return e},o=function(t){var e=r(t);return e||(e=i(t)),e.inUse=!0,e},s=function(t){t.inUse=!1},a=function(i,r){return e=i[0],t=r,{mapInstances:n,getMapInstance:o,returnMapInstance:s}};a.$inject=["$document","$window"],angular.module("ngMap").factory("NgMapPool",a)}(),function(){"use strict";var t,e,n,i,r,o,s,a={},l=function(n,i){var r;return n.currentStyle?r=n.currentStyle[i]:t.getComputedStyle&&(r=e.defaultView.getComputedStyle(n,null).getPropertyValue(i)),r},u=function(t){var e=a[t||0];return e.map instanceof google.maps.Map?void 0:(e.initializeMap(),e.map)},c=function(e){function i(e){a[o]?r.resolve(a[o].map):e>s?r.reject("could not find map"):t.setTimeout(function(){i(e+100)},100)}e=e||{};var r=n.defer(),o=e.id||0,s=e.timeout||2e3;return i(0),r.promise},d=function(t){if(t.map){var e=Object.keys(a).length;a[t.map.id||e]=t}},h=function(t){var e=Object.keys(a).length-1,n=t.map.id||e;t.map.controls.forEach(function(t){t.clear()}),delete a[n]},p=function(t,e){var r=n.defer();return!t||t.match(/^current/i)?i.getCurrentPosition(e).then(function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new google.maps.LatLng(e,n);r.resolve(i)},function(t){r.reject(t)}):o.geocode({address:t}).then(function(t){r.resolve(t[0].geometry.location)},function(t){r.reject(t)}),r.promise},f=function(t,e){return function(n){if(n){var i=s("set-"+t),o=r.toOptionValue(n,{key:t});e[i]&&(t.match(/center|position/)&&"string"==typeof o?p(o).then(function(t){e[i](t)}):e[i](o))}}},g=function(t){var e=t.getAttribute("default-style");"true"==e?(t.style.display="block",t.style.height="300px"):("block"!=l(t,"display")&&(t.style.display="block"),l(t,"height").match(/^(0|auto)/)&&(t.style.height="300px"))};angular.module("ngMap").provider("NgMap",function(){var a={};this.setDefaultOptions=function(t){a=t};var l=function(l,m,v,y,b,w,_){return t=l,e=m[0],n=v,i=y,r=b,o=w,s=_,{defaultOptions:a,addMap:d,deleteMap:h,getMap:c,initMap:u,setStyle:g,getGeoLocation:p,observeAndSet:f}};l.$inject=["$window","$document","$q","NavigatorGeolocation","Attr2MapOptions","GeoCoder","camelCaseFilter"],this.$get=l})}(),function(){"use strict";var t,e=function(e,n){n=n||e.getCenter();var i=t.defer(),r=new google.maps.StreetViewService;return r.getPanoramaByLocation(n||e.getCenter,100,function(t,e){i.resolve(e===google.maps.StreetViewStatus.OK?t.location.pano:!1)}),i.promise},n=function(t,e){var n=new google.maps.StreetViewPanorama(t.getDiv(),{enableCloseButton:!0});n.setPano(e)},i=function(i){return t=i,{getPanorama:e,setPanorama:n}};i.$inject=["$q"],angular.module("ngMap").service("StreetView",i)}(),function(){function t(t){function e(e,n,i){function r(){var t=s.querySelector("tbody tr:first-child td:first-child");return t&&!t.style.width}function o(){angular.element(s.querySelectorAll("thead, tbody, tfoot")).css("display",""),t(function(){angular.forEach(s.querySelectorAll("tr:first-child th"),function(t,e){var n=s.querySelector("tbody tr:first-child td:nth-child("+(e+1)+")"),i=s.querySelector("tfoot tr:first-child td:nth-child("+(e+1)+")"),r=n?n.offsetWidth:t.offsetWidth;n&&(n.style.width=r+"px"),t&&(t.style.width=r+"px"),i&&(i.style.width=r+"px")}),angular.element(s.querySelectorAll("thead, tfoot")).css("display","block"),angular.element(s.querySelectorAll("tbody")).css({display:"block",height:i.tableHeight||"inherit",overflow:"auto"});var t=s.querySelector("tbody"),e=t.offsetWidth-t.clientWidth;if(e>0){e-=2;var n=s.querySelector("tbody tr:first-child td:last-child");n.style.width=n.offsetWidth-e+"px"}})}var s=n[0];e.$watch(r,function(t){t&&o()})}return{restrict:"A",link:e}}angular.module("anguFixedHeaderTable",[]).directive("fixedHeader",t),t.$inject=["$timeout"]}(),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(t,e,n,i,r,o){o=o||{};var s=0,a="ui-tinymce";return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(l,u,c,d){function h(t){t?(p(),g&&g.getBody().setAttribute("contenteditable",!1)):(p(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function p(){g||(g=tinymce.get(c.id))}if(i.tinymce){var f,g,m=d[0],v=d[1]||null,y={},b=function(e){var n=e.getContent({format:y.format}).trim();n=r.trustAsHtml(n),m.$setViewValue(n),t.$$phase||l.$digest()};c.$set("id",a+"-"+s++),f={},angular.extend(f,l.$eval(c.uiTinymce));var w=function(t){var e;return function(i){n.cancel(e),e=n(function(){return function(t){t.isDirty()&&(t.save(),b(t))}(i)},t)}}(400),_={setup:function(t){t.on("init",function(){m.$render(),m.$setPristine(),m.$setUntouched(),v&&v.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){w(t)}),t.on("blur",function(){u[0].blur(),m.$setTouched(),l.$digest()}),t.on("remove",function(){u.remove()}),f.setup&&f.setup(t,{updateView:b})},format:f.format||"html",selector:"#"+c.id};angular.extend(y,o,f,_),n(function(){y.baseURL&&(tinymce.baseURL=y.baseURL),tinymce.init(y),h(l.$eval(c.ngDisabled))}),m.$formatters.unshift(function(t){return t?r.trustAsHtml(t):""}),m.$parsers.unshift(function(t){return t?r.getTrustedHtml(t):""}),m.$render=function(){p();var t=m.$viewValue?r.getTrustedHtml(m.$viewValue):"";g&&g.getDoc()&&(g.setContent(t),g.fire("change"))},c.$observe("disabled",h),l.$on("$tinymce:refresh",function(t,n){var i=c.id;if(angular.isUndefined(n)||n===i){var r=u.parent(),o=u.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,i),r.append(e(o)(l))}}),l.$on("$destroy",function(){p(),g&&(g.remove(),g=null)})}}}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="monospaced.elastic"),angular.module("monospaced.elastic",[]).constant("msdElasticConfig",{append:""}).directive("msdElastic",["$timeout","$window","msdElasticConfig",function(t,e,n){"use strict";return{require:"ngModel",restrict:"A, C",link:function(i,r,o,s){function a(){var t=v;p=c,w=getComputedStyle(c),angular.forEach(T,function(e){t+=e+":"+w.getPropertyValue(e)+";"}),b.setAttribute("style",t)}function l(){var e,n,r,o,s;p!==c&&a(),f||(f=!0,b.value=c.value+g,b.style.overflowY=c.style.overflowY,e=""===c.style.height?"auto":parseInt(c.style.height,10),n=getComputedStyle(c).getPropertyValue("width"),"px"===n.substr(n.length-2,2)&&(o=parseInt(n,10)-k.width,b.style.width=o+"px"),r=b.scrollHeight,r>S?(r=S,s="scroll"):M>r&&(r=M),r+=k.height,c.style.overflowY=s||"hidden",e!==r&&(i.$emit("elastic:resize",d,e,r),c.style.height=r+"px"),t(function(){f=!1},1,!1))}function u(){f=!1,l()}var c=r[0],d=r;if("TEXTAREA"===c.nodeName&&e.getComputedStyle){d.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});var h=c.value;c.value="",c.value=h;var p,f,g=o.msdElastic?o.msdElastic.replace(/\\n/g,"\n"):n.append,m=angular.element(e),v="position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;",y=angular.element('<textarea aria-hidden="true" tabindex="-1" style="'+v+'"/>').data("elastic",!0),b=y[0],w=getComputedStyle(c),_=w.getPropertyValue("resize"),x="border-box"===w.getPropertyValue("box-sizing")||"border-box"===w.getPropertyValue("-moz-box-sizing")||"border-box"===w.getPropertyValue("-webkit-box-sizing"),k=x?{width:parseInt(w.getPropertyValue("border-right-width"),10)+parseInt(w.getPropertyValue("padding-right"),10)+parseInt(w.getPropertyValue("padding-left"),10)+parseInt(w.getPropertyValue("border-left-width"),10),height:parseInt(w.getPropertyValue("border-top-width"),10)+parseInt(w.getPropertyValue("padding-top"),10)+parseInt(w.getPropertyValue("padding-bottom"),10)+parseInt(w.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},C=parseInt(w.getPropertyValue("min-height"),10),$=parseInt(w.getPropertyValue("height"),10),M=Math.max(C,$)-k.height,S=parseInt(w.getPropertyValue("max-height"),10),T=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];d.data("elastic")||(S=S&&S>0?S:9e4,b.parentNode!==document.body&&angular.element(document.body).append(b),d.css({resize:"none"===_||"vertical"===_?"none":"horizontal"}).data("elastic",!0),c.oninput="onpropertychange"in c&&"oninput"in c?c.onkeyup=l:l,m.bind("resize",u),i.$watch(function(){return s.$modelValue},function(){u()}),i.$on("elastic:adjust",function(){a(),u()}),t(l,0,!1),i.$on("$destroy",function(){y.remove(),m.unbind("resize",u)}))}}}}]),function(){"use strict";function t(t){return angular.isUndefined(t)||null===t}function e(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function n(n,i){if("undefined"==typeof i){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");i=e()}return n.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",i).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(e,i,r,o){return function(s,a,l){function u(){var t;if(g)t=g;else if(o.serverTime){var e=(new Date).getTime(),n=e-x+o.serverTime;t=i(n)}else t=i();return t}function c(){m&&(e.clearTimeout(m),m=null)}function d(t){var n=u().diff(t,_),i=b&&n>=b;if(a.text(i?t.format(w):t.from(u(),v)),y&&$&&a.attr("title",t.format(y)),!i){var r=Math.abs(u().diff(t,"minute")),o=3600;1>r?o=1:60>r?o=30:180>r&&(o=300),m=e.setTimeout(function(){d(t)},1e3*o)}}function h(t){C&&a.attr("datetime",t)}function p(){if(c(),f){var t=r.preprocessDate(f);d(t),h(t.toISOString())}}var f,g,m=null,v=o.withoutSuffix,y=o.titleFormat,b=o.fullDateThreshold,w=o.fullDateFormat,_=o.fullDateThresholdUnit,x=(new Date).getTime(),k=l.amTimeAgo,C="TIME"===a[0].nodeName.toUpperCase(),$=!a.attr("title");s.$watch(k,function(e){return t(e)||""===e?(c(),void(f&&(a.text(""),h(""),f=null))):(f=e,void p())}),n.isDefined(l.amFrom)&&s.$watch(l.amFrom,function(e){g=t(e)||""===e?null:i(e),p()}),n.isDefined(l.amWithoutSuffix)&&s.$watch(l.amWithoutSuffix,function(t){"boolean"==typeof t?(v=t,p()):v=o.withoutSuffix}),l.$observe("amFullDateThreshold",function(t){b=t,p()}),l.$observe("amFullDateFormat",function(t){w=t,p()}),l.$observe("amFullDateThresholdUnit",function(t){_=t,p()}),s.$on("$destroy",function(){c()}),s.$on("amMoment:localeChanged",function(){p()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,e,i,r){var o=null;this.changeLocale=function(i,r){var o=t.locale(i,r);return n.isDefined(i)&&e.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(n){t.tz&&t.tz.setDefault?(t.tz.setDefault(n),e.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=n,o=n},this.preprocessDate=function(e){return o!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(t){return function(e,n){return t(e,n)}}]).filter("amFromUnix",["moment",function(t){return function(e){return t.unix(e)}}]).filter("amUtc",["moment",function(t){return function(e){return t.utc(e)}}]).filter("amUtcOffset",["amMoment",function(t){function e(e,n){return t.preprocessDate(e).utcOffset(n)}return e}]).filter("amLocal",["moment",function(t){return function(e){return t.isMoment(e)?e.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(t,e,n){function i(e,i){var r=t.preprocessDate(e);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}return i}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i,r){if(t(e))return"";var o=n.preprocessDate(e);return o.isValid()?o.calendar(i,r):""}return r.$stateful=i.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o,s){if(t(i))return"";var a=n.preprocessDate(i),l=t(r)?e():n.preprocessDate(r);return a.isValid()&&l.isValid()?a.diff(l,o,s):""}return r.$stateful=i.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i){if(t(e))return"";var r=n.preprocessDate(e);return r.isValid()?r.format(i):""}return r.$stateful=i.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e.duration(n,i).humanize(r)}return i.$stateful=n.statefulFilters,i}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o){var s,a;return t(i)?"":(i=n.preprocessDate(i),s=e(i),s.isValid()?(a=e(o),!t(o)&&a.isValid()?s.from(a,r):s.fromNow(r)):"")}return r.$stateful=i.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).subtract(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amAdd",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).add(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amStartOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).startOf(i)}return i.$stateful=n.statefulFilters,i}]).filter("amEndOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).endOf(i)}return i.$stateful=n.statefulFilters,i}]),"angularMoment"}var i=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],n):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!i?module.exports=n(require("angular"),require("moment")):n(angular,("undefined"!=typeof global?global:window).moment)}(),function(){"use strict";angular.module("gantt",["gantt.templates","angularMoment"]).directive("gantt",["Gantt","ganttEnableNgAnimate","$timeout","$templateCache",function(t,e,n,i){return{restrict:"A",transclude:!0,templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"template/gantt.tmpl.html":e.templateUrl,void 0!==e.template&&i.put(n,e.template),n},scope:{sortMode:"=?",filterTask:"=?",filterTaskComparator:"=?",filterRow:"=?",filterRowComparator:"=?",viewScale:"=?",columnWidth:"=?",expandToFit:"=?",shrinkToFit:"=?",showSide:"=?",allowSideResizing:"=?",fromDate:"=?",toDate:"=?",currentDateValue:"=?",currentDate:"=?",daily:"=?",autoExpand:"=?",taskOutOfRange:"=?",taskContent:"=?",rowContent:"=?",maxHeight:"=?",sideWidth:"=?",headers:"=?",headersFormats:"=?",timeFrames:"=?",dateFrames:"=?",timeFramesWorkingMode:"=?",timeFramesNonWorkingMode:"=?",timespans:"=?",columnMagnet:"=?",shiftColumnMagnet:"=?",timeFramesMagnet:"=?",data:"=?",api:"=?",options:"=?"},controller:["$scope","$element",function(n,i){for(var r in n.options)n[r]=n.options[r];e(i,!1),n.gantt=new t(n,i),this.gantt=n.gantt}],link:function(t,e){t.gantt.api.directives.raise["new"]("gantt",t,e),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("gantt",t,e)}),n(function(){t.gantt.initialized()})}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttApi",["$q","$rootScope","ganttUtils",function(t,e,n){function i(t,n,i,r){return e.$on(t,function(){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(r?r:i.api,t)})}var r=function(t){this.gantt=t,this.listeners=[],this.apiId=n.newId()};return r.prototype.suppressEvents=function(t,e){var n=this,r=angular.isArray(t)?t:[t],o=[];r.forEach(function(t){o=n.listeners.filter(function(e){return t===e.handler})}),o.forEach(function(t){t.dereg()}),e(),o.forEach(function(t){t.dereg=i(t.eventId,t.handler,n.gantt,t._this)})},r.prototype.registerEvent=function(t,n){var r=this;r[t]||(r[t]={});var o=r[t];o.on||(o.on={},o.raise={});var s="event:gantt:"+this.apiId+":"+t+":"+n;o.raise[n]=function(){e.$emit.apply(e,[s].concat(Array.prototype.slice.call(arguments)))},o.on[n]=function(t,e,n){var o=i(s,e,r.gantt,n),a={handler:e,dereg:o,eventId:s,scope:t,_this:n};r.listeners.push(a);var l=function(){a.dereg();var t=r.listeners.indexOf(a);r.listeners.splice(t,1)};return t.$on("$destroy",function(){l()}),l}},r.prototype.registerEventsFromObject=function(t){var e=this,n=[];angular.forEach(t,function(t,e){var i={name:e,events:[]};angular.forEach(t,function(t,e){i.events.push(e)}),n.push(i)}),n.forEach(function(t){t.events.forEach(function(n){e.registerEvent(t.name,n)})})},r.prototype.registerMethod=function(t,e,i,r){this[t]||(this[t]={});var o=this[t];o[e]=n.createBoundedWrapper(r||this.gantt,i)},r.prototype.registerMethodsFromObject=function(t,e){var n=this,i=[];angular.forEach(t,function(t,e){var n={name:e,methods:[]};angular.forEach(t,function(t,e){n.methods.push({name:e,fn:t})}),i.push(n)}),i.forEach(function(t){t.methods.forEach(function(i){n.registerMethod(t.name,i.name,i.fn,e)})})},r}])}(),function(){"use strict";angular.module("gantt").factory("GanttOptions",[function(){var t=function(t,e){this.defaultValues=e,this.values=t,this.defaultValue=function(t){var e=this.defaultValues[t];return angular.isFunction(e)&&(e=e()),e},this.sanitize=function(t,e){if(!e){var n=this.defaultValue(t);if(void 0!==n)return void 0!==e&&"boolean"==typeof n?e:n}return e},this.value=function(t){return this.sanitize(t,this.values[t])},this.set=function(t,e){this.values[t]=e},this.initialize=function(){for(var t in this.values){var e=this.values[t];this.values.hasOwnProperty(t)&&(this.values[t]=this.value(t,e))}return this.values}};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttCalendar",["$filter","moment",function(t,e){var n=function(t){void 0===t&&(t={}),this.start=t.start,this.end=t.end,this.working=t.working,this.magnet=void 0!==t.magnet?t.magnet:!0,this["default"]=t["default"],this.color=t.color,this.classes=t.classes,this.internal=t.internal};n.prototype.updateView=function(){if(this.$element){var t={};t.left=void 0!==this.left?this.left+"px":"",t.width=void 0!==this.width?this.width+"px":"",t["background-color"]=void 0!==this.color?this.color:"",this.$element.css(t);var e=["gantt-timeframe"+(this.working?"":"-non")+"-working"];this.classes&&(e=e.concat(this.classes));for(var n=0,i=e.length;i>n;n++)this.$element.toggleClass(e[n],!0)}},n.prototype.getDuration=function(){return void 0!==this.end&&void 0!==this.start?this.end.diff(this.start,"milliseconds"):void 0},n.prototype.clone=function(){return new n(this)};var i=function(t){this.func=t};i.prototype.getTimeFrames=function(t){var e=this.func(t);return e instanceof Array||(e=[e]),e},i.prototype.clone=function(){return new i(this.func)};var r=function(t){this.evaluator=t.evaluator,t.date?(this.start=e(t.date).startOf("day"),this.end=e(t.date).endOf("day")):(this.start=t.start,this.end=t.end),this.targets=t.targets instanceof Array?t.targets:[t.targets],this["default"]=t["default"]};r.prototype.dateMatch=function(t){return this.evaluator?this.evaluator(t):this.start&&this.end?t>=this.start&&t<=this.end:!1},r.prototype.clone=function(){return new r(this)};var o=function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}};o.prototype.clear=function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}},o.prototype.registerTimeFrames=function(t){angular.forEach(t,function(t,e){this.timeFrames[e]=new n(t)},this)},o.prototype.removeTimeFrames=function(t){angular.forEach(t,function(t){delete this.timeFrames[t]},this)},o.prototype.clearTimeFrames=function(){this.timeFrames={}},o.prototype.registerTimeFrameMappings=function(t){angular.forEach(t,function(t,e){this.timeFrameMappings[e]=new i(t)},this)},o.prototype.removeTimeFrameMappings=function(t){angular.forEach(t,function(t){delete this.timeFrameMappings[t]},this)},o.prototype.clearTimeFrameMappings=function(){this.timeFrameMappings={}},o.prototype.registerDateFrames=function(t){angular.forEach(t,function(t,e){this.dateFrames[e]=new r(t)},this)},o.prototype.removeDateFrames=function(t){angular.forEach(t,function(t){delete this.dateFrames[t]},this)},o.prototype.clearDateFrames=function(){this.dateFrames={}};var s=function(t,e){var n=[];return angular.forEach(t,function(t){t.dateMatch(e)&&n.push(t)}),0===n.length&&angular.forEach(t,function(t){t["default"]&&n.push(t)}),n};return o.prototype.getTimeFrames=function(t){for(var n=[],i=s(this.dateFrames,t),r=0;r<i.length;r++)if(void 0!==i[r])for(var o=i[r].targets,a=0;a<o.length;a++){var l=this.timeFrameMappings[o[a]];if(void 0!==l)n.push(l.getTimeFrames());else{var u=this.timeFrames[o[a]];void 0!==u&&n.push(u)}}var c=t.year(),d=t.month(),h=t.date(),p=[];for(0===n.length&&angular.forEach(this.timeFrames,function(t){t["default"]&&n.push(t)}),r=0;r<n.length;r++){var f=n[r].clone();void 0!==f.start&&(f.start.year(c),f.start.month(d),f.start.date(h)),void 0!==f.end&&(f.end.year(c),f.end.month(d),f.end.date(h),e(f.end).startOf("day")===f.end&&f.end.add(1,"day")),p.push(f)}return p},o.prototype.solve=function(i,r,o){for(var s,a,l,u,c=0;c<i.length;c++){var d=i[c];(void 0===l||l>d.start)&&(l=d.start),(void 0===u||u<d.end)&&(u=d.end),void 0===s&&d.color&&(s=d.color),void 0!==d.classes&&(void 0===a&&(a=[]),a=a.concat(d.classes))}void 0===r&&(r=l),void 0===o&&(o=u);var h=[new n({start:r,end:o,internal:!0})];for(i=t("filter")(i,function(t){return(void 0===t.start||t.start<o)&&(void 0===t.end||t.end>r)}),c=0;c<i.length;c++){var p=i[c];p.start||(p.start=r),p.end||(p.end=o)}var f,g=t("orderBy")(i,function(t){return-t.getDuration()});for(c=0;c<g.length;c++){var m=g[c],v=h.slice();f=0;for(var y=!1,b=!1,w=0;w<h.length;w++){var _=h[w];if(!b){if(m.end||m.start)if(m.end>_.start&&m.start<_.end){var x=_.clone();_.end=e(m.start),x.start=e(m.end),v.splice(f+1,0,m.clone(),x),b=!0,y=!1}else!y&&m.start<_.end?(_.end=e(m.start),v.splice(f+1,0,m.clone()),y=!0):y&&m.end>_.start&&(_.start=e(m.end),y=!1,b=!0);else v.splice(f,0,m),b=!0,y=!1;f++}}h=v}return h=t("filter")(h,function(t){return!t.internal&&(void 0===t.start||t.start<o)&&(void 0===t.end||t.end>r)})},o}])}(),function(){"use strict";angular.module("gantt").factory("GanttCurrentDateManager",["moment",function(t){var e=function(e){var n=this;this.gantt=e,this.date=void 0,this.position=void 0,this.currentDateColumn=void 0,this.gantt.$scope.simplifyMoment=function(e){return t.isMoment(e)?e.unix():e},this.gantt.$scope.$watchGroup(["currentDate","simplifyMoment(currentDateValue)"],function(t,e){t!==e&&n.setCurrentDate(n.gantt.options.value("currentDateValue"))})};return e.prototype.setCurrentDate=function(t){this.date=t;var e,n=this.currentDateColumn;void 0!==this.date&&"column"===this.gantt.options.value("currentDate")&&(e=this.gantt.columnsManager.getColumnByDate(this.date,!0)),this.currentDateColumn=e,n!==e&&(void 0!==n&&(n.currentDate=!1,n.updateView()),void 0!==e&&(e.currentDate=!0,e.updateView())),this.position=this.gantt.getPositionByDate(this.date,!0)},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumn",["moment",function(t){var e=function(t,e,n,i,r,o,s){this.date=t,this.endDate=e,this.left=n,this.width=i,this.calendar=r,this.duration=this.endDate.diff(this.date,"milliseconds"),this.timeFramesWorkingMode=o,this.timeFramesNonWorkingMode=s,this.timeFrames=[],this.currentDate=!1,this.visibleTimeFrames=[],this.daysTimeFrames={},this.cropped=!1,this.originalSize={left:this.left,width:this.width},this.updateTimeFrames()},n=function(t){return t.year()+"-"+t.month()+"-"+t.date()};return e.prototype.updateView=function(){if(this.$element){this.currentDate?this.$element.addClass("gantt-foreground-col-current-date"):this.$element.removeClass("gantt-foreground-col-current-date"),this.$element.css({left:this.left+"px",width:this.width+"px"});for(var t=0,e=this.timeFrames.length;e>t;t++)this.timeFrames[t].updateView()}},e.prototype.updateTimeFrames=function(){var e=this;if(void 0!==e.calendar&&("hidden"!==e.timeFramesNonWorkingMode||"hidden"!==e.timeFramesWorkingMode)){for(var i,r=e.date,o=t(r).startOf("day"),s=o.add(1,"day");r<e.endDate;){var a=e.calendar.getTimeFrames(r),l=t.min(s,e.endDate);a=e.calendar.solve(a,r,l);var u=[];for(i=0;i<a.length;i++){var c=a[i],d=c.start;void 0===d&&(d=r);var h=c.end;void 0===h&&(h=l),d<e.date&&(d=e.date),h>e.endDate&&(h=e.endDate),c=c.clone(),c.start=t(d),c.end=t(h),u.push(c)}e.timeFrames=e.timeFrames.concat(u);var p=n(r);e.daysTimeFrames[p]=u,r=l,o=t(r).startOf("day"),s=o.add(1,"day")}for(i=0;i<e.timeFrames.length;i++){var f=e.timeFrames[i],g=f.start.diff(e.date,"milliseconds"),m=g/e.duration*e.width,v=f.end.diff(f.start,"milliseconds"),y=v/e.duration*e.width,b=!1;f.working&&"visible"!==e.timeFramesWorkingMode?b=!0:f.working||"visible"===e.timeFramesNonWorkingMode||(b=!0),b||e.visibleTimeFrames.push(f),f.hidden=b,f.left=m,f.width=y,f.originalSize={left:f.left,width:f.width}}if("cropped"===e.timeFramesNonWorkingMode||"cropped"===e.timeFramesWorkingMode){for(var w=0,_=0;_<e.timeFrames.length;_++){var x=e.timeFrames[_];(!x.working&&"cropped"!==e.timeFramesNonWorkingMode||x.working&&"cropped"!==e.timeFramesWorkingMode)&&(w+=x.width)}if(w!==e.width){var k=e.width/w,C=0,$=0,M=!0;for(_=0;_<e.timeFrames.length;_++){var S=e.timeFrames[_];!S.working&&"cropped"!==e.timeFramesNonWorkingMode||S.working&&"cropped"!==e.timeFramesWorkingMode?(S.left=(S.left-C)*k,S.width=S.width*k,S.originalSize.left=(S.originalSize.left-$)*k,S.originalSize.width=S.originalSize.width*k,S.cropped=!1,M=!1):(C+=S.width,$+=S.originalSize.width,S.left=void 0,S.width=0,S.originalSize={left:void 0,width:0},S.cropped=!0)}e.cropped=M}else e.cropped=!1}}},e.prototype.clone=function(){return new e(t(this.date),t(this.endDate),this.left,this.width,this.calendar)},e.prototype.containsDate=function(t){return t>this.date&&t<=this.endDate},e.prototype.equals=function(t){return this.date===t.date},e.prototype.roundTo=function(t,e,n,i){"day"===e&&(e="date"),n=n||1;var r=t.get(e);switch(i){case"up":r=Math.ceil(r/n);break;case"down":r=Math.floor(r/n);break;default:r=Math.round(r/n)}var o=["millisecond","second","minute","hour","date","month","year"];t.set(e,r*n);for(var s=o.indexOf(e),a=0;s>a;a++)t.set(o[a],0);return t},e.prototype.getMagnetDate=function(e,n,i,r){if(n>0&&void 0!==i){var o=e;if(e=t(e),"column"===i){var s=this.getPositionByDate(e);e=t(s<this.width/2?this.date:this.endDate)}else e=this.roundTo(e,i,n),e<this.date?e=t(this.date):e>this.endDate&&(e=t(this.endDate));if(r)for(var a,l=Math.abs(o.diff(e,"milliseconds")),u=0;u<this.timeFrames.length;u++){var c=this.timeFrames[u];if(c.magnet){var d,h=this.timeFrames[u-1],p=this.timeFrames[u+1];(void 0===h||h.working!==c.working)&&(d=Math.abs(o.diff(c.start,"milliseconds")),l>d&&(void 0===a||a>d)&&(a=d,e=c.start)),(void 0===p||p.working!==c.working)&&(d=Math.abs(o.diff(c.end,"milliseconds")),l>d&&(void 0===a||a>d)&&(a=d,e=c.end))}}}return e},e.prototype.getDateByPositionUsingTimeFrames=function(e){for(var n=0,i=this.timeFrames.length;i>n;n++){var r=this.timeFrames[n];if(!r.cropped&&e>=r.left&&e<=r.left+r.width){var o=r.getDuration()/r.width*(e-r.left),s=t(r.start).add(o,"milliseconds");return s}}},e.prototype.getDateByPosition=function(e,n,i,r){var o,s;return 0>e&&(e=0),e>this.width&&(e=this.width),("cropped"===this.timeFramesNonWorkingMode||"cropped"===this.timeFramesWorkingMode)&&(s=this.getDateByPositionUsingTimeFrames(e)),void 0===s&&(o=this.duration/this.width*e,s=t(this.date).add(o,"milliseconds")),s=this.getMagnetDate(s,n,i,r)},e.prototype.getDayTimeFrame=function(t){var e=this.daysTimeFrames[n(t)];return void 0===e?[]:e},e.prototype.getPositionByDate=function(t){var e,n;if("cropped"===this.timeFramesNonWorkingMode||"cropped"===this.timeFramesWorkingMode)for(var i=t,r=this.getDayTimeFrame(i),o=0;o<r.length;o++){var s=r[o];if(i>=s.start&&i<=s.end){if(!s.cropped)return e=i.diff(s.start,"milliseconds"),n=e/s.getDuration()*s.width,this.left+s.left+n;i=r.length>o+1?r[o+1].start:s.end}}return e=t.diff(this.date,"milliseconds"),n=e/this.duration*this.width,0>n&&(n=0),n>this.width&&(n=this.width),this.left+n},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnBuilder",["GanttColumn",function(t){var e=function(t){this.columnsManager=t};return e.prototype.newColumn=function(e,n,i,r){var o=this.columnsManager.gantt.calendar,s=this.columnsManager.gantt.options.value("timeFramesWorkingMode"),a=this.columnsManager.gantt.options.value("timeFramesNonWorkingMode");return new t(e,n,i,r,o,s,a)},e}])}(),function(){"use strict";angular.module("gantt").service("GanttColumnGenerator",["moment",function(t){var e=function(e,n,i){return t(e).add(n,i).startOf(i)===e},n=function(t){return["hour","minute","second","millisecond"].indexOf(t)>=0?0:void 0},i=function(t,e,i){var r=e.get(t),o=i.get(t),s=n(t);void 0!==s&&o!==s&&r>o&&i.set(t,s)};this.generate=function(n,r,o,s,a,l,u,c){if(!o&&!l)throw"to or maximumWidth must be defined";s=s.trim(),"s"===s.charAt(s.length-1)&&(s=s.substring(0,s.length-1));var d,h,p;s&&(p=s.split(" ")),p&&p.length>1?(d=parseFloat(p[0]),h=p[p.length-1]):(d=1,h=s);var f=!1;r=t(r).startOf(h),o&&(f=e(o),o=t(o).startOf(h));var g=0,m=t(r).startOf(h);c&&(m.add(-d,h),g-=a);for(var v=[];;){if(l&&Math.abs(g)>l+a)break;var y=t(m),b=t(y).add(d,h);i(h,y,b);var w=n.newColumn(y,b,u?g+u:g,a);if(w.cropped||(v.push(w),c?g-=a:g+=a),o)if(c){if(f&&o>m||!f&&o>=m)break}else if(f&&m>o||!f&&m>=o)break;c?(m.add(-d,h),i(h,m,y)):(m.add(d,h),i(h,y,m))}return c&&(e(r,d,h)&&v.shift(),v.reverse()),v}}])}(),function(){"use strict";
angular.module("gantt").factory("GanttColumnHeader",["moment","GanttColumn",function(t,e){var n=function(n,i,r,o,s,a){n=t(n),i=t(i);var l=new e(n,i,o,s);return l.unit=r,l.label=angular.isFunction(a)?a(l):n.format(a),l};return n}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnsManager",["GanttColumnGenerator","GanttColumnBuilder","GanttHeadersGenerator","$filter","$timeout","ganttLayout","ganttBinarySearch","moment",function(t,e,n,i,r,o,s,a){var l=function(t){var n=this;this.gantt=t,this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.scrollAnchor=void 0,this.columnBuilder=new e(this),this.gantt.$scope.$watchGroup(["viewScale","columnWidth","timeFramesWorkingMode","timeFramesNonWorkingMode","fromDate","toDate","autoExpand","taskOutOfRange"],function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headers",function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headersFormats",function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchGroup(["ganttElementWidth","showSide","sideWidth","maxHeight","daily"],function(t,e){t!==e&&n.gantt.rendered&&n.updateColumnsMeta()}),this.gantt.api.data.on.load(this.gantt.$scope,function(){(void 0===n.from||void 0===n.to||n.from>n.gantt.rowsManager.getDefaultFrom()||n.to<n.gantt.rowsManager.getDefaultTo())&&n.gantt.rendered&&n.generateColumns(),n.gantt.rowsManager.sortRows()}),this.gantt.api.data.on.remove(this.gantt.$scope,function(){n.gantt.rowsManager.sortRows()}),this.gantt.api.registerMethod("columns","clear",this.clearColumns,this),this.gantt.api.registerMethod("columns","generate",this.generateColumns,this),this.gantt.api.registerMethod("columns","refresh",this.updateColumnsMeta,this),this.gantt.api.registerMethod("columns","getColumnsWidth",this.getColumnsWidth,this),this.gantt.api.registerMethod("columns","getColumnsWidthToFit",this.getColumnsWidthToFit,this),this.gantt.api.registerMethod("columns","getDateRange",this.getDateRange,this),this.gantt.api.registerEvent("columns","clear"),this.gantt.api.registerEvent("columns","generate"),this.gantt.api.registerEvent("columns","refresh")};l.prototype.setScrollAnchor=function(){if(this.gantt.scroll.$element&&this.columns.length>0){var t=this.gantt.scroll.$element[0],e=t.scrollLeft+t.offsetWidth/2;this.scrollAnchor=this.gantt.getDateByPosition(e)}},l.prototype.scrollToScrollAnchor=function(){var t=this;this.columns.length>0&&void 0!==this.scrollAnchor&&this.gantt.$scope.$$postDigest(function(){t.gantt.api.scroll.toDate(t.scrollAnchor)})},l.prototype.clearColumns=function(){this.setScrollAnchor(),this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.gantt.api.columns.raise.clear()},l.prototype.generateColumns=function(e,i){return e||(e=this.gantt.options.value("fromDate")),i||(i=this.gantt.options.value("toDate")),(e&&(!a.isMoment(e)||e.isValid())||(e=this.gantt.rowsManager.getDefaultFrom()))&&(i&&(!a.isMoment(i)||i.isValid())||(i=this.gantt.rowsManager.getDefaultTo()))?(void 0===e||a.isMoment(e)||(e=a(e)),void 0===i||a.isMoment(i)||(i=a(i)),"expand"===this.gantt.options.value("taskOutOfRange")&&(e=this.gantt.rowsManager.getExpandedFrom(e),i=this.gantt.rowsManager.getExpandedTo(i)),this.setScrollAnchor(),this.from=e,this.to=i,this.columns=t.generate(this.columnBuilder,e,i,this.gantt.options.value("viewScale"),this.getColumnsWidth()),this.headers=n.generate(this),this.previousColumns=[],this.nextColumns=[],this.updateColumnsMeta(),this.scrollToScrollAnchor(),void this.gantt.api.columns.raise.generate(this.columns,this.headers)):!1},l.prototype.updateColumnsMeta=function(){this.gantt.isRefreshingColumns=!0;var t=this.getLastColumn();this.gantt.originalWidth=void 0!==t?t.originalSize.left+t.originalSize.width:0;var e=this.updateColumnsWidths(this.columns,this.headers,this.previousColumns,this.nextColumns);this.gantt.width=void 0!==t?t.left+t.width:0;var n=this.gantt.options.value("showSide"),i=this.gantt.side.isShown(),r=n!==i;r&&!n&&this.gantt.side.show(!1),this.gantt.rowsManager.updateTasksPosAndSize(),this.gantt.timespansManager.updateTimespansPosAndSize(),this.updateVisibleColumns(e),this.gantt.rowsManager.updateVisibleObjects();var o=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(o),r&&n&&this.gantt.side.show(!0),this.gantt.isRefreshingColumns=!1,this.gantt.api.columns.raise.refresh(this.columns,this.headers)},l.prototype.getLastColumn=function(t){var e=this.columns;return t&&(e=this.nextColumns),e&&e.length>0?e[e.length-1]:void 0},l.prototype.getFirstColumn=function(t){var e=this.columns;return t&&(e=this.previousColumns),e&&e.length>0?e[0]:void 0},l.prototype.getColumnByDate=function(t,e){e||this.expandExtendedColumnsForDate(t);var n=this.previousColumns.concat(this.columns,this.nextColumns),i=s.get(n,t,function(t){return t.date},!0);return void 0===i[0]?i[1]:i[0]},l.prototype.getColumnByPosition=function(t,e){e||this.expandExtendedColumnsForPosition(t);var n=this.previousColumns.concat(this.columns,this.nextColumns),i=s.get(n,t,function(t){return t.left},!0);return void 0===i[0]?i[1]:i[0]},l.prototype.updateColumnsWidths=function(t,e,n,i){var r=this.gantt.options.value("columnWidth"),s=this.gantt.options.value("expandToFit"),a=this.gantt.options.value("shrinkToFit");if(void 0===r||s||a){var l=this.gantt.getBodyAvailableWidth(),u=this.gantt.columnsManager.getLastColumn(!1);if(void 0!==u){var c=u.originalSize.left+u.originalSize.width;if(s&&l>c||a&&c>l||void 0===r){var d=l/c;o.setColumnsWidthFactor(t,d);for(var h=0;h<e.length;h++)o.setColumnsWidthFactor(e[h],d);return n.splice(0,this.previousColumns.length),i.splice(0,this.nextColumns.length),!0}}}return!1},l.prototype.getColumnsWidth=function(){var t=this.gantt.options.value("columnWidth");return void 0===t&&(t=!this.gantt.width||this.gantt.width<=0?20:this.gantt.width/this.columns.length),t},l.prototype.getColumnsWidthToFit=function(){return this.gantt.getBodyAvailableWidth()/this.columns.length},l.prototype.expandExtendedColumnsForPosition=function(e){var n;if(0>e){var i=this.getFirstColumn(),r=i.date,o=this.getFirstColumn(!0);return(!o||o.left>e)&&(n=this.gantt.options.value("viewScale"),this.previousColumns=t.generate(this.columnBuilder,r,void 0,n,this.getColumnsWidth(),-e,0,!0)),!0}if(e>this.gantt.width){var s=this.getLastColumn(),a=s.getDateByPosition(s.width),l=this.getLastColumn(!0);return(!l||l.left+l.width<e)&&(n=this.gantt.options.value("viewScale"),this.nextColumns=t.generate(this.columnBuilder,a,void 0,n,this.getColumnsWidth(),e-this.gantt.width,this.gantt.width,!1)),!0}return!1},l.prototype.expandExtendedColumnsForDate=function(e){var n,i=this.getFirstColumn();i&&(n=i.date);var r,o=this.getLastColumn();o&&(r=o.getDateByPosition(o.width));var s;if(n&&n>e){var a=this.getFirstColumn(!0);return(!a||a.date>e)&&(s=this.gantt.options.value("viewScale"),this.previousColumns=t.generate(this.columnBuilder,n,e,s,this.getColumnsWidth(),void 0,0,!0)),!0}if(r&&e>=r){var l=this.getLastColumn(!0);return(!l||l.date<r)&&(s=this.gantt.options.value("viewScale"),this.nextColumns=t.generate(this.columnBuilder,r,e,s,this.getColumnsWidth(),void 0,this.gantt.width,!1)),!0}return!1},l.prototype.getActiveHeadersCount=function(){return this.headers.length},l.prototype.updateVisibleColumns=function(t){this.visibleColumns=i("ganttColumnLimit")(this.columns,this.gantt),this.visibleHeaders=[];for(var e=0;e<this.headers.length;e++)this.visibleHeaders.push(i("ganttColumnLimit")(this.headers[e],this.gantt));if(t){for(e=0;e<this.visibleColumns.length;e++)this.visibleColumns[e].updateView();for(e=0;e<this.visibleHeaders.length;e++)for(var n=this.visibleHeaders[e],r=0;r<n.length;r++)n[r].updateView()}var o=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(o)};var u={year:"YYYY",quarter:"[Q]Q YYYY",month:"MMMM YYYY",week:"w",day:"D",hour:"H",minute:"HH:mm"},c={day:"LL",hour:"H",minute:"HH:mm"},d={year:"YYYY",quarter:"[Q]Q",month:"MMMM"};return l.prototype.getHeaderFormat=function(t){var e,n=this.gantt.options.value("headersFormats");if(void 0!==n&&(e=n[t]),void 0===e){var i=this.gantt.options.value("viewScale");i=i.trim(),"s"===i.charAt(i.length-1)&&(i=i.substring(0,i.length-1));var r,o;i&&(o=i.split(" ")),r=o&&o.length>1?o[o.length-1]:i,["millisecond","second","minute","hour"].indexOf(r)>-1?e=c[t]:["month","quarter","year"].indexOf(r)>-1&&(e=d[t]),void 0===e&&(e=u[t])}return e},l.prototype.getDateRange=function(t){var e,n;return t?this.visibleColumns&&this.visibleColumns.length>0&&(e=this.visibleColumns[0],n=this.visibleColumns[this.visibleColumns.length-1]):(e=this.getFirstColumn(),n=this.getLastColumn()),e&&n?[e.date,n.endDate]:void 0},l}])}(),function(){"use strict";angular.module("gantt").service("GanttHeadersGenerator",["GanttColumnHeader","moment",function(t,e){var n=function(n,i){var r,o,s,a,l=[];i&&(a=i.split(" ")),a&&a.length>1?(o=parseFloat(a[0]),s=a[a.length-1]):(o=1,s=i);for(var u=n.columns[0],c=e(u.date).startOf(s),d=e(n.columns[n.columns.length-1].endDate);;){var h=u.getPositionByDate(c),p=e.min(e(c).add(o,s),d),f=n.getColumnByDate(p,!0),g=f.getPositionByDate(p),m=g-h;if(m>0){var v=n.getHeaderFormat(s);r=new t(c,p,s,h,m,v),l.push(r)}if(p.isSame(d)||p.isAfter(d))break;u=f,c=p}return l};this.generate=function(t){var e=[];if(void 0===t.gantt.options.value("headers")){var i=t.gantt.options.value("viewScale");i=i.trim(),"s"===i.charAt(i.length-1)&&(i=i.substring(0,i.length-1));var r,o;i&&(o=i.split(" ")),r=o&&o.length>1?o[o.length-1]:i,["quarter","month"].indexOf(r)>-1&&e.push("year"),["day","week"].indexOf(r)>-1&&e.push("month"),["day"].indexOf(r)>-1&&e.push("week"),["hour"].indexOf(r)>-1&&e.push("day"),["minute","second"].indexOf(r)>-1&&e.push("hour"),["second"].indexOf(r)>-1&&e.push("minute"),e.push(i)}else e=t.gantt.options.value("headers");for(var s=[],a=0;a<e.length;a++)s.push(n(t,e[a]));return s}}])}(),function(){"use strict";angular.module("gantt").factory("Gantt",["GanttApi","GanttOptions","GanttCalendar","GanttScroll","GanttBody","GanttRowHeader","GanttHeader","GanttSide","GanttObjectModel","GanttRowsManager","GanttColumnsManager","GanttTimespansManager","GanttCurrentDateManager","ganttArrays","moment","$document","$timeout",function(t,e,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m){var v=function(o,m){var v=this;this.$scope=o,this.$element=m,this.options=new e(o,{api:angular.noop,data:[],timespans:[],viewScale:"day",columnMagnet:"15 minutes",timeFramesMagnet:!0,showSide:!0,allowSideResizing:!0,currentDate:"line",currentDateValue:f,autoExpand:"none",taskOutOfRange:"truncate",taskContent:"{{task.model.name}}",rowContent:"{{row.model.name}}",maxHeight:0,timeFrames:[],dateFrames:[],timeFramesWorkingMode:"hidden",timeFramesNonWorkingMode:"visible"}),this.api=new t(this),this.api.registerEvent("core","ready"),this.api.registerEvent("core","rendered"),this.api.registerEvent("directives","controller"),this.api.registerEvent("directives","preLink"),this.api.registerEvent("directives","postLink"),this.api.registerEvent("directives","new"),this.api.registerEvent("directives","destroy"),this.api.registerEvent("data","change"),this.api.registerEvent("data","load"),this.api.registerEvent("data","remove"),this.api.registerEvent("data","clear"),this.api.registerMethod("core","getDateByPosition",this.getDateByPosition,this),this.api.registerMethod("core","getPositionByDate",this.getPositionByDate,this),this.api.registerMethod("data","load",this.loadData,this),this.api.registerMethod("data","remove",this.removeData,this),this.api.registerMethod("data","clear",this.clearData,this),this.api.registerMethod("data","get",this.getData,this),this.calendar=new n(this),this.calendar.registerTimeFrames(this.options.value("timeFrames")),this.calendar.registerDateFrames(this.options.value("dateFrames")),this.api.registerMethod("timeframes","registerTimeFrames",this.calendar.registerTimeFrames,this.calendar),this.api.registerMethod("timeframes","clearTimeframes",this.calendar.clearTimeFrames,this.calendar),this.api.registerMethod("timeframes","registerDateFrames",this.calendar.registerDateFrames,this.calendar),this.api.registerMethod("timeframes","clearDateFrames",this.calendar.clearDateFrames,this.calendar),this.api.registerMethod("timeframes","registerTimeFrameMappings",this.calendar.registerTimeFrameMappings,this.calendar),this.api.registerMethod("timeframes","clearTimeFrameMappings",this.calendar.clearTimeFrameMappings,this.calendar),o.$watchGroup(["timeFrames","dateFrames"],function(t,e){if(t!==e){var n=t[0],i=t[1],r=e[0],o=e[1],s=!1;angular.equals(n,r)||(v.calendar.clearTimeFrames(),v.calendar.registerTimeFrames(n),s=!0),angular.equals(i,o)||(v.calendar.clearDateFrames(),v.calendar.registerDateFrames(i),s=!0),s&&v.columnsManager.generateColumns()}}),o.$watch("columnMagnet",function(){var t,e=v.options.value("columnMagnet");e&&(t=e.trim().split(" ")),t&&t.length>1?(v.columnMagnetValue=parseFloat(t[0]),v.columnMagnetUnit=f.normalizeUnits(t[t.length-1])):(v.columnMagnetValue=1,v.columnMagnetUnit=f.normalizeUnits(e))}),o.$watchGroup(["shiftColumnMagnet","viewScale"],function(){var t,e=v.options.value("shiftColumnMagnet");e&&(t=e.trim().split(" ")),void 0!==t&&t.length>1?(v.shiftColumnMagnetValue=parseFloat(t[0]),v.shiftColumnMagnetUnit=f.normalizeUnits(t[t.length-1])):(v.shiftColumnMagnetValue=1,v.shiftColumnMagnetUnit=f.normalizeUnits(e))});var y=function(t){return v.shiftKey=t.shiftKey,!0};g.on("keyup keydown",y),o.$on("$destroy",function(){g.off("keyup keydown",y)}),this.scroll=new i(this),this.body=new r(this),this.header=new s(this),this.side=new a(this),this.objectModel=new l(this.api),this.rowsManager=new u(this),this.columnsManager=new c(this),this.timespansManager=new d(this),this.currentDateManager=new h(this),this.originalWidth=0,this.width=0,angular.isFunction(this.$scope.api)&&this.$scope.api(this.api);var b=function(t,e){if(void 0===e||t.length!==e.length)return!0;for(var n=0,i=t.length;i>n;n++)if(t[n].id!==e[n].id)return!0;return!1};o.$watchCollection("data",function(t,e){if(void 0!==e){var n=p.getRemovedIds(t,e);if(n.length===e.length)v.rowsManager.removeAll(),v.api.data.raise.clear();else{for(var i=0,r=n.length;r>i;i++){var o=n[i];v.rowsManager.removeRow(o)}var s=[];for(i=0,r=e.length;r>i;i++)n.indexOf(e[i].id)>-1&&s.push(e[i]);v.api.data.raise.remove(s)}}if(void 0!==t){var a=b(t,e);a&&v.rowsManager.resetNonModelLists();for(var l=0,u=t.length;u>l;l++){var c=t[l];v.rowsManager.addRow(c,a)}v.api.data.raise.change(t,e),v.api.data.raise.load(t)}})};return v.prototype.getDateByPosition=function(t,e,n){var i=this.columnsManager.getColumnByPosition(t,n);if(void 0!==i){var r,o;if(e)if(this.shiftKey)if(void 0!==this.shiftColumnMagnetValue&&void 0!==this.shiftColumnMagnetUnit)r=this.shiftColumnMagnetValue,o=this.shiftColumnMagnetUnit;else{var s=this.options.value("viewScale");s=s.trim();var a,l,u;s&&(u=s.split(" ")),u&&u.length>1?(a=parseFloat(u[0]),l=f.normalizeUnits(u[u.length-1])):(a=1,l=f.normalizeUnits(s)),r=.25*a,o=l}else r=this.columnMagnetValue,o=this.columnMagnetUnit;return i.getDateByPosition(t-i.left,r,o,this.options.value("timeFramesMagnet"))}return void 0},v.prototype.getBodyAvailableWidth=function(){var t=this.getWidth()-this.side.getWidth(),e=this.scroll.getBordersWidth(),n=t-(void 0!==e?this.scroll.getBordersWidth():0);return n-=1},v.prototype.getPositionByDate=function(t,e){if(void 0===t)return void 0;f.isMoment(f)||(t=f(t));var n=this.columnsManager.getColumnByDate(t,e);return void 0!==n?n.getPositionByDate(t):void 0},v.prototype.loadData=function(t){if(angular.isArray(t)||(t=void 0!==t?[t]:[]),void 0===this.$scope.data)this.$scope.data=t;else for(var e=0,n=t.length;n>e;e++){var i=t[e],r=p.indexOfId(this.$scope.data,i.id);r>-1?this.$scope.data[r]=i:this.$scope.data.push(i)}var o=this.side.getWidth();o>0&&this.options.set("sideWidth",o)},v.prototype.getData=function(){return this.$scope.data},v.prototype.removeData=function(t){if(angular.isArray(t)||(t=void 0!==t?[t]:[]),void 0!==this.$scope.data)for(var e=0,n=t.length;n>e;e++){var i=t[e],r=p.indexOfId(this.$scope.data,i.id);if(r>-1)if(void 0===i.tasks||0===i.tasks.length)this.$scope.data.splice(r,1);else for(var o=this.$scope.data[r],s=0,a=i.tasks.length;a>s;s++){var l=i.tasks[s],u=p.indexOfId(o.tasks,l.id);u>-1&&o.tasks.splice(u,1)}}},v.prototype.clearData=function(){this.$scope.data=void 0},v.prototype.getWidth=function(){return this.$scope.ganttElementWidth},v.prototype.initialized=function(){this.api.core.raise.ready(this.api),this.rendered=!0,this.columnsManager.generateColumns();var t=this,e=function(){var e=t.side.getWidth();e>0&&t.options.set("sideWidth",e),t.api.core.raise.rendered(t.api)};m(e)},v}])}(),function(){"use strict";angular.module("gantt").factory("GanttObjectModel",["ganttUtils","moment",function(t,e){var n=function(t){this.api=t,this.api.registerEvent("tasks","clean"),this.api.registerEvent("rows","clean"),this.api.registerEvent("timespans","clean")};return n.prototype.cleanTask=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.tasks.raise.clean(n)},n.prototype.cleanRow=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.rows.raise.clean(n)},n.prototype.cleanTimespan=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.timespans.raise.clean(n)},n}])}(),function(){"use strict";angular.module("gantt").factory("GanttRow",["GanttTask","moment","$filter",function(t,e,n){var i=function(t,e){this.rowsManager=t,this.model=e,this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]};return i.prototype.addTaskImpl=function(t,e){this.tasksMap[t.model.id]=t,this.tasks.push(t),e||(void 0===this.model.tasks&&(this.model.tasks=[]),-1===this.model.tasks.indexOf(t.model)&&this.model.tasks.push(t.model))},i.prototype.addTask=function(e,n){var i,r=!1;if(this.rowsManager.gantt.objectModel.cleanTask(e),e.id in this.tasksMap){if(i=this.tasksMap[e.id],i.model===e)return i;i.model=e,r=!0}else i=new t(this,e),this.addTaskImpl(i,n);return this.sortTasks(),this.setFromToByTask(i),n||(r?this.rowsManager.gantt.api.tasks.raise.change(i):this.rowsManager.gantt.api.tasks.raise.add(i)),i},i.prototype.moveTaskToRow=function(t,e){var n=t.row;n.removeTask(t.model.id,e,!0),t.row=this,this.addTaskImpl(t,e),this.sortTasks(),this.setFromToByTask(t),t.updatePosAndSize(),this.updateVisibleTasks(),n.$scope.$digest(),t.row.$scope.$digest(),this.rowsManager.gantt.api.tasks.raise.viewRowChange(t,n),e||this.rowsManager.gantt.api.tasks.raise.rowChange(t,n)},i.prototype.updateVisibleTasks=function(){var t=this.rowsManager.gantt.options.value("filterTask");if(t){"object"==typeof t&&(t={model:t});var e=this.rowsManager.gantt.options.value("filterTaskComparator");"function"==typeof e&&(e=function(t,n){return e(t.model,n.model)}),this.filteredTasks=n("filter")(this.tasks,t,e)}else this.filteredTasks=this.tasks.slice(0);this.visibleTasks=n("ganttTaskLimit")(this.filteredTasks,this.rowsManager.gantt)},i.prototype.updateTasksPosAndSize=function(){for(var t=0,e=this.tasks.length;e>t;t++)this.tasks[t].updatePosAndSize()},i.prototype.removeTask=function(t,e,n){if(t in this.tasksMap){var i,r,o=this.tasksMap[t];for(r=this.tasks.length-1;r>=0;r--)if(i=this.tasks[r],i.model.id===t){this.tasks.splice(r,1),(this.from-i.model.from===0||this.to-i.model.to===0)&&this.setFromTo();break}for(r=this.filteredTasks.length-1;r>=0;r--)if(i=this.filteredTasks[r],i.model.id===t){this.filteredTasks.splice(r,1);break}for(r=this.visibleTasks.length-1;r>=0;r--)if(i=this.visibleTasks[r],i.model.id===t){this.visibleTasks.splice(r,1);break}if(!e){if(delete this.tasksMap[t],void 0!==this.model.tasks){var s=this.model.tasks.indexOf(o.model);s>-1&&this.model.tasks.splice(s,1)}n||this.rowsManager.gantt.api.tasks.raise.remove(o)}return o}},i.prototype.removeAllTasks=function(){this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]},i.prototype.setFromTo=function(){this.from=void 0,this.to=void 0;for(var t=0,e=this.tasks.length;e>t;t++)this.setFromToByTask(this.tasks[t])},i.prototype.setFromToByTask=function(t){this.setFromToByValues(t.model.from,t.model.to)},i.prototype.setFromToByValues=function(t,n){void 0!==t&&(void 0===this.from?this.from=e(t):t<this.from&&(this.from=e(t))),void 0!==n&&(void 0===this.to?this.to=e(n):n>this.to&&(this.to=e(n)))},i.prototype.sortTasks=function(){this.tasks.sort(function(t,e){return t.left-e.left})},i.prototype.clone=function(){for(var t=new i(this.rowsManager,angular.copy(this)),e=0,n=this.tasks.length;n>e;e++)t.addTask(this.tasks[e].model);return t},i}])}(),function(){"use strict";angular.module("gantt").factory("GanttRowHeader",[function(){var t=function(t){this.gantt=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttRowsManager",["GanttRow","ganttArrays","$filter","$timeout","moment",function(t,e,n,i,r){var o=function(t){var e=this;this.gantt=t,this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[],this.rowsTaskWatchers=[],this._defaultFilterImpl=function(t,e,i){return n("filter")(t,e,i)},this.filterImpl=this._defaultFilterImpl,this.customRowSorters=[],this.customRowFilters=[],this.gantt.$scope.$watchGroup(["filterTask","filterTaskComparator"],function(t,n){t!==n&&e.updateVisibleTasks()}),this.gantt.$scope.$watchGroup(["filterRow","filterRowComparator"],function(t,n){t!==n&&e.updateVisibleRows()}),this.gantt.$scope.$watch("sortMode",function(t,n){t!==n&&e.sortRows()});var r=this.gantt.scroll.isVScrollbarVisible();this.gantt.$scope.$watchGroup(["maxHeight","gantt.rowsManager.visibleRows.length"],function(t,n){t!==n&&i(function(){var t=e.gantt.scroll.isVScrollbarVisible();t!==r&&(r=t,e.gantt.columnsManager.updateColumnsMeta())})}),this.gantt.api.registerMethod("rows","sort",o.prototype.sortRows,this),this.gantt.api.registerMethod("rows","applySort",o.prototype.applySort,this),this.gantt.api.registerMethod("rows","refresh",o.prototype.updateVisibleObjects,this),this.gantt.api.registerMethod("rows","removeRowSorter",o.prototype.removeCustomRowSorter,this),this.gantt.api.registerMethod("rows","addRowSorter",o.prototype.addCustomRowSorter,this),this.gantt.api.registerMethod("rows","removeRowFilter",o.prototype.removeCustomRowFilter,this),this.gantt.api.registerMethod("rows","addRowFilter",o.prototype.addCustomRowFilter,this),this.gantt.api.registerMethod("rows","setFilterImpl",o.prototype.setFilterImpl,this),this.gantt.api.registerEvent("tasks","add"),this.gantt.api.registerEvent("tasks","change"),this.gantt.api.registerEvent("tasks","viewChange"),this.gantt.api.registerEvent("tasks","rowChange"),this.gantt.api.registerEvent("tasks","viewRowChange"),this.gantt.api.registerEvent("tasks","remove"),this.gantt.api.registerEvent("tasks","filter"),this.gantt.api.registerEvent("tasks","displayed"),this.gantt.api.registerEvent("rows","add"),this.gantt.api.registerEvent("rows","change"),this.gantt.api.registerEvent("rows","remove"),this.gantt.api.registerEvent("rows","move"),this.gantt.api.registerEvent("rows","displayed"),this.gantt.api.registerEvent("rows","filter"),this.updateVisibleObjects()};return o.prototype.resetNonModelLists=function(){this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[]},o.prototype.addRow=function(n,i){var r,o,s,a=!1;if(this.gantt.objectModel.cleanRow(n),n.id in this.rowsMap){if(r=this.rowsMap[n.id],i&&(this.rows.push(r),this.sortedRows.push(r),this.filteredRows.push(r),this.customFilteredRows.push(r),this.visibleRows.push(r)),r.model===n)return;var l=e.getRemovedIds(n.tasks,r.model.tasks);for(o=0,s=l.length;s>o;o++){var u=l[o];r.removeTask(u)}r.model=n,a=!0}else r=new t(this,n),this.rowsMap[n.id]=r,this.rows.push(r),this.sortedRows.push(r),this.filteredRows.push(r),this.customFilteredRows.push(r),this.visibleRows.push(r);if(void 0!==n.tasks&&n.tasks.length>0){for(o=0,s=n.tasks.length;s>o;o++){var c=n.tasks[o];r.addTask(c)}r.updateVisibleTasks()}if(a?this.gantt.api.rows.raise.change(r):this.gantt.api.rows.raise.add(r),!a){var d=this.gantt.$scope.$watchCollection(function(){return n.tasks},function(t,n){if(t!==n){var i,o,s=e.getRemovedIds(t,n);for(i=0,o=s.length;o>i;i++){var a=s[i];r.removeTask(a)}if(void 0!==t){for(i=0,o=t.length;o>i;i++){var l=t[i];r.addTask(l)}r.updateVisibleTasks()}}});this.rowsTaskWatchers.push(d)}return a},o.prototype.removeRow=function(t){if(t in this.rowsMap){delete this.rowsMap[t];var n,i,r=e.indexOfId(this.rows,t,["model","id"]);if(r>-1){n=this.rows.splice(r,1)[0];var o=this.rowsTaskWatchers.splice(r,1)[0];o()}return e.removeId(this.sortedRows,t,["model","id"]),e.removeId(this.filteredRows,t,["model","id"]),e.removeId(this.customFilteredRows,t,["model","id"]),e.removeId(this.visibleRows,t,["model","id"]),this.gantt.api.rows.raise.remove(n),i}return void 0},o.prototype.removeAll=function(){this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[];for(var t=0,e=this.rowsTaskWatchers.length;e>t;t++){var n=this.rowsTaskWatchers[t];n()}this.rowsTaskWatchers=[]},o.prototype.sortRows=function(){var t=this.gantt.options.value("sortMode");if(void 0!==t){var e=!1;angular.isString(t)&&"-"===t.charAt(0)&&(e=!0,t=t.substr(1));var i=n("orderBy");this.sortedRows=i(this.rows,t,e)}else this.sortedRows=this.rows.slice();this.sortedRows=this.applyCustomRowSorters(this.sortedRows),this.updateVisibleRows()},o.prototype.removeCustomRowSorter=function(t){var e=this.customRowSorters.indexOf(t);e>-1&&this.customRowSorters.splice(e,1)},o.prototype.addCustomRowSorter=function(t){this.customRowSorters.push(t)},o.prototype.applyCustomRowSorters=function(t){for(var e=0;e<this.customRowSorters.length;e++)t=this.customRowSorters[e](t);return t},o.prototype.applySort=function(){var t=this.gantt.$scope.data;t.splice(0,t.length);for(var e=[],n=0,i=this.sortedRows.length;i>n;n++)t.push(this.sortedRows[n].model),e.push(this.sortedRows[n]);this.rows=e},o.prototype.moveRow=function(t,n){var i=this.gantt.options.value("sortMode");void 0!==i&&(this.applySort(),this.gantt.options.set("sortMode",void 0));var r=this.rows.indexOf(n),o=this.rows.indexOf(t);r>-1&&o>-1&&r!==o&&(e.moveToIndex(this.rows,o,r),e.moveToIndex(this.rowsTaskWatchers,o,r),e.moveToIndex(this.gantt.$scope.data,o,r),this.gantt.api.rows.raise.change(t),this.gantt.api.rows.raise.move(t,o,r),this.updateVisibleObjects(),this.sortRows())},o.prototype.updateVisibleObjects=function(){this.updateVisibleRows(),this.updateVisibleTasks()},o.prototype.updateVisibleRows=function(){var t=this.filteredRows,e=this.gantt.options.value("filterRow");if(e){"object"==typeof e&&(e={model:e});var n=this.gantt.options.value("filterRowComparator");if("function"==typeof n){var i=this.gantt;n=function(t,e){return i.options.value("filterRowComparator")(t,e)}}this.filteredRows=this.filterImpl(this.sortedRows,e,n)}else this.filteredRows=this.sortedRows.slice(0);var r=!angular.equals(t,this.filteredRows);this.customFilteredRows=this.applyCustomRowFilters(this.filteredRows),this.visibleRows=this.customFilteredRows,this.gantt.api.rows.raise.displayed(this.sortedRows,this.filteredRows,this.visibleRows),r&&this.gantt.api.rows.raise.filter(this.sortedRows,this.filteredRows)},o.prototype.removeCustomRowFilter=function(t){var e=this.customRowFilters.indexOf(t);e>-1&&this.customRowFilters.splice(e,1)},o.prototype.addCustomRowFilter=function(t){this.customRowFilters.push(t)},o.prototype.applyCustomRowFilters=function(t){for(var e=0;e<this.customRowFilters.length;e++)t=this.customRowFilters[e](t);return t},o.prototype.setFilterImpl=function(t){this.filterImpl=t?t:this._defaultFilterImpl},o.prototype.updateVisibleTasks=function(){for(var t=[],e=[],n=[],i=[],r=0;r<this.rows.length;r++){var o=this.rows[r];t=t.concat(o.filteredTasks),o.updateVisibleTasks(),e=e.concat(o.filteredTasks),i=i.concat(o.visibleTasks),n=n.concat(o.tasks)}this.gantt.api.tasks.raise.displayed(n,e,i);var s=!angular.equals(t,e);s&&this.gantt.api.tasks.raise.filter(n,e,i)},o.prototype.updateTasksPosAndSize=function(){for(var t=0,e=this.rows.length;e>t;t++)this.rows[t].updateTasksPosAndSize()},o.prototype.getExpandedFrom=function(t){t=t?r(t):t;for(var e=t,n=0;n<this.rows.length;n++)(void 0===e||e>this.rows[n].from)&&(e=this.rows[n]);return e&&(!t||t>e)?e:t},o.prototype.getExpandedTo=function(t){t=t?r(t):t;for(var e=t,n=0;n<this.rows.length;n++)(void 0===e||e<this.rows[n].to)&&(e=this.rows[n].to);var i=this.gantt.options.value("toDate");return e&&(!i||e>i)?e:t},o.prototype.getDefaultFrom=function(){for(var t,e=0;e<this.rows.length;e++)(void 0===t||this.rows[e].from<t)&&(t=this.rows[e].from);return t},o.prototype.getDefaultTo=function(){for(var t,e=0;e<this.rows.length;e++)(void 0===t||this.rows[e].to>t)&&(t=this.rows[e].to);return t},o}])}(),function(){"use strict";angular.module("gantt").factory("GanttTask",["moment",function(t){var e=function(t,e){this.rowsManager=t.rowsManager,this.row=t,this.model=e,this.truncatedLeft=!1,this.truncatedRight=!1};return e.prototype.isMilestone=function(){return!this.model.to||this.model.from-this.model.to===0},e.prototype.isOutOfRange=function(){var t=this.rowsManager.gantt.columnsManager.getFirstColumn(),e=this.rowsManager.gantt.columnsManager.getLastColumn();return void 0===t||this.model.to<t.date||void 0===e||this.model.from>e.endDate},e.prototype.updatePosAndSize=function(){var e=this.left,n=this.width,i=this.truncatedRight,r=this.truncatedLeft;!this.isMoving&&this.isOutOfRange()?(this.modelLeft=void 0,this.modelWidth=void 0):(this.modelLeft=this.rowsManager.gantt.getPositionByDate(this.model.from),this.modelWidth=this.rowsManager.gantt.getPositionByDate(this.model.to)-this.modelLeft);var o=this.rowsManager.gantt.columnsManager.getLastColumn(),s=o?o.left+o.width:0,a=this.modelLeft,l=this.modelWidth;this.rowsManager.gantt.options.value("daily")&&(a=this.rowsManager.gantt.getPositionByDate(t(this.model.from).startOf("day")),l=this.rowsManager.gantt.getPositionByDate(t(this.model.to).endOf("day"))-a),void 0===a||void 0===l||0>a+l||a>s?(this.left=void 0,this.width=void 0):(this.left=Math.min(Math.max(a,0),this.rowsManager.gantt.width),0>a?(this.truncatedLeft=!0,l+a>this.rowsManager.gantt.width?(this.truncatedRight=!0,this.width=this.rowsManager.gantt.width):(this.truncatedRight=!1,this.width=l+a)):l+a>this.rowsManager.gantt.width?(this.truncatedRight=!0,this.truncatedLeft=!1,this.width=this.rowsManager.gantt.width-a):(this.truncatedLeft=!1,this.truncatedRight=!1,this.width=l),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView(),this.rowsManager.gantt.isRefreshingColumns||e===this.left&&n===this.width&&i===this.truncatedRight&&r===this.truncatedLeft||this.rowsManager.gantt.api.tasks.raise.viewChange(this)},e.prototype.updateView=function(){if(this.$element)if(void 0===this.left||void 0===this.width)this.$element.css("display","none");else{if(this.$element.css({left:this.left+"px",width:this.width+"px",display:""}),this.model.priority>0)for(var t=this.model.priority,e=this.$element.children(),n=0;n<e.length;n++)angular.element(e[n]).css("z-index",t);this.$element.toggleClass("gantt-task-milestone",this.isMilestone())}},e.prototype.getBackgroundElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-background");return void 0!==t&&(t=angular.element(t)),t}},e.prototype.getContentElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-content");
return void 0!==t&&(t=angular.element(t)),t}},e.prototype.getForegroundElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-foreground");return void 0!==t&&(t=angular.element(t)),t}},e.prototype.setFrom=function(t,e){this.model.from=this.rowsManager.gantt.getDateByPosition(t,e),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.setTo=function(t,e){this.model.to=this.rowsManager.gantt.getDateByPosition(t,e),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.moveTo=function(t,e){var n,i;t>this.modelLeft?(this.model.to=this.rowsManager.gantt.getDateByPosition(t+this.modelWidth,e),n=this.rowsManager.gantt.getPositionByDate(this.model.to),i=n-this.modelWidth,this.model.from=this.rowsManager.gantt.getDateByPosition(i,!1)):(this.model.from=this.rowsManager.gantt.getDateByPosition(t,e),i=this.rowsManager.gantt.getPositionByDate(this.model.from),n=i+this.modelWidth,this.model.to=this.rowsManager.gantt.getDateByPosition(n,!1)),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.clone=function(){return new e(this.row,angular.copy(this.model))},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttBody",["GanttBodyColumns","GanttBodyRows","GanttBodyBackground","GanttBodyForeground",function(t,e,n,i){var r=function(r){this.gantt=r,this.background=new n(this),this.foreground=new i(this),this.columns=new t(this),this.rows=new e(this)};return r}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyBackground",[function(){var t=function(t){this.body=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyColumns",[function(){var t=function(t){this.body=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyForeground",[function(){var t=function(t){this.body=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyRows",[function(){var t=function(t){this.body=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttHeader",["GanttHeaderColumns",function(t){var e=function(e){this.gantt=e,this.columns=new t(this),this.getHeight=function(){return this.$element[0].offsetHeight}};return e}])}(),function(){"use strict";angular.module("gantt").factory("GanttHeaderColumns",[function(){var t=function(t){this.$element=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttScroll",[function(){var t=function(e){this.gantt=e,this.gantt.api.registerEvent("scroll","scroll"),this.gantt.api.registerMethod("scroll","to",t.prototype.scrollTo,this),this.gantt.api.registerMethod("scroll","toDate",t.prototype.scrollToDate,this),this.gantt.api.registerMethod("scroll","left",t.prototype.scrollToLeft,this),this.gantt.api.registerMethod("scroll","right",t.prototype.scrollToRight,this),this.gantt.api.registerMethod("scroll","setWidth",t.prototype.setWidth,this)};return t.prototype.getScrollLeft=function(){return void 0===this.$element?void 0:(void 0===this.cachedScrollLeft&&(this.cachedScrollLeft=this.$element[0].scrollLeft),this.cachedScrollLeft)},t.prototype.getScrollWidth=function(){return void 0===this.$element?void 0:this.$element[0].scrollWidth},t.prototype.getWidth=function(){return void 0===this.$element?void 0:this.$element[0].offsetWidth},t.prototype.setWidth=function(t){this.$element[0]&&(this.$element[0].offsetWidth=t)},t.prototype.getBordersWidth=function(){if(void 0===this.$element)return void 0;if(this.$element[0].clientWidth)return this.$element[0].offsetWidth-this.$element[0].clientWidth;var t=window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width").match(/\d+/)[0]:0,e=window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width").match(/\d+/)[0]:0;return parseInt(t)+parseInt(e)},t.prototype.getBordersHeight=function(){return void 0===this.$element?void 0:this.$element[0].offsetHeight-this.$element[0].clientHeight},t.prototype.isVScrollbarVisible=function(){return void 0!==this.$element?this.$element[0].scrollHeight>this.$element[0].offsetHeight:void 0},t.prototype.isHScrollbarVisible=function(){return void 0!==this.$element?this.$element[0].scrollWidth>this.$element[0].offsetWidth:void 0},t.prototype.scrollTo=function(t){this.$element[0].scrollLeft=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToLeft=function(t){this.$element[0].scrollLeft-=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToRight=function(t){this.$element[0].scrollLeft+=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToDate=function(t){var e=this.gantt.getPositionByDate(t);void 0!==e&&(this.$element[0].scrollLeft=e-this.$element[0].offsetWidth/2)},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttSide",[function(){var t=function(t){this.gantt=t};return t.prototype.getWidth=function(){if(this.gantt.options.value("showSide")){var t=this.gantt.options.value("sideWidth");if(void 0===t&&void 0!==this.$element&&void 0!==this.$element.css("width")&&this.$element.css("width",""),void 0!==this.$element&&(t=this.$element[0].offsetWidth),void 0!==t)return t}return 0},t.prototype.show=function(t){void 0!==this.$element&&this.$element.toggleClass("ng-hide",!t)},t.prototype.isShown=function(){return void 0!==this.$element?!this.$element.hasClass("ng-hide"):void 0},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttTimespan",[function(){var t=function(t,e){this.gantt=t,this.model=e};return t.prototype.updatePosAndSize=function(){this.modelLeft=this.gantt.getPositionByDate(this.model.from),this.modelWidth=this.gantt.getPositionByDate(this.model.to)-this.modelLeft;var t=this.gantt.columnsManager.getLastColumn(),e=t?t.left+t.width:0;this.modelLeft+this.modelWidth<0||this.modelLeft>e?(this.left=void 0,this.width=void 0):(this.left=Math.min(Math.max(this.modelLeft,0),this.gantt.width),this.modelLeft<0?(this.truncatedLeft=!0,this.modelWidth+this.modelLeft>this.gantt.width?(this.truncatedRight=!0,this.width=this.gantt.width):(this.truncatedRight=!1,this.width=this.modelWidth+this.modelLeft)):this.modelWidth+this.modelLeft>this.gantt.width?(this.truncatedRight=!0,this.truncatedLeft=!1,this.width=this.gantt.width-this.modelLeft):(this.truncatedLeft=!1,this.truncatedRight=!1,this.width=this.modelWidth),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView()},t.prototype.updateView=function(){this.$element&&(void 0===this.left||void 0===this.width?this.$element.css("display","none"):(this.$element.css("display",""),this.$element.css("left",this.left+"px"),this.$element.css("width",this.width+"px")))},t.prototype.setFrom=function(t){this.from=this.gantt.getDateByPosition(t),this.updatePosAndSize()},t.prototype.setTo=function(t){this.to=this.gantt.getDateByPosition(t),this.updatePosAndSize()},t.prototype.moveTo=function(t){this.from=this.gantt.getDateByPosition(t),this.to=this.gantt.getDateByPosition(t+this.width),this.updatePosAndSize()},t.prototype.clone=function(){return new t(this.gantt,angular.copy(this.model))},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttTimespansManager",["GanttTimespan",function(t){var e=function(t){var e=this;this.gantt=t,this.timespansMap={},this.timespans=[],this.gantt.$scope.$watchCollection("timespans",function(t){e.clearTimespans(),e.loadTimespans(t)}),this.gantt.api.registerMethod("timespans","load",this.loadTimespans,this),this.gantt.api.registerMethod("timespans","remove",this.removeTimespans,this),this.gantt.api.registerMethod("timespans","clear",this.clearTimespans,this),this.gantt.api.registerEvent("timespans","add"),this.gantt.api.registerEvent("timespans","remove"),this.gantt.api.registerEvent("timespans","change")};return e.prototype.loadTimespans=function(t){angular.isArray(t)||(t=void 0!==t?[t]:[]),this.gantt.$scope.timespans=t;for(var e=0,n=t.length;n>e;e++){var i=t[e];this.gantt.objectModel.cleanTimespan(i),this.loadTimespan(i)}},e.prototype.loadTimespan=function(e){var n,i=!1;return e.id in this.timespansMap?(n=this.timespansMap[e.id],n.model=e,i=!0,this.gantt.api.timespans.raise.change(n)):(n=new t(this.gantt,e),this.timespansMap[e.id]=n,this.timespans.push(n),this.gantt.api.timespans.raise.add(n)),n.updatePosAndSize(),i},e.prototype.removeTimespans=function(t){angular.isArray(t)||(t=[t]);for(var e=0,n=t.length;n>e;e++){var i=t[e];this.removeTimespan(i.id)}this.updateVisibleObjects()},e.prototype.removeTimespan=function(t){if(t in this.timespansMap){delete this.timespansMap[t];for(var e,n,i=this.timespans.length-1;i>=0;i--)if(n=this.timespans[i],n.model.id===t){e=n,this.timespans.splice(i,1);break}return this.gantt.api.timespans.raise.remove(e),e}return void 0},e.prototype.clearTimespans=function(){this.timespansMap={},this.timespans=[]},e.prototype.updateTimespansPosAndSize=function(){for(var t=0,e=this.timespans.length;e>t;t++)this.timespans[t].updatePosAndSize()},e}])}(),function(){"use strict";angular.module("gantt").service("ganttArrays",[function(){return{moveToIndex:function(t,e,n){if(n>=t.length)for(var i=n-t.length;i--+1;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t},getRemovedIds:function(t,e,n){void 0===n&&(n="id");var i,r,o=[];if(void 0!==e)for(i=0,r=e.length;r>i;i++)o.push(e[i][n]);if(void 0!==t)for(i=0,r=t.length;r>i;i++){var s=t[i];if(void 0!==s[n]){var a=o.indexOf(s[n]);a>-1&&o.splice(a,1)}}return o},indexOfId:function(t,e,n){var i;if(void 0===n)n="id";else if(n instanceof Array){for(i=t.length-1;i>=0;i--){for(var r=t[i],o=0,s=n.length;s>o;o++)r=r[n[o]];if(r===e)return i}return-1}for(i=t.length-1;i>=0;i--)if(t[i][n]===e)return i;return-1},removeId:function(t,e,n){var i=this.indexOfId(t,e,n);return i>-1?t.splice(i,1)[0]:void 0},remove:function(t,e){var n=t.indexOf(e);return n>-1?(t.splice(n,1),!0):!1}}}])}(),function(){"use strict";angular.module("gantt").service("ganttBinarySearch",[function(){return{getIndicesOnly:function(t,e,n,i){for(var r=-1,o=t.length;o-r>1;){var s=Math.floor((r+o)/2);(i?n(t[s])<e:n(t[s])<=e)?r=s:o=s}return i||void 0===t[r]||n(t[r])!==e||(o=r),[r,o]},get:function(t,e,n,i){var r=this.getIndicesOnly(t,e,n,i);return[t[r[0]],t[r[1]]]}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttHierarchy",[function(){var t=function(){var t=this,e={},n={},i={},r={},o={},s={},a=function(t,e){if(void 0!==e){var n=i[t.model.name];void 0===n&&(n=[],i[t.model.name]=n),n.push(e);var a=r[t.model.id];void 0===a&&(a=[],r[t.model.id]=a),a.push(e),o[e.model.name]=t,s[e.model.id]=t}};this.refresh=function(l){e={},n={},i={},r={},o={},s={};for(var u,c=0;c<l.length;c++)u=l[c],e[u.model.name]=u,n[u.model.id]=u;for(c=0;c<l.length;c++){if(u=l[c],void 0!==u.model.parent){var d=e[u.model.parent];void 0===d&&(d=n[u.model.parent]),void 0!==d&&a(d,u)}if(void 0!==u.model.children)for(var h=u.model.children,p=0;p<h.length;p++){var f=h[p],g=e[f];void 0===g&&(g=n[f]),void 0!==g&&a(u,g)}}var m=[];for(c=0;c<l.length;c++)u=l[c],void 0===t.parent(u)&&m.push(u);return m},this.children=function(t){var e=r[t.model.id];return e},this.descendants=function(e){var n=[],i=t.children(e);if(n.push.apply(n,i),void 0!==i)for(var r=0;r<i.length;r++){var o=t.descendants(i[r]);n.push.apply(n,o)}return n},this.parent=function(t){var e=s[t.model.id];return e},this.ancestors=function(e){for(var n=[],i=t.parent(e);void 0!==i;)n.push(i),i=t.parent(i);return n}};return t}])}(),function(){"use strict";angular.module("gantt").service("ganttUtils",[function(){return{createBoundedWrapper:function(t,e){return function(){return e.apply(t,arguments)}},firstProperty:function(t,e,n){for(var i=0,r=t.length;r>i;i++){var o=t[i];if(void 0!==o&&e in o&&void 0!==o[e])return o[e]}return n},angularIndexOf:function(t,e){for(var n=0;n<t.length;n++)if(angular.equals(t[n],e))return n;return-1},random4:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},randomUuid:function(){return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},newId:function(){var t=(new Date).getTime();return function(){return t+=1}}()}}])}(),function(){"use strict";angular.module("gantt").filter("ganttColumnLimit",["ganttBinarySearch",function(t){var e=function(t){return t.left};return function(n,i){var r=i.scroll.getScrollLeft(),o=i.getWidth()-i.side.getWidth();if(o>0){var s=t.getIndicesOnly(n,r,e)[0],a=t.getIndicesOnly(n,r+o,e)[1];return n.slice(s,a)}return n.slice()}}])}(),function(){"use strict";angular.module("gantt").filter("ganttTaskLimit",[function(){return function(t,e){var n=e.columnsManager.getFirstColumn(),i=e.columnsManager.getLastColumn();if(void 0!==n&&void 0!==i){for(var r=n.date,o=i.endDate,s=[],a=e.scroll.getScrollLeft(),l=e.getWidth()-e.side.getWidth(),u=0,c=t.length;c>u;u++){var d=t[u];d.active?s.push(d):d.model.to>=r&&d.model.from<=o&&(void 0===d.left&&d.updatePosAndSize(),(!l||d.left>=a&&d.left<=a+l||d.left+d.width>=a&&d.left+d.width<=a+l||d.left<a&&d.left+d.width>a+l)&&s.push(d))}return s}return t.splice()}}])}(),function(){"use strict";angular.module("gantt").directive("ganttResizer",["$document","$parse","$timeout","ganttMouseOffset",function(t,e,n,i){return{restrict:"A",require:"^gantt",scope:{targetElement:"=ganttResizer",enabled:"@?ganttResizerEnabled"},link:function(r,o,s,a){function l(){return a.gantt.options.value(s.resizerWidth)}function u(t){t!==l()&&(a.gantt.options.set(s.resizerWidth,t),void 0!==g&&f[g].raise.resize(t),n(function(){a.gantt.columnsManager.updateColumnsMeta()}))}function c(t){t.preventDefault(),u(void 0)}function d(t){r.$evalAsync(function(){var e=i.getOffsetForElement(r.targetElement[0],t),n=a.gantt.getWidth()-a.gantt.scroll.getBordersWidth(),o=Math.min(Math.max(e.x,0),n);u(o)})}function h(){void 0!==g&&f[g].raise.resizeEnd(l()),t.unbind("mousemove",d),t.unbind("mouseup",h)}function p(e){e.preventDefault(),void 0!==g&&f[g].raise.resizeBegin(l()),t.on("mousemove",d),t.on("mouseup",h)}var f=a.gantt.api,g=s.ganttResizerEventTopic;void 0===r.enabled&&(r.enabled=!0),s.$observe("ganttResizerEnabled",function(t){r.enabled=e(t)()}),r.$watch("enabled",function(t){void 0===t&&(t=!0),o.toggleClass("gantt-resizer-enabled",t),t?(o.on("dblclick",c),o.on("mousedown",p)):(o.off("dblclick",c),o.off("mousedown",p))}),r.$watch(function(){return l()},function(t,e){t!==e&&(r.targetElement.css("width",t+"px"),r.targetElement[0].offsetWidth>0&&u(r.targetElement[0].offsetWidth))}),g&&(f.registerEvent(g,"resize"),f.registerEvent(g,"resizeBegin"),f.registerEvent(g,"resizeEnd"),f.registerMethod(g,"setWidth",u,this),f.registerMethod(g,"getWidth",l,this))}}}])}(),function(){"use strict";angular.module("gantt").directive("ganttHorizontalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",link:function(t,e,n,i){i.registerHorizontalReceiver(e)}}})}(),function(){"use strict";angular.module("gantt").directive("ganttScrollManager",function(){return{restrict:"A",scope:{},controller:["$scope",function(t){t.horizontal=[],t.vertical=[],this.registerVerticalReceiver=function(e){e.css("position","relative"),t.vertical.push(e[0])},this.registerHorizontalReceiver=function(e){e.css("position","relative"),t.horizontal.push(e[0])},this.getHorizontalRecievers=function(){return t.horizontal},this.getVerticalRecievers=function(){return t.vertical}}]}})}(),function(){"use strict";angular.module("gantt").directive("ganttScrollSender",[function(){return{restrict:"A",require:["^gantt","^ganttScrollManager"],link:function(t,e,n,i){var r=e[0],o=function(){var t,e,n=i[1].getVerticalRecievers();for(t=0,e=n.length;e>t;t++){var o=n[t];o.parentNode.scrollTop!==r.scrollTop&&(o.parentNode.scrollTop=r.scrollTop)}var s=i[1].getHorizontalRecievers();for(t=0,e=s.length;e>t;t++){var a=s[t];a.parentNode.scrollLeft!==r.scrollLeft&&(a.parentNode.scrollLeft=r.scrollLeft)}};e.bind("scroll",o),t.$watch(function(){return i[0].gantt.width},function(t,e){if(t!==e)for(var n=i[1].getHorizontalRecievers(),r=0,o=n.length;o>r;r++){var s=n[r];s.style.width=t+"px"}})}}}])}(),function(){"use strict";angular.module("gantt").directive("ganttScrollable",["GanttDirectiveBuilder","$timeout","ganttDebounce","moment",function(t,e,n,i){var r=new t("ganttScrollable");return r.controller=function(t,r){t.gantt.scroll.$element=r;var o,s,a=function(e,n,r){var o=t.gantt.options.value("autoExpand");if("both"===o||o===!0||o===r){var s,a,l=t.gantt.options.value("viewScale");l=l.trim(),"s"===l.charAt(l.length-1)&&(l=l.substring(0,l.length-1));var u,c,d;l&&(d=l.split(" ")),d&&d.length>1?(u=parseFloat(d[0]),c=d[d.length-1]):(u=1,c=l),"left"===r?(s=i(n).add(-5*u,c),t.fromDate=s):(a=i(n).add(5*u,c),t.toDate=a),t.gantt.api.scroll.raise.scroll(e.scrollLeft,n,r)}};r.bind("scroll",n(function(){var n,i,l=r[0],u=l.scrollLeft;t.gantt.scroll.cachedScrollLeft=u,t.gantt.columnsManager.updateVisibleColumns(),t.gantt.rowsManager.updateVisibleObjects(),o>u&&0===u?(n="left",i=t.gantt.columnsManager.from):u>o&&l.offsetWidth+u>=l.scrollWidth-1&&(n="right",i=t.gantt.columnsManager.to),o=u,void 0!==i?(s&&e.cancel(s),s=e(function(){a(l,i,n)},300)):t.gantt.api.scroll.raise.scroll(u)},5)),t.getScrollableCss=function(){var e={},n=t.gantt.options.value("maxHeight");n>0&&(e["max-height"]=n-t.gantt.header.getHeight()+"px",e["overflow-y"]="auto",t.gantt.scroll.isVScrollbarVisible()&&(e["border-right"]="none"));var i=this.gantt.options.value("columnWidth"),r=0===t.gantt.width?!1:t.gantt.width<t.gantt.getWidth()-t.gantt.side.getWidth();return void 0!==i&&r&&(e.width=t.gantt.width+this.gantt.scroll.getBordersWidth()+"px"),e}},r.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttVerticalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",link:function(t,e,n,i){i.registerVerticalReceiver(e)}}})}(),function(){"use strict";angular.module("gantt").directive("ganttElementHeightListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var i=n.ganttElementHeightListener;""===i&&(i="ganttElementHeight");for(var r=t;0===i.indexOf("$parent.");)i=i.substring("$parent.".length),r=r.$parent;r.$watch(function(){return e[0].offsetHeight},function(t){t>0&&(r[i]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttElementWidthListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var i=n.ganttElementWidthListener;""===i&&(i="ganttElementWidth");for(var r=t;0===i.indexOf("$parent.");)i=i.substring("$parent.".length),r=r.$parent;r.$watch(function(){return e[0].offsetWidth},function(t){t>0&&(r[i]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttBody",["GanttDirectiveBuilder",function(t){var e=new t("ganttBody");return e.controller=function(t,e){t.gantt.body.$element=e,t.gantt.body.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyBackground",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyBackground");return e.controller=function(t,e){t.gantt.body.background.$element=e,t.gantt.body.background.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyColumns",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyColumns");return e.controller=function(t,e){t.gantt.body.columns.$element=e,t.gantt.body.background.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyForeground",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyForeground");return e.controller=function(t,e){t.gantt.body.foreground.$element=e,t.gantt.body.foreground.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyRows",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyRows");return e.controller=function(t,e){t.gantt.body.rows.$element=e,t.gantt.body.rows.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttColumn",["GanttDirectiveBuilder",function(t){var e=new t("ganttColumn");return e.controller=function(t,e){t.column.$element=e,t.column.$scope=t,t.column.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttColumnHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttColumnHeader");return e.controller=function(t,e){t.column.$element=e,t.column.$scope=t,t.column.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttHeader");return e.controller=function(t,e){t.gantt.header.$element=e,t.gantt.header.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttHeaderColumns",["GanttDirectiveBuilder",function(t){var e=new t("ganttHeaderColumns");return e.controller=function(t,e){t.gantt.header.columns.$element=e,t.gantt.header.columns.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRow",["GanttDirectiveBuilder",function(t){var e=new t("ganttRow");return e.controller=function(t,e){t.row.$element=e,t.row.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRowBackground",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowBackground");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRowLabel",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowLabel");return e.restrict="A",e.templateUrl=void 0,e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttScrollableHeader",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttScrollableHeader");return n.controller=function(t){var n=e.getScrollBarWidth();t.getScrollableHeaderCss=function(){var e={},i=t.gantt.scroll.isVScrollbarVisible(),r=i?n:0,o=this.gantt.options.value("columnWidth"),s=0===t.gantt.width?!1:t.gantt.width<t.gantt.getWidth()-t.gantt.side.getWidth();return void 0!==o&&s?e.width=t.gantt.width-r+this.gantt.scroll.getBordersWidth()+"px":i&&(e.width=t.gantt.getWidth()-t.gantt.side.getWidth()-r+"px"),e}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSide",["GanttDirectiveBuilder",function(t){var e=new t("ganttSide");return e.controller=function(t,e){t.gantt.side.$element=e,t.gantt.side.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSideBackground",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideBackground");return n.controller=function(t){var n=e.getScrollBarHeight();t.getMaxHeightCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSideContent",["GanttDirectiveBuilder",function(t){var e=new t("ganttSideContent");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTask",["GanttDirectiveBuilder","moment",function(t,e){var n=new t("ganttTask");return n.controller=function(t,n){t.task.$element=n,t.task.$scope=t,t.getTaskContent=function(){return void 0!==t.task.model.content?t.task.model.content:t.task.rowsManager.gantt.options.value("taskContent")},t.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},t.$watchGroup(["simplifyMoment(task.model.from)","simplifyMoment(task.model.to)"],function(){t.task.updatePosAndSize()})},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskBackground",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskBackground");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskContent",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskContent");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskForeground",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskForeground");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTimeFrame",["GanttDirectiveBuilder",function(t){var e=new t("ganttTimeFrame");return e.controller=function(t,e){t.timeFrame.$element=e,t.timeFrame.$scope=t,t.timeFrame.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTimespan",["GanttDirectiveBuilder",function(t){var e=new t("ganttTimespan");return e.controller=function(t,e){t.timespan.$element=e,t.timespan.$scope=t,t.timespan.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").factory("ganttDebounce",["$timeout",function(t){function e(e,n,i){var r=0;return function(){var o=this,s=arguments;r++;var a=function(t){return function(){return t===r?e.apply(o,s):void 0}}(r);return t(a,n,void 0===i?!0:i)}}return e}])}(),function(){"use strict";angular.module("gantt").service("GanttDirectiveBuilder",["$templateCache",function(t){var e=function(e,n,i,r){var o=this;this.directiveName=e,this.templateUrl=void 0===n?"template/"+e+".tmpl.html":n,this.require=void 0===i?"^gantt":i,this.restrict=void 0===r?"E":r,this.scope=!1,this.transclude=!0,this.replace=!0,this.build=function(){var e=o.directiveName,n=o.templateUrl,i=o.controller,r={restrict:o.restrict,require:o.require,transclude:o.transclude,replace:o.replace,scope:o.scope,templateUrl:function(e,i){return void 0!==i.templateUrl&&(n=i.templateUrl),void 0!==i.template&&t.put(n,i.template),n},compile:function(){return{pre:function(t,n,i,r){t.gantt.api.directives.raise.preLink(e,t,n,i,r)},post:function(t,n,i,r){t.gantt.api.directives.raise.postLink(e,t,n,i,r)}}},controller:["$scope","$element","$attrs",function(t,n,r){var o=this;void 0!==i&&i(t,n,r,o),t.gantt.api.directives.raise.controller(e,t,n,r,o),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy(e,t,n,r,o)}),t.$applyAsync(function(){t.gantt.api.directives.raise["new"](e,t,n,r,o)})}]};return n||(delete r.templateUrl,delete r.replace,delete r.transclude),r}};return e}])}(),function(){"use strict";angular.module("gantt").service("ganttDom",["$document",function(t){return{elementFromPoint:function(e,n){return t[0].elementFromPoint(e,n)},elementsFromPoint:function(t,e,n){for(var i,r,o,s,a=[],l=[],u=0;(i=this.elementFromPoint(t,e))&&-1===a.indexOf(i)&&null!==i&&(void 0===n||n>u);)a.push(i),l.push({value:i.style.getPropertyValue("visibility"),priority:i.style.getPropertyPriority("visibility")}),i.style.setProperty("visibility","hidden","important"),u++;for(r=0,o=l.length;o>r;r++)s=l[r],a[r].style.setProperty("visibility",s.value?s.value:"",s.priority);return a},findElementFromPoint:function(t,e,n){for(var i,r,o,s,a,l=[],u=[],c=0;(i=this.elementFromPoint(t,e))&&-1===l.indexOf(i)&&null!==i;)if(l.push(i),u.push({value:i.style.getPropertyValue("visibility"),priority:i.style.getPropertyPriority("visibility")}),i.style.setProperty("visibility","hidden","important"),c++,n(i)){r=i;break}for(o=0,s=u.length;s>o;o++)a=u[o],l[o].style.setProperty("visibility",a.value?a.value:"",a.priority);return r},isElementVisible:function(t){return void 0!==t.offsetParent&&null!==t.offsetParent}}}])}(),function(){"use strict";angular.module("gantt").service("ganttEnableNgAnimate",["$injector",function(t){var e;try{e=t.get("$animate")}catch(n){}return void 0!==e?function(t,n){angular.version.major>=1&&angular.version.minor>=4?e.enabled(t,n):e.enabled(n,t)}:angular.noop}])}(),function(){"use strict";angular.module("gantt").directive("ganttBindCompileHtml",["$compile",function(t){return{restrict:"A",require:"^gantt",link:function(e,n,i,r){e.scope=r.gantt.$scope.$parent,e.$watch(function(){return e.$eval(i.ganttBindCompileHtml)},function(i){n.html(i),t(n.contents())(e)})}}}])}(),function(){"use strict";angular.module("gantt").service("ganttLayout",["$document",function(t){return{getScrollBarWidth:function(){var e=t[0].createElement("p");e.style.width="100%",e.style.height="200px";var n=t[0].createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(e),t[0].body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var r=e.offsetWidth;return i===r&&(r=n.clientWidth),t[0].body.removeChild(n),i-r},getScrollBarHeight:function(){var e=t[0].createElement("p");e.style.width="200px;",e.style.height="100%";var n=t[0].createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="150px",n.style.height="200px",n.style.overflow="hidden",n.appendChild(e),t[0].body.appendChild(n);var i=e.offsetHeight;n.style.overflow="scroll";var r=e.offsetHeight;return i===r&&(r=n.clientHeight),t[0].body.removeChild(n),i-r},setColumnsWidthFactor:function(t,e,n){if(t){n||(n=0);for(var i=0;i<t.length;i++){var r=t[i];r.left=e*(r.originalSize.left+n)-n,r.width=e*r.originalSize.width;for(var o=0;o<r.timeFrames.length;o++){var s=r.timeFrames[o];s.left=e*s.originalSize.left,s.width=e*s.originalSize.width}}}}}}])}(),function(){"use strict";angular.module("gantt").service("ganttMouseButton",[function(){return{getButton:function(t){return t=t||window.event,t.which?t.which:void 0===t.button?1:t.button<2?1:4===t.button?2:3}}}])}(),function(){"use strict";angular.module("gantt").service("ganttMouseOffset",[function(){return{getTouch:function(t){return void 0!==t.touches?t.touches[0]:t},getOffset:function(t){return t.offsetX&&t.offsetY?{x:t.offsetX,y:t.offsetY}:t.layerX&&t.layerY?{x:t.layerX,y:t.layerY}:this.getOffsetForElement(t.target,t)},getOffsetForElement:function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}}])}(),function(){"use strict";angular.module("gantt").factory("ganttSmartEvent",[function(){function t(t,e,n,i){return t.$on("$destroy",function(){e.unbind(n,i)}),{bindOnce:function(){e.one(n,i)},bind:function(){e.bind(n,i)},unbind:function(){e.unbind(n,i)}}}return t}])}(),angular.module("gantt.templates",[]).run(["$templateCache",function(t){t.put("template/gantt.tmpl.html",'<div class="gantt unselectable" ng-cloak gantt-scroll-manager gantt-element-width-listener="ganttElementWidth">\n    <gantt-side>\n        <gantt-side-background>\n        </gantt-side-background>\n        <gantt-side-content>\n        </gantt-side-content>\n        <div gantt-resizer="gantt.side.$element" gantt-resizer-event-topic="side" gantt-resizer-enabled="{{$parent.gantt.options.value(\'allowSideResizing\')}}" resizer-width="sideWidth" class="gantt-resizer">\n            <div ng-show="$parent.gantt.options.value(\'allowSideResizing\')" class="gantt-resizer-display"></div>\n        </div>\n    </gantt-side>\n    <gantt-scrollable-header>\n        <gantt-header gantt-element-height-listener="$parent.ganttHeaderHeight">\n            <gantt-header-columns>\n                <div ng-repeat="header in gantt.columnsManager.visibleHeaders track by $index">\n                    <div class="gantt-header-row" ng-class="{\'gantt-header-row-last\': $last, \'gantt-header-row-first\': $first}">\n                        <gantt-column-header ng-repeat="column in header"></gantt-column-header>\n                    </div>\n                </div>\n            </gantt-header-columns>\n        </gantt-header>\n    </gantt-scrollable-header>\n    <gantt-scrollable>\n        <gantt-body>\n            <gantt-body-background>\n                <gantt-row-background ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"></gantt-row-background>\n            </gantt-body-background>\n            <gantt-body-foreground>\n                <div class="gantt-current-date-line" ng-show="currentDate === \'line\' && gantt.currentDateManager.position >= 0 && gantt.currentDateManager.position <= gantt.width" ng-style="{\'left\': gantt.currentDateManager.position + \'px\' }"></div>\n            </gantt-body-foreground>\n            <gantt-body-columns>\n                <gantt-column ng-repeat="column in gantt.columnsManager.visibleColumns">\n                    <gantt-time-frame ng-repeat="timeFrame in column.visibleTimeFrames"></gantt-time-frame>\n                </gantt-column>\n            </gantt-body-columns>\n            <div ng-if="gantt.columnsManager.visibleColumns == 0" style="background-color: #808080"></div>\n            <gantt-body-rows>\n                <gantt-timespan ng-repeat="timespan in gantt.timespansManager.timespans track by timespan.model.id"></gantt-timespan>\n                <gantt-row ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                    <gantt-task ng-repeat="task in row.visibleTasks track by task.model.id">\n                    </gantt-task>\n                </gantt-row>\n            </gantt-body-rows>\n        </gantt-body>\n    </gantt-scrollable>\n\n    <!-- Plugins -->\n    <ng-transclude></ng-transclude>\n\n    <!--\n    ******* Inline templates *******\n    You can specify your own templates by either changing the default ones below or by\n    adding an attribute template-url="<url to your template>" on the specific element.\n    -->\n\n    <!-- Body template -->\n    <script type="text/ng-template" id="template/ganttBody.tmpl.html">\n        <div ng-transclude class="gantt-body" ng-style="{\'width\': gantt.width > 0 ? gantt.width +\'px\' : undefined}"></div>\n    </script>\n\n    <!-- Header template -->\n    <script type="text/ng-template" id="template/ganttHeader.tmpl.html">\n        <div ng-transclude class="gantt-header"\n             ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"></div>\n    </script>\n\n    <!-- Side template -->\n    <script type="text/ng-template" id="template/ganttSide.tmpl.html">\n        <div ng-transclude class="gantt-side" style="width: auto;"></div>\n    </script>\n\n    <!-- Side content template-->\n    <script type="text/ng-template" id="template/ganttSideContent.tmpl.html">\n        <div class="gantt-side-content">\n        </div>\n    </script>\n\n    <!-- Header columns template -->\n    <script type="text/ng-template" id="template/ganttHeaderColumns.tmpl.html">\n        <div ng-transclude class="gantt-header-columns"\n              gantt-horizontal-scroll-receiver></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttColumnHeader.tmpl.html">\n        <div class="gantt-column-header" ng-class="{\'gantt-column-header-last\': $last, \'gantt-column-header-first\': $first}">{{::column.label}}</div>\n    </script>\n\n    <!-- Body background template -->\n    <script type="text/ng-template" id="template/ganttBodyBackground.tmpl.html">\n        <div ng-transclude class="gantt-body-background"></div>\n    </script>\n\n    <!-- Body foreground template -->\n    <script type="text/ng-template" id="template/ganttBodyForeground.tmpl.html">\n        <div ng-transclude class="gantt-body-foreground"></div>\n    </script>\n\n    <!-- Body columns template -->\n    <script type="text/ng-template" id="template/ganttBodyColumns.tmpl.html">\n        <div ng-transclude class="gantt-body-columns"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttColumn.tmpl.html">\n        <div ng-transclude class="gantt-column gantt-foreground-col" ng-class="{\'gantt-column-last\': $last, \'gantt-column-first\': $first}"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttTimeFrame.tmpl.html">\n        <div class="gantt-timeframe"></div>\n    </script>\n\n    <!-- Scrollable template -->\n    <script type="text/ng-template" id="template/ganttScrollable.tmpl.html">\n        <div ng-transclude class="gantt-scrollable" gantt-scroll-sender ng-style="getScrollableCss()"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttScrollableHeader.tmpl.html">\n        <div ng-transclude class="gantt-scrollable-header" ng-style="getScrollableHeaderCss()"></div>\n    </script>\n\n    <!-- Rows template -->\n    <script type="text/ng-template" id="template/ganttBodyRows.tmpl.html">\n        <div ng-transclude class="gantt-body-rows"></div>\n    </script>\n\n    <!-- Timespan template -->\n    <script type="text/ng-template" id="template/ganttTimespan.tmpl.html">\n        <div class="gantt-timespan" ng-class="timespan.model.classes">\n        </div>\n    </script>\n\n    <!-- Task template -->\n    <script type="text/ng-template" id="template/ganttTask.tmpl.html">\n        <div class="gantt-task" ng-class="task.model.classes">\n            <gantt-task-background></gantt-task-background>\n            <gantt-task-foreground></gantt-task-foreground>\n            <gantt-task-content></gantt-task-content>\n        </div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttTaskBackground.tmpl.html">\n        <div class="gantt-task-background" ng-style="{\'background-color\': task.model.color}"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttTaskForeground.tmpl.html">\n        <div class="gantt-task-foreground">\n            <div ng-if="task.truncatedRight" class="gantt-task-truncated-right">&gt;</div>\n            <div ng-if="task.truncatedLeft" class="gantt-task-truncated-left">&lt;</div>\n        </div>\n    </script>\n\n    <!-- Task content template -->\n    <script type="text/ng-template" id="template/ganttTaskContent.tmpl.html">\n        <div class="gantt-task-content" unselectable="on"><span unselectable="on" gantt-bind-compile-html="getTaskContent()"/></div>\n    </script>\n\n\n    <!-- Row background template -->\n    <script type="text/ng-template" id="template/ganttRowBackground.tmpl.html">\n        <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div class="gantt-row-background"\n                 ng-style="{\'background-color\': row.model.color}">\n            </div>\n        </div>\n    </script>\n\n    <!-- Row template -->\n    <script type="text/ng-template" id="template/ganttRow.tmpl.html">\n        <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div ng-transclude class="gantt-row-content"></div>\n        </div>\n    </script>\n\n    <!-- Side background template -->\n    <script type="text/ng-template" id="template/ganttSideBackground.tmpl.html">\n        <div class="gantt-side-background">\n            <div class="gantt-side-background-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n                <div ng-show="$parent.ganttHeaderHeight" class="gantt-header-row gantt-side-header-row"></div>\n            </div>\n            <div class="gantt-side-background-body" ng-style="getMaxHeightCss()">\n                <div gantt-vertical-scroll-receiver>\n                    <div class="gantt-row gantt-row-height "\n                         ng-class-odd="\'gantt-row-odd\'"\n                         ng-class-even="\'gantt-row-even\'"\n                         ng-class="row.model.classes"\n                         ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"\n                         ng-style="{\'height\': row.model.height}">\n                        <div gantt-row-label class="gantt-row-label gantt-row-background"\n                             ng-style="{\'background-color\': row.model.color}">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </script>\n</div>\n')
}]),function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(i,r,o,s){var a=s.gantt.api;if(i.options&&"object"==typeof i.options.bounds)for(var l in i.options.bounds)i[l]=i.options[l];void 0===i.enabled&&(i.enabled=!0),a.directives.on["new"](i,function(t,r,s){if("ganttTask"===t){var a=r.$new();a.pluginScope=i;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var u=n[0].createElement("gantt-task-bounds");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),s.append(e(l)(a))}}),a.tasks.on.clean(i,function(e){void 0===e.est||t.isMoment(e.est)||(e.est=t(e.est)),void 0===e.lct||t.isMoment(e.lct)||(e.lct=t(e.lct))})}}}])}(),function(){"use strict";angular.module("gantt.dependencies",["gantt","gantt.dependencies.templates"]).directive("ganttDependencies",["$timeout","$document","ganttDebounce","GanttDependenciesManager",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",readOnly:"=?",jsPlumbDefaults:"=?",endpoints:"=?",fallbackEndpoints:"=?"},link:function(t,e,r,o){function s(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint arrow-right"></span></span>')}function a(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint arrow-right"></span></span>')}function l(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint fallback-endpoint"></span></span>')}function u(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint fallback-endpoint"></span></span>')}var c=o.gantt.api;if(t.options&&"object"==typeof t.options.dependencies)for(var d in t.options.dependencies)t[d]=t.options[d];void 0===t.enabled&&(t.enabled=!0),void 0===t.readOnly&&(t.readOnly=!1),void 0===t.jsPlumbDefaults&&(t.jsPlumbDefaults={Endpoint:["Dot",{radius:4}],EndpointStyle:{fillStyle:"#456",strokeStyle:"#456",lineWidth:1},Connector:"Flowchart",ConnectionOverlays:[["Arrow",{location:1,length:12,width:12}]]}),void 0===t.endpoints&&(t.endpoints=[{anchor:"Left",isSource:!1,isTarget:!0,maxConnections:-1,cssClass:"gantt-endpoint start-endpoint target-endpoint",overlays:[["Custom",{create:s}]]},{anchor:"Right",isSource:!0,isTarget:!1,maxConnections:-1,cssClass:"gantt-endpoint end-endpoint source-endpoint",overlays:[["Custom",{create:a}]]}]),void 0===t.fallbackEndpoints&&(t.fallbackEndpoints=[{endpoint:"Blank",anchor:"Left",isSource:!1,isTarget:!0,maxConnections:0,cssClass:"gantt-endpoint start-endpoint fallback-endpoint",overlays:[["Custom",{create:l}]]},{endpoint:"Blank",anchor:"Right",isSource:!0,isTarget:!1,maxConnections:0,cssClass:"gantt-endpoint end-endpoint fallback-endpoint",overlays:[["Custom",{create:u}]]}]);var h=new i(o.gantt,t,c);c.directives.on["new"](t,function(t,e,n){"ganttBody"===t&&h.plumb.setContainer(n)}),c.tasks.on.add(t,function(t){h.addDependenciesFromTask(t)}),c.tasks.on.remove(t,function(t){h.removeDependenciesFromTask(t)}),c.tasks.on.displayed(t,n(function(t){h.setTasks(t),h.refresh()})),c.rows.on.displayed(t,function(){h.refresh()}),c.tasks.on.viewChange(t,function(t){t.$element&&h.plumb.revalidate(t.$element[0])}),c.tasks.on.viewRowChange(t,function(t){h.setTask(t)})}}}])}(),function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["$document","ganttMouseOffset","ganttUtils","moment",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskModelFactory:"=?taskFactory"},link:function(n,r,o,s){var a=s.gantt.api;void 0===n.enabled&&(n.enabled=!0),void 0===n.moveThreshold&&(n.moveThreshold=0),void 0===n.taskModelFactory&&(n.taskModelFactory=function(){return{}}),a.directives.on["new"](n,function(r,o,s){if("ganttRow"===r){var l=function(t){var e=a.core.getDateByPosition(t,!0),r=i(e),s=n.taskModelFactory();s.from=e,s.to=r;var l=o.row.addTask(s);l.isResizing=!0,l.updatePosAndSize(),o.row.updateVisibleTasks(),o.row.$scope.$digest()},u=function(i){var r=function(t){var o=e.getOffset(t).x;Math.abs(i-o)>=n.moveThreshold&&(s.off("mousemove",r),l(i))};s.on("mousemove",r),t.one("mouseup",function(){s.off("mousemove",r)})},c=function(t){var i=t.target?t.target:t.srcElement,r=angular.isFunction(n.enabled)?n.enabled(t):n.enabled;if(r&&i.className.indexOf("gantt-row")>-1){var o=e.getOffset(t).x;0===n.moveThreshold?l(o,o):u(o)}};s.on("mousedown",c),o.drawTaskHandler=c}}),a.directives.on.destroy(n,function(t,e,n){"ganttRow"===t&&(n.off("mousedown",e.drawTaskHandler),delete e.drawTaskHandler)})}}}])}(),function(){"use strict";angular.module("gantt.groups",["gantt","gantt.groups.templates"]).directive("ganttGroups",["ganttUtils","GanttHierarchy","$compile","$document",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",display:"=?"},link:function(t,r,o,s){function a(){t.hierarchy.refresh(s.gantt.rowsManager.filteredRows)}var l=s.gantt.api;if(t.options&&"object"==typeof t.options.sortable)for(var u in t.options.sortable)t[u]=t.options[u];void 0===t.enabled&&(t.enabled=!0),void 0===t.display&&(t.display="group"),t.hierarchy=new e,s.gantt.api.registerMethod("groups","refresh",a,this),s.gantt.$scope.$watchCollection("gantt.rowsManager.filteredRows",function(){a()}),l.directives.on["new"](t,function(e,r,s){if("ganttRow"===e){var a=r.$new();a.pluginScope=t;var l=i[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var u=i[0].createElement("gantt-task-group");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),s.append(n(l)(a))}})}}}])}(),function(){"use strict";angular.module("gantt.labels",["gantt","gantt.labels.templates"]).directive("ganttLabels",["ganttUtils","$compile","$document","$log",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(t,r,o,s){function a(){for(var t=s.gantt.side.$element[0].getElementsByClassName("gantt-row-label"),e=0,n=0;n<t.length;n++){var i=t[n].children[0].offsetWidth;e=Math.max(e,i)}e>=0&&l.side.setWidth(e)}var l=s.gantt.api;if(i.warn("Angular Gantt Labels plugin is deprecated. Please use Table plugin instead."),t.options&&"object"==typeof t.options.sortable)for(var u in t.options.sortable)t[u]=t.options[u];void 0===t.enabled&&(t.enabled=!0),void 0===t.header&&(t.header="Name"),l.directives.on["new"](t,function(i,r,o){if("ganttSideContent"===i){var s=r.$new();s.pluginScope=t;var a=n[0].createElement("div");angular.element(a).attr("data-ng-if","pluginScope.enabled"),angular.element(a).addClass("side-element");var l=n[0].createElement("gantt-side-content-labels");angular.element(a).append(l),o.append(e(a)(s))}}),l.registerMethod("labels","fitSideWidth",a,this)}}}])}(),function(){"use strict";angular.module("gantt.movable",["gantt"]).directive("ganttMovable",["ganttMouseButton","ganttMouseOffset","ganttSmartEvent","ganttMovableOptions","ganttUtils","ganttDom","$window","$document","$timeout",function(t,e,n,i,r,o,s,a,l){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",allowMoving:"=?",allowResizing:"=?",allowRowSwitching:"=?"},link:function(u,c,d,h){var p=h.gantt.api;if(u.options&&"object"==typeof u.options.movable)for(var f in u.options.movable)u[f]=u.options[f];i.initialize(u),p.registerEvent("tasks","move"),p.registerEvent("tasks","moveBegin"),p.registerEvent("tasks","moveEnd"),p.registerEvent("tasks","resize"),p.registerEvent("tasks","resizeBegin"),p.registerEvent("tasks","resizeEnd"),p.registerEvent("tasks","change");var g,m,v="ontouchstart"in s||s.DocumentTouch&&a[0]instanceof s.DocumentTouch,y="touchstart mousedown",b="touchmove mousemove",w="touchend mouseup",_=15,x=5,k=3,C=15,$=5;p.directives.on["new"](u,function(i,c,d){if("ganttTask"===i){var p,f=angular.element(s),M=c.row.rowsManager.gantt.body.$element,S=c.row.rowsManager.gantt.scroll.$element,T=!1,D=!1,E=c.task.getForegroundElement(),O=c.task.getContentElement(),A=function(n){n.preventDefault(),v&&(n=e.getTouch(n));var i=c.task.model.movable,o=c.task.row.model.movable;("boolean"==typeof i||angular.isFunction(i))&&(i={enabled:i}),("boolean"==typeof o||angular.isFunction(o))&&(o={enabled:o});var s=r.firstProperty([i,o],"enabled",u.enabled),a=angular.isFunction(s)?s(n,c.task):s;if(a){var l=e.getOffsetForElement(E[0],n).x,d=B(l);if(""!==d&&1===t.getButton(n)){var h=e.getOffsetForElement(M[0],n).x;z(d,h)}c.$digest()}};E.on(y,A),O.on(y,A);var P=function(t){var n=c.task.model.movable,i=c.task.row.model.movable;("boolean"==typeof n||angular.isFunction(n))&&(n={enabled:n}),("boolean"==typeof i||angular.isFunction(i))&&(i={enabled:i});var o=r.firstProperty([n,i],"enabled",u.enabled),s=angular.isFunction(o)?o(t,c.task):o;if(s&&!c.task.isMoving){var a=e.getOffsetForElement(E[0],t).x,l=B(a);""!==l&&"M"!==l?(E.css("cursor",H(l)),O.css("cursor",H(l))):(E.css("cursor",""),O.css("cursor",""))}};E.on("mousemove",P),O.on("mousemove",P);var L=function(t){c.task.isMoving&&!c.destroyed&&(R(),I(t),N(t))},I=function(t){var n=T,i=e.getOffsetForElement(M[0],t),s=i.x;c.task.mouseOffsetX=s;var l=c.task.row.rowsManager.gantt.options.value("taskOutOfRange"),d=c.task.model.movable,p=c.task.row.model.movable;if(("boolean"==typeof d||angular.isFunction(d))&&(d={enabled:d}),("boolean"==typeof p||angular.isFunction(p))&&(p={enabled:p}),"M"===c.task.moveMode){var f=r.firstProperty([d,p],"allowRowSwitching",u.allowRowSwitching);if(f){var m=S[0].getBoundingClientRect(),v=m.left+m.width/2,y=angular.element(a[0].querySelectorAll(".gantt-body"));y.css("pointer-events","auto");var b=o.findElementFromPoint(v,t.clientY,function(t){return angular.element(t).hasClass("gantt-row")});y.css("pointer-events","");for(var w,_=h.gantt.rowsManager.rows,x=0,k=_.length;k>x;x++)if(b===_[x].$element[0]){w=_[x];break}var C=c.task.row;void 0!==w&&C!==w&&(w.moveTaskToRow(c.task,!0),T=!0)}var $=r.firstProperty([d,p],"allowMoving",u.allowMoving);$&&(s-=g,"truncate"!==l&&(0>s?s=0:s+c.task.width>=c.gantt.width&&(s=c.gantt.width-c.task.width)),c.task.moveTo(s,!0),c.$digest(),T&&c.row.rowsManager.gantt.api.tasks.raise.move(c.task),T=!0)}else"E"===c.task.moveMode?(s<=c.task.left&&(s=c.task.left,c.task.moveMode="W",F(H(c.task.moveMode))),"truncate"!==l&&s>=c.gantt.width&&(s=c.gantt.width),c.task.setTo(s,!0),c.$digest(),T&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),T=!0):(s>c.task.left+c.task.width&&(s=c.task.left+c.task.width,c.task.moveMode="E",F(H(c.task.moveMode))),"truncate"!==l&&0>s&&(s=0),c.task.setFrom(s,!0),c.$digest(),T&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),T=!0);if(!n&&T&&!D){var E=c.task.getBackgroundElement();"M"===c.task.moveMode?(E.addClass("gantt-task-moving"),c.row.rowsManager.gantt.api.tasks.raise.moveBegin(c.task)):(E.addClass("gantt-task-resizing"),c.row.rowsManager.gantt.api.tasks.raise.resizeBegin(c.task))}},N=function(t){var n=e.getOffsetForElement(M[0],t),i=S[0].scrollLeft,r=S[0].offsetWidth,o=S[0].scrollWidth,s=i+r,a=!1;n.x<m?i>0&&n.x<=i+$&&(n.x-=C,a=!0,c.row.rowsManager.gantt.api.scroll.left(C)):o>s&&n.x>=s-$&&(n.x+=C,a=!0,c.row.rowsManager.gantt.api.scroll.right(C)),a&&(p=l(function(){L(t)},100,!0))},R=function(){void 0!==p&&(l.cancel(p),p=void 0)},B=function(t){var e=0,n=c.task.model.movable,i=c.task.row.model.movable;"boolean"==typeof n&&(n={enabled:n}),"boolean"==typeof i&&(i={enabled:i});var o=r.firstProperty([n,i],"allowResizing",u.allowResizing),s=r.firstProperty([n,i],"allowRowSwitching",u.allowRowSwitching),a=r.firstProperty([n,i],"allowMoving",u.allowMoving);return o&&(e=E[0].offsetWidth<_?k:x),o&&t>E[0].offsetWidth-e?"E":o&&e>t?"W":(a||s)&&t>=e&&t<=E[0].offsetWidth-e?"M":""},H=function(t){switch(t){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},F=function(t){d.css("cursor",t),angular.element(a[0].body).css({"-moz-user-select":""===t?"":"-moz-none","-webkit-user-select":""===t?"":"none","-ms-user-select":""===t?"":"none","user-select":""===t?"":"none",cursor:t})},z=function(t,i){void 0===c.task.originalModel&&(c.task.originalRow=c.task.row,c.task.originalModel=c.task.model,c.task.model=angular.copy(c.task.originalModel)),D||(m=i,g=i-c.task.modelLeft),T=!1,c.task.moveMode=t,c.task.isMoving=!0,c.task.active=!0;var r=function(t){t.stopImmediatePropagation(),v&&(t=e.getTouch(t)),L(t)},o=n(c,f,b,r);o.bind(),n(c,f,w,function(t){v&&(t=e.getTouch(t)),o.unbind(),W(t),c.$digest()}).bindOnce(),F(H(t))},W=function(){var t=c.task.getBackgroundElement();if(t.removeClass("gantt-task-moving"),t.removeClass("gantt-task-resizing"),void 0!==c.task.originalModel){if(c.task.originalModel.from=c.task.model.from,c.task.originalModel.to=c.task.model.to,c.task.originalModel.lct=c.task.model.lct,c.task.originalModel.est=c.task.model.est,c.task.model=c.task.originalModel,c.task.row.model.id!==c.task.originalRow.model.id){var e=c.task.row;e.removeTask(c.task.model.id,!1,!0),c.task.row=c.task.originalRow,e.moveTaskToRow(c.task,!1)}delete c.task.originalModel,delete c.task.originalRow,c.$apply()}D=!1,c.task.isMoving=!1,c.task.active=!1,R(),F(""),T===!0&&("M"===c.task.moveMode?c.row.rowsManager.gantt.api.tasks.raise.moveEnd(c.task):c.row.rowsManager.gantt.api.tasks.raise.resizeEnd(c.task),T=!1,c.task.row.sortTasks(),c.row.rowsManager.gantt.api.tasks.raise.change(c.task)),c.task.moveMode=void 0};c.$on("$destroy",function(){c.destroyed=!0,R()}),c.task.isResizing?(D=!0,z("E",c.task.mouseOffsetX),delete c.task.isResizing):c.task.isMoving&&(D=!0,z("M",c.task.mouseOffsetX))}})}}}])}(),function(){"use strict";angular.module("gantt.overlap",["gantt","gantt.overlap.templates"]).directive("ganttOverlap",["moment",function(t){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(e,n,i,r){function o(t){var e,n;return t.model.from.isBefore(t.model.to)?(e=t.model.from,n=t.model.to):(e=t.model.to,n=t.model.from),[e,n]}function s(e){var n=o(e);return t().range(n[0],n[1])}function a(t,e){e.model.id in t||(e.$element.addClass("gantt-task-overlaps"),t[e.model.id]=e)}function l(t,e){for(var n=0,i=e.length;i>n;n++){var r=e[n];r.model.id in t||r.$element.removeClass("gantt-task-overlaps")}}function u(t){var e={};if(t.length>1)for(var n=t[0],i=s(n),r=1,o=t.length;o>r;r++){var u=t[r],c=s(u);c.overlaps(i)&&(a(e,u),a(e,n)),n.left+n.width<u.left+u.width&&(n=u,i=c)}l(e,t)}function c(t,e){return t.sort(function(t,n){return e(t)<e(n)?-1:e(t)>e(n)?1:0})}var d=r.gantt.api;void 0===e.enabled&&(e.enabled=!0),void 0===e.global&&(e.global=!1),e.enabled&&(d.core.on.rendered(e,function(t){var n,i=r.gantt.rowsManager.rows;if(e.global){var o=[];for(n=0;n<i.length;n++)o.push.apply(o,i[n].tasks);o=c(o,function(t){return t.model.from}),u(o)}else for(i=t.gantt.rowsManager.rows,n=0;n<i.length;n++)u(i[n].tasks)}),d.tasks.on.change(e,function(t){if(e.global){for(var n=t.row.rowsManager.rows,i=[],r=0;r<n.length;r++)i.push.apply(i,n[r].tasks);i=c(i,function(t){return t.model.from}),u(i)}else u(t.row.tasks)}),d.tasks.on.rowChange(e,function(t,n){if(e.global){for(var i=n.rowsManager.rows,r=[],o=0;o<i.length;o++)r.push.apply(r,i[o].tasks);r=c(r,function(t){return t.model.from}),u(r)}else u(n.tasks)}))}}}])}(),function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(i,r,o,s){var a=s.gantt.api;if(i.options&&"object"==typeof i.options.progress)for(var l in i.options.progress)i[l]=i.options[l];void 0===i.enabled&&(i.enabled=!0),a.directives.on["new"](i,function(t,r,s){if("ganttTaskBackground"===t){var a=r.$new();a.pluginScope=i;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var u=n[0].createElement("gantt-task-progress");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),s.append(e(l)(a))}}),a.tasks.on.clean(i,function(e){void 0===e.est||t.isMoment(e.est)||(e.est=t(e.est)),void 0===e.lct||t.isMoment(e.lct)||(e.lct=t(e.lct))})}}}])}(),function(){"use strict";angular.module("gantt.resizeSensor",["gantt"]).directive("ganttResizeSensor",[function(){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(t,e,n,i){function r(){var t=e.parent().parent().parent()[0].querySelectorAll("div.gantt")[0];return new ResizeSensor(t,function(){i.gantt.$scope.ganttElementWidth=t.clientWidth,i.gantt.$scope.$apply()})}var o=i.gantt.api;if(t.options&&"object"==typeof t.options.progress)for(var s in t.options.progress)t[s]=t.options[s];void 0===t.enabled&&(t.enabled=!0);var a,l=!1;o.core.on.rendered(t,function(){l=!0,void 0!==a&&a.detach(),t.enabled&&(ElementQueries.update(),a=r())}),t.$watch("enabled",function(t){l&&(t&&void 0===a?(ElementQueries.update(),a=r()):t||void 0===a||(a.detach(),a=void 0))})}}}])}(),function(){"use strict";for(var t,e="gantt.sortable",n="ganttSortable",i=["gantt",{module:"ang-drag-drop",url:"https://github.com/ganarajpr/angular-dragdrop.git#master"}],r=[],o=[],s=0,a=i.length;a>s;s++){var l=i[s];try{angular.isString(l)&&(l={module:l},i[s]=l),angular.module(l.module),o.push(l.module)}catch(u){l.exception=u,r.push(l)}}r.length>0?angular.module(e,[]).directive(n,["$log",function(i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(){i.warn(e+" module can't require some dependencies:");for(var o=0,s=r.length;s>o;o++){t=r[o];var a=t.module;t.url&&(a+=" ("+t.url+")"),t.exception&&t.exception.message&&(a+=": "+t.exception.message),i.warn(a)}i.warn(n+" plugin directive won't be available")}}}]):angular.module(e,o).directive(n,["ganttUtils","$compile",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,i,r,o){var s=o.gantt.api;if(n.options&&"object"==typeof n.options.sortable)for(var a in n.options.sortable)n[a]=n.options[a];void 0===n.enabled&&(n.enabled=!0),s.directives.on["new"](n,function(i,r,o){"ganttRowLabel"===i&&void 0===o.attr("drag")&&(r.checkDraggable=function(){var e=r.row.model.sortable;return"boolean"==typeof e&&(e={enabled:e}),t.firstProperty([e],"enabled",n.enabled)},r.onDropSuccess=function(){r.$evalAsync()},r.onDrop=function(t,e){var n=r.row.rowsManager.rowsMap[e.id];n!==r&&(r.row.rowsManager.moveRow(n,r.row),r.$evalAsync())},o.attr("ui-draggable","{{checkDraggable()}}"),o.attr("drag-channel","'sortable'"),o.attr("ui-on-drop","onDrop($event, $data)"),o.attr("on-drop-success","onDropSuccess()"),o.attr("drop-channel","'sortable'"),o.attr("drag","row.model"),e(o)(r))})}}}])}(),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(t,i,r,o){var s=o.gantt.api;if(t.options&&"object"==typeof t.options.sortable)for(var a in t.options.sortable)t[a]=t.options[a];void 0===t.enabled&&(t.enabled=!0),void 0===t.columns&&(t.columns=["model.name"]),void 0===t.headers&&(t.headers={"model.name":"Name"}),void 0===t.contents&&(t.contents={}),void 0===t.headerContents&&(t.headerContents={}),void 0===t.classes&&(t.classes={}),void 0===t.formatters&&(t.formatters={}),s.directives.on["new"](t,function(i,r,o){if("ganttSideContent"===i){var s=r.$new();s.pluginScope=t;var a=n[0].createElement("div");angular.element(a).attr("data-ng-if","pluginScope.enabled"),angular.element(a).addClass("side-element");var l=n[0].createElement("gantt-side-content-table");angular.element(a).append(l),o.append(e(a)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(n,i,r,o){var s=o.gantt.api;if(n.options&&"object"==typeof n.options.tooltips)for(var a in n.options.tooltips)n[a]=n.options[a];void 0===n.enabled&&(n.enabled=!0),void 0===n.dateFormat&&(n.dateFormat="MMM DD, HH:mm"),void 0===n.delay&&(n.delay=500),void 0===n.content&&(n.content="{{task.model.name}}</br><small>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),n.api=s,s.directives.on["new"](n,function(i,o,s){if("ganttTask"===i){var a=o.$new();a.pluginScope=n;var l=e[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var u=e[0].createElement("gantt-tooltip");void 0!==r.templateUrl&&angular.element(u).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(u).attr("data-template",r.template),angular.element(l).append(u),s.append(t(l)(a))}})}}}])}(),function(){"use strict";angular.module("gantt.tree",["gantt","gantt.tree.templates","ui.tree"]).directive("ganttTree",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?",content:"=?",headerContent:"=?",keepAncestorOnFilterRow:"=?"},link:function(t,i,r,o){var s=o.gantt.api;if(t.options&&"object"==typeof t.options.sortable)for(var a in t.options.sortable)t[a]=t.options[a];void 0===t.enabled&&(t.enabled=!0),void 0===t.header&&(t.header="Name"),void 0===t.headerContent&&(t.headerContent="{{getHeader()}}"),void 0===t.keepAncestorOnFilterRow&&(t.keepAncestorOnFilterRow=!1),s.directives.on["new"](t,function(i,r,o){if("ganttSideContent"===i){var s=r.$new();s.pluginScope=t;var a=n[0].createElement("div");angular.element(a).attr("data-ng-if","pluginScope.enabled"),angular.element(a).addClass("side-element");var l=n[0].createElement("gantt-side-content-tree");angular.element(a).append(l),o.append(e(a)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",["$templateCache","moment",function(t,e){return{restrict:"E",templateUrl:function(e,n){var i;return i=void 0===n.templateUrl?"plugins/bounds/taskBounds.tmpl.html":n.templateUrl,n.template&&t.put(i,n.template),i},replace:!0,scope:!0,controller:["$scope","$element",function(t,n){n.toggleClass("ng-hide",!0),t.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},t.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var e=t.task.rowsManager.gantt.getPositionByDate(t.task.model.est),i=t.task.rowsManager.gantt.getPositionByDate(t.task.model.lct);n.css("left",e-t.task.left+"px"),n.css("width",i-e+"px"),n.toggleClass("gantt-task-bounds-in",!1),n.toggleClass("gantt-task-bounds-out",!1),void 0===t.task.model.est||void 0===t.task.model.lct?n.toggleClass("gantt-task-bounds-in",!0):t.task.model.est>t.task.model.from?n.toggleClass("gantt-task-bounds-out",!0):t.task.model.lct<t.task.model.to?n.toggleClass("gantt-task-bounds-out",!0):n.toggleClass("gantt-task-bounds-in",!0)}),t.task.$element.bind("mouseenter",function(){n.toggleClass("ng-hide",!1)}),t.task.$element.bind("mouseleave",function(){n.toggleClass("ng-hide",!0)}),t.task.rowsManager.gantt.api.directives.raise["new"]("ganttBounds",t,n),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",t,n)})}]}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesEvents",[function(){var t=function(t){var e=this;this.manager=t;var n=function(){return!e.manager.pluginScope.readOnly};this.manager.plumb.bind("beforeDrag",n),this.manager.plumb.bind("beforeStartDetach",n);var i=function(t){return t.sourceId!==t.targetId};this.manager.plumb.bind("beforeDrop",i),this.manager.plumb.bind("connectionDrag",function(t){e.manager.setDraggingConnection(t)}),this.manager.plumb.bind("connectionDragStop",function(){e.manager.setDraggingConnection(void 0)}),this.manager.plumb.bind("beforeDrop",function(){return e.manager.setDraggingConnection(void 0),!0});var r=function(t,n){if(n){var i;t.connection.$dependency&&(i=t.connection.$dependency);var r=t.sourceEndpoint,o=t.targetEndpoint,s=r.$task.model,a=s.dependencies;void 0===a&&(a=[],s.dependencies=a);var l={to:o.$task.model.id};a.push(l),i&&(i.removeFromTaskModel(),e.manager.removeDependency(i,!0));var u=e.manager.addDependency(r.$task,l);t.connection.$dependency=u,u.connection=t.connection,e.manager.api.dependencies.raise.add(u)}},o=function(t,n){if(n){var i;t.connection.$dependency&&(i=t.connection.$dependency);var r=t.newSourceEndpoint,o=t.newTargetEndpoint,s=r.$task.model,a=s.dependencies;void 0===a&&(a=[],s.dependencies=a);var l={to:o.$task.model.id};a.push(l),i&&(i.removeFromTaskModel(),e.manager.removeDependency(i,!0));var u=e.manager.addDependency(r.$task,l);t.connection.$dependency=u,u.connection=t.connection,e.manager.api.dependencies.raise.change(u,i)}},s=function(t,n){if(n){var i=t.connection.$dependency;i.removeFromTaskModel(),e.manager.removeDependency(i,!0),e.manager.api.dependencies.raise.remove(i)}};this.manager.plumb.bind("connectionMoved",o),this.manager.plumb.bind("connection",r),this.manager.plumb.bind("connectionDetached",s)};return t}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesManager",["GanttDependency","GanttDependenciesEvents","GanttDependencyTaskMouseHandler",function(t,e,n){var i=function(i,r,o){var s=this;this.gantt=i,this.pluginScope=r,this.api=o,this.api.registerEvent("dependencies","add"),this.api.registerEvent("dependencies","change"),this.api.registerEvent("dependencies","remove"),this.plumb=jsPlumb.getInstance(),this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults),this.dependenciesFrom={},this.dependenciesTo={},this.tasksList=[],this.tasks={},this.events=new e(this),this.pluginScope.$watch("enabled",function(t,e){t!==e&&s.refresh()}),this.pluginScope.$watch("readOnly",function(t,e){t!==e&&(s.setTasks(s.tasksList),s.refresh())}),this.pluginScope.$watch("jsPlumbDefaults",function(t,e){t!==e&&(s.plumb.importDefaults(t),s.refresh())},!0),this.addDependenciesFromTask=function(t){if(this.pluginScope.enabled){var e=t.model.dependencies;if(void 0!==e){angular.isArray(e)||(e=[e],t.model.dependencies=e);for(var n=0,i=e.length;i>n;n++){var r=s.addDependency(t,e[n]);r.connect()}}}},this.removeDependenciesFromTask=function(t,e){var n=this.getTaskDependencies(t);if(n)for(var i=0;i<n.length;i++)e||n[i].disconnect(),s.removeDependency(n[i])},this.addDependency=function(e,n){var i=new t(this,e,n),r=i.getFromTaskId(),o=i.getToTaskId();return r in this.dependenciesFrom||(this.dependenciesFrom[r]=[]),o in this.dependenciesTo||(this.dependenciesTo[o]=[]),r&&this.dependenciesFrom[r].push(i),o&&this.dependenciesTo[o].push(i),i},this.removeDependency=function(t,e){var n,i=this.dependenciesFrom[t.getFromTaskId()],r=[];if(i)for(n=0;n<i.length;n++)t===i[n]&&r.push(t);var o=this.dependenciesTo[t.getToTaskId()],s=[];if(o)for(n=0;n<o.length;n++)t===o[n]&&s.push(t);for(n=0;n<r.length;n++)e||r[n].disconnect(),i.splice(i.indexOf(t),1);for(n=0;n<s.length;n++)e||s[n].disconnect(),o.splice(o.indexOf(t),1);this.dependenciesFrom[t.getFromTaskId()]&&0===this.dependenciesFrom[t.getFromTaskId()].length&&delete this.dependenciesFrom[t.getFromTaskId()],this.dependenciesTo[t.getToTaskId()]&&0===this.dependenciesTo[t.getToTaskId()].length&&delete this.dependenciesTo[t.getToTaskId()]},this.getTaskDependencies=function(t){var e=[],n=s.dependenciesFrom[t.model.id];n&&(e=e.concat(n));var i=s.dependenciesTo[t.model.id];return i&&(e=e.concat(i)),e},this.setDraggingConnection=function(t){t?(s.draggingConnection=t,angular.forEach(s.tasks,function(t){t.dependencies.mouseHandler.release()})):(s.draggingConnection=void 0,angular.forEach(s.tasks,function(t){t.dependencies.mouseHandler.install()}))};var a=function(t){if(t.dependencies||(t.dependencies={}),t.dependencies.endpoints=[],s.pluginScope.endpoints)for(var e=0;e<s.pluginScope.endpoints.length;e++){var n=s.plumb.addEndpoint(t.$element,s.pluginScope.endpoints[e]);n.setVisible(!1,!0,!0),n.$task=t,t.dependencies.endpoints.push(n)}},l=function(t){for(var e=0;e<t.dependencies.endpoints.length;e++){var n=t.dependencies.endpoints[e];s.plumb.deleteEndpoint(n),n.$task=void 0}t.dependencies.endpoints=void 0},u=function(t){t.dependencies||(t.dependencies={}),s.pluginScope.readOnly||(t.dependencies.mouseHandler=new n(s,t),t.dependencies.mouseHandler.install())},c=function(t){t.dependencies.mouseHandler&&(t.dependencies.mouseHandler.release(),t.dependencies.mouseHandler=void 0)};this.setTasks=function(t){angular.forEach(s.tasks,function(t){c(t),l(t)});for(var e={},n=0;n<t.length;n++){var i=t[n];e[i.model.id]=i,a(i),u(i)}s.tasks=e,s.tasksList=t};var d=function(t){var e=s.getTaskDependencies(t);if(e)for(var n=0;n<e.length;n++)e[n].disconnect();return e},h=function(t){var e=s.getTaskDependencies(t);if(e)for(var n=0;n<e.length;n++)e[n].connect();return e};this.setTask=function(t){s.plumb.setSuspendDrawing(!0);try{var e=s.tasks[t.model.id];void 0!==e&&(d(e),c(e),l(e)),s.tasks[t.model.id]=t,a(t),u(t),h(t)}finally{s.plumb.setSuspendDrawing(!1,!0)}},this.getTask=function(t){return s.tasks[t]};var p=function(t){return t.dependencies.endpoints.filter(function(t){return t.isSource})},f=function(t){return t.dependencies.endpoints.filter(function(t){return t.isTarget})};this.connect=function(t,e,n){var i=p(t),r=f(e);if(i&&r){var o,a;o=n.connectParameters&&n.connectParameters.sourceEndpointIndex?i[n.connectParameters.sourceEndpointIndex]:i[0],a=n.connectParameters&&n.connectParameters.targetEndpointIndex?r[n.connectParameters.targetEndpointIndex]:r[0];var l=s.plumb.connect({source:o,target:a},n.connectParameters);return l}},this.getDependencies=function(){var t=[];return angular.forEach(this.dependenciesFrom,function(e){for(var n=0;n<e.length;n++)e[n]in t||t.push(e[n])}),t},this.refresh=function(t){s.plumb.setSuspendDrawing(!0);try{var e,n;t&&!angular.isArray(t)&&(t=[t]),void 0===t?(t=this.tasks,e=this.getDependencies()):(e=[],angular.forEach(t,function(t){var n=s.getTaskDependencies(t);angular.forEach(n,function(t){t in e||e.push(t)})}));for(n=0;n<e.length;n++)s.removeDependency(e[n]);angular.forEach(t,function(t){s.addDependenciesFromTask(t)})}finally{s.plumb.setSuspendDrawing(!1,!0)}},this.api.registerMethod("dependencies","refresh",this.refresh,this)};return i}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependency",["ganttUtils","ganttDom",function(t,e){var n=function(n,i,r){var o=this;this.manager=n,this.task=i,this.model=r,this.connection=void 0,this.fallbackEndpoints=[],this.isConnected=function(){return this.connection?!0:!1},this.disconnect=function(){this.connection&&(this.connection.endpoints&&this.manager.plumb.detach(this.connection),this.connection.$dependency=void 0,this.connection=void 0),this.deleteFallbackEndpoints()},this.deleteFallbackEndpoints=function(){if(this.fallbackEndpoints){for(var t=0;t<this.fallbackEndpoints.length;t++)o.manager.plumb.deleteEndpoint(this.fallbackEndpoints[t]);this.fallbackEndpoints=[]}},this.getFromTaskId=function(){return void 0!==this.model.from?this.model.from:this.task.model.id},this.getToTaskId=function(){return void 0!==this.model.to?this.model.to:this.task.model.id},this.getFromTask=function(){return void 0!==this.model.from?this.manager.getTask(this.model.from):this.task},this.getToTask=function(){return void 0!==this.model.to?this.manager.getTask(this.model.to):this.task},this.removeFromTaskModel=function(){var e=t.angularIndexOf(this.task.model.dependencies,this.model);return e>=0&&this.task.model.dependencies.splice(e,1),e};var s=function(t){if(void 0===t||void 0===t.$element)return!1;
var n=t.$element[0];return e.isElementVisible(n)};this.connect=function(){var t=this.getFromTask(),e=this.getToTask();if(s(t)||(t=void 0),s(e)||(e=void 0),t&&e){var n=this.manager.connect(t,e,this.model);if(n)return n.$dependency=this,this.connection=n,!0}if(this.deleteFallbackEndpoints(),void 0!==t){var i=this.manager.pluginScope.fallbackEndpoints[1];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(t.$element,i))}if(void 0!==e){var r=this.manager.pluginScope.fallbackEndpoints[0];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(e.$element,r))}return!1}};return n}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependencyTaskMouseHandler",["$timeout",function(t){var e=function(e,n){var i=this;this.manager=e,this.task=n,this.installed=!1,this.elementHandlers=[],this.display=!0,this.hideEndpointsPromise=void 0;var r=function(e){this.element=e,this.mouseExitHandler=function(){t.cancel(i.hideEndpointsPromise),i.hideEndpointsPromise=t(i.hideEndpoints,1e3,!1)},this.mouseEnterHandler=function(){t.cancel(i.hideEndpointsPromise),i.displayEndpoints()},this.install=function(){this.element.bind("mouseenter",this.mouseEnterHandler),this.element.bind("mouseleave",this.mouseExitHandler)},this.release=function(){this.element.unbind("mouseenter",this.mouseEnterHandler),this.element.unbind("mouseleave",this.mouseExitHandler),t.cancel(i.hideEndpointsPromise)}};this.install=function(){i.installed||(i.hideEndpoints(),i.elementHandlers.push(new r(i.task.getContentElement())),angular.forEach(i.task.dependencies.endpoints,function(t){i.elementHandlers.push(new r(angular.element(t.canvas)))}),angular.forEach(i.elementHandlers,function(t){t.install()}),i.installed=!0)},this.release=function(){i.installed&&(angular.forEach(i.elementHandlers,function(t){t.release()}),i.elementHandlers=[],i.displayEndpoints(),i.installed=!1)},this.displayEndpoints=function(){i.display=!0,angular.forEach(i.task.dependencies.endpoints,function(t){t.setVisible(!0,!0,!0)})},this.hideEndpoints=function(){angular.forEach(i.task.dependencies.endpoints,function(t){t.setVisible(!1,!0,!0)}),i.display=!1}};return e}])}(),function(){"use strict";angular.module("gantt.groups").controller("GanttGroupController",["$scope","GanttTaskGroup","ganttUtils",function(t,e,n){var i=function(){var i=t.row.model.groups;"boolean"==typeof i&&(i={enabled:i});var r=n.firstProperty([i],"enabled",t.pluginScope.enabled);r?(t.display=n.firstProperty([i],"display",t.pluginScope.display),t.taskGroup=new e(t.row,t.pluginScope),t.row.setFromTo(),t.row.setFromToByValues(t.taskGroup.from,t.taskGroup.to)):(t.taskGroup=void 0,t.display=void 0)};t.gantt.api.tasks.on.viewChange(t,function(e){if(void 0!==t.taskGroup)if(t.taskGroup.tasks.indexOf(e)>-1)i(),t.$$phase||t.$root.$$phase||t.$digest();else{var n=t.pluginScope.hierarchy.descendants(t.row);n.indexOf(e.row)>-1&&(i(),t.$$phase||t.$root.$$phase||t.$digest())}});var r=t.pluginScope.$watch("display",i);t.$watchCollection("gantt.rowsManager.filteredRows",i),t.gantt.api.columns.on.refresh(t,i),t.$on("$destroy",r)}])}(),function(){"use strict";angular.module("gantt.groups").directive("ganttTaskGroup",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskGroup","plugins/groups/taskGroup.tmpl.html");return e.build()}])}(),function(){"use strict";angular.module("gantt").factory("GanttTaskGroup",["ganttUtils","GanttTask",function(t,e){var n=function(n,i){var r=this;r.row=n,r.pluginScope=i,r.descendants=r.pluginScope.hierarchy.descendants(r.row),r.tasks=[],r.overviewTasks=[],r.promotedTasks=[],r.showGrouping=!1;var o=r.row.model.groups;"boolean"==typeof o&&(o={enabled:o});for(var s=function(e){var n=e.model.groups;"boolean"==typeof n&&(n={enabled:n});var i=e.row.model.groups;"boolean"==typeof i&&(i={enabled:i});var s=t.firstProperty([n,i,o],"enabled",r.pluginScope.enabled);if(s){var a=t.firstProperty([n,i,o],"display",r.pluginScope.display);return a}},a=0;a<r.descendants.length;a++)for(var l=r.descendants[a].tasks,u=0;u<l.length;u++){var c=l[u],d=s(c);if(void 0!==d){r.tasks.push(c);var h=new e(r.row,c.model);"overview"===d?r.overviewTasks.push(h):"promote"===d?r.promotedTasks.push(h):r.showGrouping=!0}}if(r.from=void 0,o&&(r.from=o.from),void 0===r.from)for(a=0;a<r.tasks.length;a++)(void 0===r.from||r.tasks[a].model.from<r.from)&&(r.from=r.tasks[a].model.from);if(r.to=void 0,o&&(r.to=o.to),void 0===r.to)for(a=0;a<r.tasks.length;a++)(void 0===r.to||r.tasks[a].model.to>r.to)&&(r.to=r.tasks[a].model.to);r.showGrouping&&(r.left=n.rowsManager.gantt.getPositionByDate(r.from),r.width=n.rowsManager.gantt.getPositionByDate(r.to)-r.left)};return n}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskOverview",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskOverview","plugins/groups/taskOverview.tmpl.html");return e.controller=function(t,e){t.task.$element=e,t.task.$scope=t,t.task.updatePosAndSize()},e.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsBody",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttLabelsBody","plugins/labels/labelsBody.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getLabelsCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttLabelsHeader","plugins/labels/labelsHeader.tmpl.html");return e.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttSideContentLabels",["GanttDirectiveBuilder",function(t){var e=new t("ganttSideContentLabels","plugins/labels/sideContentLabels.tmpl.html");return e.build()}])}(),function(){"use strict";angular.module("gantt.movable").factory("ganttMovableOptions",[function(){return{initialize:function(t){return t.enabled=void 0!==t.enabled?t.enabled:!0,t.allowMoving=void 0!==t.allowMoving?!!t.allowMoving:!0,t.allowResizing=void 0!==t.allowResizing?!!t.allowResizing:!0,t.allowRowSwitching=void 0!==t.allowRowSwitching?!!t.allowRowSwitching:!0,t}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(t){return{restrict:"E",requires:"^ganttTask",templateUrl:function(e,n){var i;return i=void 0===n.templateUrl?"plugins/progress/taskProgress.tmpl.html":n.templateUrl,void 0!==n.template&&t.put(i,n.template),i},replace:!0,scope:!0,controller:["$scope","$element",function(t,e){t.getClasses=function(){var e=[];return"object"==typeof t.task.model.progress&&(e=t.task.model.progress.classes),e},t.getCss=function(){var e,n={};return void 0!==t.task.model.progress&&(e="object"==typeof t.task.model.progress?t.task.model.progress:{percent:t.task.model.progress}),e&&(n["background-color"]=e.color?e.color:"#6BC443",n.width=e.percent+"%"),n},t.task.rowsManager.gantt.api.directives.raise["new"]("ganttTaskProgress",t,e),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",t,e)})}]}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getMaxHeightCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnController",["$scope",function(t){t.getHeader=function(){var e=t.pluginScope.headers[t.column];return void 0!==e?e:(void 0!==t.pluginScope.headerFormatter&&(e=t.pluginScope.headerFormatter(t.column)),void 0!==e?e:e)},t.getHeaderContent=function(){var e=t.pluginScope.headerContents[t.column];return void 0===e?"{{getHeader()}}":e},t.getClass=function(){return t.pluginScope.classes[t.column]}}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnRowController",["$scope",function(t){t.getValue=function(){var e=t.$eval(t.column,t.row),n=t.pluginScope.formatters[t.column];return void 0!==n&&(e=n(e,t.column,t.row)),e},t.getRowContent=function(){var e;return t.row.model.columnContents&&(e=t.row.model.columnContents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.model.content),void 0===e&&(e=t.pluginScope.contents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.rowsManager.gantt.options.value("rowContent")),void 0===e&&void 0!==t.pluginScope.content&&(e=t.pluginScope.content),void 0===e?"{{getValue()}}":e}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(t,e,n,i,r,o,s){return{restrict:"E",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/tooltips/tooltip.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(t,n,r){var a,l,u,c=angular.element(i[0].body),d=t.task.$element,h=!1,p=function(){var t=i[0];return t.documentElement.clientWidth||t.documentElement.getElementById("body")[0].clientWidth},f=function(e){e+n[0].offsetWidth>p()?(n.css("left",e+20-n[0].offsetWidth+"px"),t.isRightAligned=!0):(n.css("left",e-20+"px"),t.isRightAligned=!1)},g=function(e){h=!0,u.bind(),t.displayed=!0,t.$evalAsync(function(){var i;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),i=!0),t.elementHeight=n[0].offsetHeight,i&&n.addClass("ng-hide"),t.taskRect=d[0].getBoundingClientRect(),f(e)})},m=function(){h=!1,u.unbind(),t.$evalAsync(function(){t.displayed=!1})},v=function(n,i){a&&e.cancel(a);var o=t.task.model.tooltips,s=t.task.row.model.tooltips;"boolean"==typeof o&&(o={enabled:o}),"boolean"==typeof s&&(s={enabled:s});var u=r.firstProperty([o,s],"enabled",t.pluginScope.enabled);u&&!h&&void 0!==l&&n?i?a=e(function(){g(l)},t.pluginScope.delay,!1):g(l):n||t.task.active||m()};u=s(t,c,"mousemove",o(function(e){h?((!t.taskRect||e.clientX<t.taskRect.left||e.clientX>t.taskRect.right||e.clientY>t.taskRect.bottom||e.clientY<t.taskRect.top)&&v(!1,!1),f(e.clientX)):(l=e.clientX,v(!0,!1))},5,!1)),t.getFromLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.from.format(i)},t.getToLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.to.format(i)},t.task.getContentElement().bind("mousemove",function(t){l=t.clientX}),t.task.getContentElement().bind("mouseenter",function(t){l=t.clientX,v(!0,!0)}),t.task.getContentElement().bind("mouseleave",function(){v(!1)}),t.pluginScope.api.tasks.on.moveBegin&&(t.pluginScope.api.tasks.on.moveBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.moveEnd(t,function(e){e===t.task&&v(!1)}),t.pluginScope.api.tasks.on.resizeBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.resizeEnd(t,function(e){e===t.task&&v(!1)})),t.task.isMoving&&v(!0,!1),t.gantt.api.directives.raise["new"]("ganttTooltip",t,n),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("ganttTooltip",t,n)})}]}}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttRowTreeLabel",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowTreeLabel");return e.restrict="A",e.templateUrl=void 0,e.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttSideContentTree",["GanttDirectiveBuilder",function(t){var e=new t("ganttSideContentTree","plugins/tree/sideContentTree.tmpl.html");return e.build()}])}(),function(){"use strict";angular.module("gantt.tree").controller("GanttTreeController",["$scope","$filter","GanttHierarchy",function(t,e,n){t.rootRows=[],t.getHeader=function(){return t.pluginScope.header};var i=new n;t.pluginScope.$watchGroup(["keepAncestorOnFilterRow","enabled"],function(n){var r=n[0]&&n[1];if(r){var o=function(t,n,r){i.refresh(t);for(var o=[],s=0;s<t.length;s++){var a=i.children(t[s]);a&&0!==a.length||o.push(t[s])}var l=e("filter")(o,n,r),u=function(t){if(l.indexOf(t)>-1)return!0;for(var e=i.descendants(t),n=0;n<e.length;n++)if(l.indexOf(e[n])>-1)return!0;return!1};return e("filter")(t,u,r)};t.gantt.rowsManager.setFilterImpl(o)}else t.gantt.rowsManager.setFilterImpl(!1)});var r=function(e){for(var n=t.parent(e);void 0!==n;){if(void 0!==n&&n._collapsed)return!1;n=t.parent(n)}return!0},o=function(t){return t.filter(function(t){return r(t)})},s=function(e){for(var n=[],i=[],r=!1,o=0;o<e.length;o++){var s=t.parent(e[o]);void 0===s?i.push(e[o]):r=!0}var a=function(i){n.push(i);var r=t.children(i);if(void 0!==r&&r.length>0)for(var o=r.sort(function(t,n){return e.indexOf(t)-e.indexOf(n)}),s=0;s<o.length;s++)a(o[s])};for(o=0;o<i.length;o++)a(i[o]);return n};t.gantt.api.rows.addRowSorter(s),t.gantt.api.rows.addRowFilter(o),t.$on("$destroy",function(){t.gantt.api.rows.removeRowSorter(s),t.gantt.api.rows.removeRowFilter(o)});var a=function(){t.rootRows=i.refresh(t.gantt.rowsManager.filteredRows),t.gantt.rowsManager.filteredRows.length>0&&(t.gantt.api.rows.sort(),t.gantt.api.rows.refresh())};t.gantt.api.rows.on.remove(t,a),t.gantt.api.rows.on.add(t,a);var l=function(e){var n;return n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e,void 0===n?void 0:void 0===n._collapsed?!1:n._collapsed},u=function(e){var n;if(n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e,void 0!==n){var i=t.nodeScopes[n.model.id];i.collapsed&&i.toggle()}},c=function(e){var n;if(n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e,void 0!==n){var i=t.nodeScopes[n.model.id];i.collapsed||i.toggle()}},d=function(){return i};t.getHeaderContent=function(){return t.pluginScope.headerContent},t.gantt.api.registerMethod("tree","refresh",a,this),t.gantt.api.registerMethod("tree","isCollapsed",l,this),t.gantt.api.registerMethod("tree","expand",u,this),t.gantt.api.registerMethod("tree","collapse",c,this),t.gantt.api.registerEvent("tree","collapsed"),t.gantt.api.registerMethod("tree","getHierarchy",d,this),t.$watchCollection("gantt.rowsManager.filteredRows",function(){a()}),t.children=function(e){return void 0===e?t.rootRows:i.children(e)},t.parent=function(t){return i.parent(t)},t.nodeScopes={}}]).controller("GanttUiTreeController",["$scope",function(t){var e=function(){t.$broadcast("angular-ui-tree:collapse-all")},n=function(){t.$broadcast("angular-ui-tree:expand-all")};t.gantt.api.registerMethod("tree","collapseAll",e,t),t.gantt.api.registerMethod("tree","expandAll",n,t)}]).controller("GanttTreeNodeController",["$scope",function(t){t.$parent.nodeScopes[t.row.model.id]=t,t.$on("$destroy",function(){delete t.$parent.nodeScopes[t.row.model.id]}),t.$watch("children(row)",function(e){if(e){for(var n=t.row.rowsManager.filteredRows,i=[],r=0;r<e.length;r++){var o=e[r];n.indexOf(o)>-1&&i.push(o)}t.$parent.childrenRows=i}else t.$parent.childrenRows=e}),t.isCollapseDisabled=function(){return!t.$parent.childrenRows||0===t.$parent.childrenRows.length},t.getValue=function(){return t.row.model.name},t.getRowContent=function(){if(void 0!==t.row.model.content)return t.row.model.content;if(void 0!==t.pluginScope.content)return t.pluginScope.content;var e=t.row.rowsManager.gantt.options.value("rowContent");return void 0===e&&(e="{{row.model.name}}"),e},t.$watch("collapsed",function(e){if(t.$modelValue._collapsed!==e){var n=t.$modelValue._collapsed;t.$modelValue._collapsed=e,void 0!==n&&e!==n&&(t.gantt.api.tree.raise.collapsed(t,t.$modelValue,e),t.gantt.api.rows.refresh())}})}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeBody",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttTreeBody","plugins/tree/treeBody.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getLabelsCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttTreeHeader","plugins/tree/treeHeader.tmpl.html");return e.build()}])}(),angular.module("gantt.bounds.templates",[]).run(["$templateCache",function(t){t.put("plugins/bounds/taskBounds.tmpl.html",'<div ng-cloak class="gantt-task-bounds" ng-style="getCss()" ng-class="getClass()"></div>\n')}]),angular.module("gantt.dependencies.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.groups.templates",[]).run(["$templateCache",function(t){t.put("plugins/groups/taskGroup.tmpl.html",'<div ng-controller="GanttGroupController">\n    <div class="gantt-task-group-overview" ng-if="taskGroup.overviewTasks.length > 0">\n        <gantt-task-overview ng-repeat="task in taskGroup.overviewTasks"></gantt-task-overview>\n    </div>\n    <div class="gantt-task-group-promote" ng-if="taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0">\n        <gantt-task ng-repeat="task in taskGroup.promotedTasks"></gantt-task>\n    </div>\n    <div class="gantt-task-group"\n         ng-if="taskGroup.showGrouping"\n         ng-style="{\'left\': taskGroup.left + \'px\', \'width\': taskGroup.width + \'px\'}">\n        <div class="gantt-task-group-left-main"></div>\n        <div class="gantt-task-group-right-main"></div>\n        <div class="gantt-task-group-left-symbol"></div>\n        <div class="gantt-task-group-right-symbol"></div>\n    </div>\n</div>\n\n'),t.put("plugins/groups/taskOverview.tmpl.html",'<div class="gantt-task gantt-task-overview" ng-class="task.model.classes">\n    <gantt-task-background></gantt-task-background>\n    <gantt-task-content></gantt-task-content>\n    <gantt-task-foreground></gantt-task-foreground>\n</div>\n\n')}]),angular.module("gantt.labels.templates",[]).run(["$templateCache",function(t){t.put("plugins/labels/labelsBody.tmpl.html",'<div class="gantt-labels-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n            <div gantt-row-label\n                 class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}">\n                <span class="gantt-label-text">{{row.model.name}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/labels/labelsHeader.tmpl.html",'<div class="gantt-labels-header">\n    <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0">\n        <div ng-repeat="header in gantt.columnsManager.headers">\n            <div class="gantt-row-height" ng-class="{\'gantt-labels-header-row\': $last, \'gantt-labels-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/labels/sideContentLabels.tmpl.html",'<div class="gantt-side-content-labels">\n    <gantt-labels-header>\n    </gantt-labels-header>\n    <gantt-labels-body>\n    </gantt-labels-body>\n</div>\n')}]),angular.module("gantt.movable.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.overlap.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.progress.templates",[]).run(["$templateCache",function(t){t.put("plugins/progress/taskProgress.tmpl.html",'<div ng-cloak class="gantt-task-progress" ng-style="getCss()" ng-class="getClasses()"></div>\n')}]),angular.module("gantt.resizeSensor.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.sortable.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.table.templates",[]).run(["$templateCache",function(t){t.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table">\n\n    <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller="TableColumnController">\n\n        <div class="gantt-table-header" ng-style="{height: ganttHeaderHeight + \'px\'}">\n            <div ng-show="ganttHeaderHeight" class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row">\n                <span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller="TableColumnRowController">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n                                <span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(t){t.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak\n     class="gantt-task-info"\n     ng-show="displayed"\n     ng-class="isRightAligned ? \'gantt-task-infoArrowR\' : \'gantt-task-infoArrow\'"\n     ng-style="{top: taskRect.top + \'px\', marginTop: -elementHeight - 8 + \'px\'}">\n    <div class="gantt-task-info-content">\n        <div gantt-bind-compile-html="pluginScope.content"></div>\n    </div>\n</div>\n')}]),angular.module("gantt.tree.templates",[]).run(["$templateCache",function(t){t.put("plugins/tree/sideContentTree.tmpl.html",'<div class="gantt-side-content-tree" ng-controller="GanttTreeController">\n    <gantt-tree-header>\n    </gantt-tree-header>\n    <gantt-tree-body>\n    </gantt-tree-body>\n</div>\n'),t.put("plugins/tree/treeBody.tmpl.html",'<div class="gantt-tree-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div class="gantt-row-label-background">\n            <div class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}"\n                 ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                &nbsp;\n            </div>\n        </div>\n        <div ui-tree ng-controller="GanttUiTreeController" data-drag-enabled="false" data-empty-place-holder-enabled="false">\n            <ol class="gantt-tree-root" ui-tree-nodes ng-model="rootRows">\n                <li ng-repeat="row in rootRows" ui-tree-node\n                    ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'">\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/tree/treeBodyChildren.tmpl.html",'<div ng-controller="GanttTreeNodeController"\n     class="gantt-row-label gantt-row-height"\n     ng-class="row.model.classes"\n     ng-style="{\'height\': row.model.height}">\n    <div class="gantt-valign-container">\n        <div class="gantt-valign-content">\n            <a ng-disabled="isCollapseDisabled()" data-nodrag\n               class="gantt-tree-handle-button btn btn-xs"\n               ng-class="{\'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"\n               ng-click="!isCollapseDisabled() && toggle()"><span\n                class="gantt-tree-handle glyphicon glyphicon-chevron-down"\n                ng-class="{\n                \'glyphicon-chevron-right\': collapsed, \'glyphicon-chevron-down\': !collapsed,\n                \'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"></span>\n            </a>\n            <span gantt-row-label class="gantt-label-text" gantt-bind-compile-html="getRowContent()"/>\n        </div>\n    </div>\n</div>\n<ol ui-tree-nodes ng-class="{hidden: collapsed}" ng-model="childrenRows">\n    <li ng-repeat="row in childrenRows" ui-tree-node>\n        <div ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'"></div>\n    </li>\n</ol>\n'),t.put("plugins/tree/treeHeader.tmpl.html",'<div class="gantt-tree-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n    <div ng-if="$parent.ganttHeaderHeight" class="gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row"><span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/></div>\n</div>\n')}]),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(t,i,r,o){var s=o.gantt.api;if(t.options&&"object"==typeof t.options.sortable)for(var a in t.options.sortable)t[a]=t.options[a];void 0===t.enabled&&(t.enabled=!0),void 0===t.columns&&(t.columns=["model.name"]),void 0===t.headers&&(t.headers={"model.name":"Name"}),void 0===t.contents&&(t.contents={}),void 0===t.headerContents&&(t.headerContents={}),void 0===t.classes&&(t.classes={}),void 0===t.formatters&&(t.formatters={}),s.directives.on["new"](t,function(i,r,o){if("ganttSideContent"===i){var s=r.$new();s.pluginScope=t;var a=n[0].createElement("div");angular.element(a).attr("data-ng-if","pluginScope.enabled"),angular.element(a).addClass("side-element");var l=n[0].createElement("gantt-side-content-table");angular.element(a).append(l),o.append(e(a)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getMaxHeightCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnController",["$scope",function(t){t.getHeader=function(){var e=t.pluginScope.headers[t.column];return void 0!==e?e:(void 0!==t.pluginScope.headerFormatter&&(e=t.pluginScope.headerFormatter(t.column)),void 0!==e?e:e)},t.getHeaderContent=function(){var e=t.pluginScope.headerContents[t.column];return void 0===e?"{{getHeader()}}":e},t.getClass=function(){return t.pluginScope.classes[t.column]}}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnRowController",["$scope",function(t){t.getValue=function(){var e=t.$eval(t.column,t.row),n=t.pluginScope.formatters[t.column];return void 0!==n&&(e=n(e,t.column,t.row)),e},t.getRowContent=function(){var e;return t.row.model.columnContents&&(e=t.row.model.columnContents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.model.content),void 0===e&&(e=t.pluginScope.contents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.rowsManager.gantt.options.value("rowContent")),void 0===e&&void 0!==t.pluginScope.content&&(e=t.pluginScope.content),void 0===e?"{{getValue()}}":e}}])}(),angular.module("gantt.table.templates",[]).run(["$templateCache",function(t){t.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table">\n\n    <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller="TableColumnController">\n\n        <div class="gantt-table-header" ng-style="{height: ganttHeaderHeight + \'px\'}">\n            <div ng-show="ganttHeaderHeight" class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row">\n                <span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller="TableColumnRowController">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n                                <span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(n,i,r,o){var s=o.gantt.api;if(n.options&&"object"==typeof n.options.tooltips)for(var a in n.options.tooltips)n[a]=n.options[a];void 0===n.enabled&&(n.enabled=!0),void 0===n.dateFormat&&(n.dateFormat="MMM DD, HH:mm"),void 0===n.delay&&(n.delay=500),void 0===n.content&&(n.content="{{task.model.name}}</br><small>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),n.api=s,s.directives.on["new"](n,function(i,o,s){if("ganttTask"===i){var a=o.$new();a.pluginScope=n;var l=e[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var u=e[0].createElement("gantt-tooltip");void 0!==r.templateUrl&&angular.element(u).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(u).attr("data-template",r.template),angular.element(l).append(u),s.append(t(l)(a))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(t,e,n,i,r,o,s){return{restrict:"E",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/tooltips/tooltip.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(t,n,r){var a,l,u,c=angular.element(i[0].body),d=t.task.$element,h=!1,p=function(){var t=i[0];return t.documentElement.clientWidth||t.documentElement.getElementById("body")[0].clientWidth},f=function(e){e+n[0].offsetWidth>p()?(n.css("left",e+20-n[0].offsetWidth+"px"),t.isRightAligned=!0):(n.css("left",e-20+"px"),t.isRightAligned=!1)},g=function(e){h=!0,u.bind(),t.displayed=!0,t.$evalAsync(function(){var i;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),i=!0),t.elementHeight=n[0].offsetHeight,i&&n.addClass("ng-hide"),t.taskRect=d[0].getBoundingClientRect(),f(e)})},m=function(){h=!1,u.unbind(),t.$evalAsync(function(){t.displayed=!1})},v=function(n,i){a&&e.cancel(a);var o=t.task.model.tooltips,s=t.task.row.model.tooltips;"boolean"==typeof o&&(o={enabled:o}),"boolean"==typeof s&&(s={enabled:s});var u=r.firstProperty([o,s],"enabled",t.pluginScope.enabled);u&&!h&&void 0!==l&&n?i?a=e(function(){g(l)},t.pluginScope.delay,!1):g(l):n||t.task.active||m()};u=s(t,c,"mousemove",o(function(e){h?((!t.taskRect||e.clientX<t.taskRect.left||e.clientX>t.taskRect.right||e.clientY>t.taskRect.bottom||e.clientY<t.taskRect.top)&&v(!1,!1),f(e.clientX)):(l=e.clientX,v(!0,!1))
},5,!1)),t.getFromLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.from.format(i)},t.getToLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.to.format(i)},t.task.getContentElement().bind("mousemove",function(t){l=t.clientX}),t.task.getContentElement().bind("mouseenter",function(t){l=t.clientX,v(!0,!0)}),t.task.getContentElement().bind("mouseleave",function(){v(!1)}),t.pluginScope.api.tasks.on.moveBegin&&(t.pluginScope.api.tasks.on.moveBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.moveEnd(t,function(e){e===t.task&&v(!1)}),t.pluginScope.api.tasks.on.resizeBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.resizeEnd(t,function(e){e===t.task&&v(!1)})),t.task.isMoving&&v(!0,!1),t.gantt.api.directives.raise["new"]("ganttTooltip",t,n),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("ganttTooltip",t,n)})}]}}])}(),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(t){t.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak\n     class="gantt-task-info"\n     ng-show="displayed"\n     ng-class="isRightAligned ? \'gantt-task-infoArrowR\' : \'gantt-task-infoArrow\'"\n     ng-style="{top: taskRect.top + \'px\', marginTop: -elementHeight - 8 + \'px\'}">\n    <div class="gantt-task-info-content">\n        <div gantt-bind-compile-html="pluginScope.content"></div>\n    </div>\n</div>\n')}]),angular.module("btford.socket-io",[]).provider("socketFactory",function(){"use strict";var t="socket:";this.$get=["$rootScope","$timeout",function(e,n){var i=function(t,e){return e?function(){var i=arguments;n(function(){e.apply(t,i)},0)}:angular.noop};return function(n){n=n||{};var r=n.ioSocket||io.connect(),o=void 0===n.prefix?t:n.prefix,s=n.scope||e,a=function(t,e){r.on(t,e.__ng=i(r,e))},l=function(t,e){r.once(t,e.__ng=i(r,e))},u={on:a,addListener:a,once:l,emit:function(t,e,n){var o=arguments.length-1,n=arguments[o];return"function"==typeof n&&(n=i(r,n),arguments[o]=n),r.emit.apply(r,arguments)},removeListener:function(t,e){return e&&e.__ng&&(arguments[1]=e.__ng),r.removeListener.apply(r,arguments)},removeAllListeners:function(){return r.removeAllListeners.apply(r,arguments)},disconnect:function(t){return r.disconnect(t)},connect:function(){return r.connect()},forward:function(t,e){t instanceof Array==!1&&(t=[t]),e||(e=s),t.forEach(function(t){var n=o+t,s=i(r,function(){Array.prototype.unshift.call(arguments,n),e.$broadcast.apply(e,arguments)});e.$on("$destroy",function(){r.removeListener(t,s)}),r.on(t,s)})}};return u}}]}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){t=function(){var t=window,e=t.document,n=t.navigator&&t.navigator.userAgent||"",i=e&&e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=/(edge|msie|trident)/i.test(n)&&!window.opera,o=!i,s=/Firefox/.test(n),a=s&&4>parseInt(n.split("Firefox/")[1],10);return t.Highcharts?t.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.12",deg2rad:2*Math.PI/360,doc:e,hasBidiBug:a,hasTouch:e&&void 0!==e.documentElement.ontouchstart,isMS:r,isWebKit:/AppleWebKit/.test(n),isFirefox:s,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(n),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:i,vml:o,win:t,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}(),function(t){var e=[],n=t.charts,i=t.doc,r=t.win;t.error=function(e,n){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,n)throw Error(e);r.console&&console.log(e)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?e[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(t,n,i){var r,o=this,s=function(t){return s.stopped?!1:o.step(t)};this.startTime=+new Date,this.start=t,this.end=n,this.unit=i,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===e.push(s)&&(s.timerId=setInterval(function(){for(r=0;r<e.length;r++)e[r]()||e.splice(r--,1);e.length||clearInterval(s.timerId)},13))},step:function(e){var n,i=+new Date,r=this.options,o=this.elem,s=r.complete,a=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||i>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(n=!1)}),n&&s&&s.call(o),e=!1):(this.pos=r.easing((i-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,i){function r(t){var e,n;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],n=/[a-zA-Z]/.test(t[c+3]),e&&n&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,f);[].splice.apply(t,[0,0].concat(n)),m&&(n=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(n)),c--)}t[0]="M"}function s(t,e){for(var n=(l-t.length)/f;n>0&&n--;)u=t.slice().splice(t.length/v-f,f*v),u[0]=e[l-f-n*f],p&&(u[f-6]=u[f-2],u[f-5]=u[f-1]),[].splice.apply(t,[t.length/v,0].concat(u)),m&&n--}n=n||"";var a,l,u,c,d=e.startX,h=e.endX,p=-1<n.indexOf("C"),f=p?7:3;n=n.split(" "),i=i.slice();var g,m=e.isArea,v=m?2:1;if(p&&(r(n),r(i)),d&&h){for(c=0;c<d.length;c++){if(d[c]===h[0]){a=c;break}if(d[0]===h[h.length-d.length+c]){a=c,g=!0;break}}void 0===a&&(n=[])}return n.length&&t.isNumber(a)&&(l=i.length+a*v*f,g?(o(n,i),s(i,n)):(o(i,n),s(n,i))),[n,i]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){return"object"!=typeof e&&(e={}),t.objectEach(n,function(i,r){e[r]=!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?n[r]:o(e[r]||{},i)}),e};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;n>e;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return t=Object.prototype.toString.call(t),"[object Array]"===t||"[object Array Iterator]"===t},t.isObject=function(e,n){return!(!e||"object"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,n,i){var r;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&(r=e.getAttribute(n)):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){return e?setTimeout(t,e,n):void t.call(0,n)},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;i>t;t++)if(e=n[t],void 0!==e&&null!==e)return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,n,r,o,s){e=i.createElement(e);var a=t.css;return n&&t.extend(e,n),s&&a(e,{padding:0,border:"none",margin:0}),r&&a(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).length).join(n||0)+t},t.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),r.proceed=null,t}},t.getTZOffset=function(e){var n=t.Date;return 6e4*(n.hcGetTimezoneOffset&&n.hcGetTimezoneOffset(e)||n.hcTimezoneOffset||0)},t.dateFormat=function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=t.Date,o=new r(n-t.getTZOffset(n)),s=o[r.hcGetHours](),a=o[r.hcGetDay](),l=o[r.hcGetDate](),u=o[r.hcGetMonth](),c=o[r.hcGetFullYear](),d=t.defaultOptions.lang,h=d.weekdays,p=d.shortWeekdays,f=t.pad,r=t.extend({a:p?p[a]:h[a].substr(0,3),A:h[a],d:f(l),e:f(l,2," "),w:a,b:d.shortMonths[u],B:d.months[u],m:f(u+1),y:c.toString().substr(2,2),Y:c,H:f(s),k:s,I:f(s%12||12),l:s%12||12,M:f(o[r.hcGetMinutes]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:f(o.getSeconds()),L:f(Math.round(n%1e3),3)},t.dateFormats);return t.objectEach(r,function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t(n):t)}),i?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,n){var i=/\.([0-9])/,r=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(i))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,r.decimalPoint,-1<e.indexOf(",")?r.thousandsSep:""))):n=t.dateFormat(e,n),n},t.format=function(e,n){for(var i,r,o,s,a,l="{",u=!1,c=[];e&&(l=e.indexOf(l),-1!==l);){if(i=e.slice(0,l),u){for(i=i.split(":"),r=i.shift().split("."),s=r.length,a=n,o=0;s>o;o++)a=a[r[o]];i.length&&(a=t.formatSingle(i.join(":"),a)),c.push(a)}else c.push(i);e=e.slice(l+1),l=(u=!u)?"}":"{"}return c.push(e),c.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var s,a=e;for(i=t.pick(i,1),s=e/i,n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?n=t.grep(n,function(t){return 0===t%1}):.1>=i&&(n=[1/i]))),r=0;r<n.length&&(a=n[r],!(o&&a*i>=e||!o&&s<=(n[r]+(n[r+1]||n[r]))/2));r++);return a=t.correctFloat(a*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;r>i;i++)t[i].safeI=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.safeI-i.safeI:n}),i=0;r>i;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,s,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").length;return-1===n?n=Math.min(l,20):t.isNumber(n)||(n=2),s=(Math.abs(e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),l=String(t.pInt(s)),o=3<l.length?l.length%3:0,i=t.pick(i,a.decimalPoint),r=t.pick(r,a.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(e+=i+s.slice(-n)),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,i){return"width"===n?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===n?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):((e=r.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(i,!0)&&(e=t.pInt(e))),e)},t.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},t.grep=function(t,e){return[].filter.call(t,e)},t.find=function(t,e){return[].find.call(t,e)},t.map=function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.offset=function(t){var e=i.documentElement;return t=t.getBoundingClientRect(),{top:t.top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(t,n){for(var i=e.length;i--;)e[i].elem!==t||n&&n!==e[i].prop||(e[i].stopped=!0)},t.each=function(t,e,n){return Array.prototype.forEach.call(t,e,n)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)},t.addEvent=function(e,n,i){function o(t){t.target=t.srcElement||r,i.call(e,t)}var s=e.hcEvents=e.hcEvents||{};return e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[i.toString()]=o,e.attachEvent("on"+n,o)),s[n]||(s[n]=[]),s[n].push(i),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&(n=e.hcEventsIE[n.toString()],e.detachEvent("on"+t,n))}function o(){var i,o;e.nodeName&&(n?(i={},i[n]=!0):i=l,t.objectEach(i,function(t,e){if(l[e])for(o=l[e].length;o--;)r(e,l[e][o])}))}var s,a,l=e.hcEvents;l&&(n?(s=l[n]||[],i?(a=t.inArray(i,s),a>-1&&(s.splice(a,1),l[n]=s),r(n,i)):(o(),l[n]=[])):(o(),e.hcEvents={}))},t.fireEvent=function(e,n,r,o){var s;s=e.hcEvents;var a,l;if(r=r||{},i.createEvent&&(e.dispatchEvent||e.fireEvent))s=i.createEvent("Events"),s.initEvent(n,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(n,s);else if(s)for(s=s[n]||[],a=s.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:n}),n=0;a>n;n++)(l=s[n])&&!1===l.call(e,r)&&r.preventDefault();o&&!r.defaultPrevented&&o(r)},t.animate=function(e,n,i){var r,o,s,a,l="";t.isObject(i)||(a=arguments,i={duration:a[2],easing:a[3],complete:a[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,function(a,u){t.stop(e,u),s=new t.Fx(e,i,u),o=null,"d"===u?(s.paths=s.initPath(e,e.d,n.d),s.toD=n.d,r=0,o=1):e.attr?r=e.attr(u):(r=parseFloat(t.getStyle(e,u))||0,"opacity"!==u&&(l="px")),o||(o=a),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)})},t.seriesType=function(e,n,i,r,o){var s=t.getOptions(),a=t.seriesTypes;return a[e]?t.error(27):(s.plotOptions[e]=t.merge(s.plotOptions[n],i),a[e]=t.extendClass(a[n]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e])},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),r.jQuery&&(r.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);return this[0]?e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):n[t.attr(this[0],"data-highcharts-chart")]:void 0}),i&&!i.defaultView&&(t.getStyle=function(e,n){var i={width:"clientWidth",height:"clientHeight"}[n];return e.style[n]?t.pInt(e.style[n]):("opacity"===n&&(n="filter"),i?(e.style.zoom=1,Math.max(e[i]-2*t.getStyle(e,"padding"),0)):(e=e.currentStyle[n.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===n&&(e=e.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===e?1:t.pInt(e)))}),Array.prototype.forEach||(t.each=function(t,e,n){for(var i=0,r=t.length;r>i;i++)if(!1===e.call(n,t[i],i,t))return i}),Array.prototype.indexOf||(t.inArray=function(t,e){var n,i=0;if(e)for(n=e.length;n>i;i++)if(e[i]===t)return i;return-1}),Array.prototype.filter||(t.grep=function(t,e){for(var n=[],i=0,r=t.length;r>i;i++)e(t[i],i)&&n.push(t[i]);return n}),Array.prototype.find||(t.find=function(t,e){var n,i=t.length;for(n=0;i>n;n++)if(e(t[n],n))return t[n]})}(t),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,o=t.pInt;t.Color=function(e){return this instanceof t.Color?void this.init(e):new t.Color(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,s;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else if(e&&"#"===e[0]&&(n=e.length,e=parseInt(e.substr(1),16),7===n?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)s=this.parsers[o],(n=s.regex.exec(e))&&(r=s.parse(n));this.rgba=r||[]},get:function(t){var i,o=this.input,s=this.rgba;return this.stops?(i=r(o),i.stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=s&&n(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":o,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;3>i;i++)r[i]+=o(255*t),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n,i;return t.rgba.length?(n=this.rgba,t=t.rgba,i=1!==t[3]||1!==n[3],t=(i?"rgba(":"rgb(")+Math.round(t[0]+(n[0]-t[0])*(1-e))+","+Math.round(t[1]+(n[1]-t[1])*(1-e))+","+Math.round(t[2]+(n[2]-t[2])*(1-e))+(i?","+(t[3]+(n[3]-t[3])*(1-e)):"")+")"):t=t.input||"none",t}},t.color=function(e){return new t.Color(e)}}(t),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,u=t.createElement,c=t.defined,d=t.deg2rad,h=t.destroyObjectProperties,p=t.doc,f=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,w=t.isArray,_=t.isFirefox,x=t.isMS,k=t.isObject,C=t.isString,$=t.isWebKit,M=t.merge,S=t.noop,T=t.objectEach,D=t.pick,E=t.pInt,O=t.removeEvent,A=t.stop,P=t.svg,L=t.SVG_NS,I=t.symbolSizes,N=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:L,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?u(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,n,i){return n=t.animObject(D(n,this.renderer.globalAnimation,!0)),0!==n.duration?(i&&(n.complete=i),r(this,e,n)):(this.attr(e,null,i),n.step&&n.step.call(this)),this},colorGradient:function(e,n,i){var r,o,s,a,l,u,d,h,p,g,m,v=this.renderer,y=[];e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(s=e[o],l=v.gradients,d=e.stops,g=i.radialReference,w(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!c(s.gradientUnits)&&(a=s,s=M(s,v.getRadialAttr(g,a),{gradientUnits:"userSpaceOnUse"})),T(s,function(t,e){"id"!==e&&y.push(e,t)}),T(d,function(t){y.push(t)}),y=y.join(","),l[y]?g=l[y].attr("id"):(s.id=g=t.uniqueKey(),l[y]=u=v.createElement(o).attr(s).add(v.defs),u.radAttr=a,u.stops=[],f(d,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),h=r.get("rgb"),p=r.get("a")):(h=e[1],p=1),e=v.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(u),u.stops.push(e)})),m="url("+v.url+"#"+g+")",i.setAttribute(n,m),i.gradient=y,e.toString=function(){return m})},applyTextOutline:function(e){var n,i,r,s,a,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),i=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),a=e.length;a--;)n=e[a],"highcharts-text-outline"===n.getAttribute("class")&&m(e,l.removeChild(n));s=l.firstChild,f(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{"class":"highcharts-text-outline",fill:i,stroke:i,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,s)})}},attr:function(t,e,n,i){var r,o,s,a,l=this.element,u=this;return"string"==typeof t&&void 0!==e&&(r=t,t={},t[r]=e),"string"==typeof t?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(T(t,function(e,n){s=!1,i||A(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),s||(a=this[n+"Setter"]||this._defaultSetter,a.call(this,e,n,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,a))},this),this.afterSetters()),n&&n(),u},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==o(this.element,"class").indexOf(t)},removeClass:function(t){return o(this.element,"class",(o(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;f("x y r start end width height innerR anchorX anchorY".split(" "),function(n){e[n]=D(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n,i=this,r={};return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||i.x||0)+n,t.y=Math.floor(t.y||i.y||0)+n,t.width=Math.floor((t.width||i.width||0)-2*n),t.height=Math.floor((t.height||i.height||0)-2*n),c(t.strokeWidth)&&(t.strokeWidth=e),T(t,function(t,e){i[e]!==t&&(i[e]=r[e]=t)}),r},css:function(t){var e,n,i=this.styles,r={},s=this.element,a="",u=!i,c=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),i&&T(t,function(t,e){t!==i[e]&&(r[e]=t,u=!0)}),u&&(i&&(t=g(i,r)),e=this.textWidth=t&&t.width&&"auto"!==t.width&&"text"===s.nodeName.toLowerCase()&&E(t.width),this.styles=t,e&&!P&&this.renderer.forExport&&delete t.width,x&&!P?l(this.element,t):(n=function(t,e){return"-"+e.toLowerCase()},T(t,function(t,e){-1===b(e,c)&&(a+=e.replace(/([A-Z])/g,n)+":"+t+";")}),a&&o(s,"style",a)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return y&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===N.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+(s.getAttribute("x")||0)+" "+(s.getAttribute("y")||0)+")"),(c(n)||c(i))&&t.push("scale("+D(n,1)+" "+D(i,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a={};r=this.renderer,o=r.alignedObjects;var l,u;return t?(this.alignOptions=t,this.alignByTranslate=e,(!n||C(n))&&(this.alignTo=i=n||"renderer",m(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=D(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?l=1:"center"===i&&(l=2),l&&(o+=(n.width-(t.width||0))/l),a[e?"translateX":"x"]=Math.round(o),"bottom"===r?u=1:"middle"===r&&(u=2),u&&(s+=(n.height-(t.height||0))/u),a[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(t,e){var n,i,r,o,s,a=this.renderer,l=this.element,u=this.styles,c=this.textStr,h=a.cache,p=a.cacheKeys;if(e=D(e,this.rotation),i=e*d,r=u&&u.fontSize,void 0!==c&&(s=c.toString(),-1===s.indexOf("<")&&(s=s.replace(/[0-9]/g,"0")),s+=["",e||0,r,u&&u.width,u&&u.textOverflow].join()),s&&!t&&(n=h[s]),!n){if(l.namespaceURI===this.SVG_NS||a.forExport){try{(o=this.fakeTS&&function(t){f(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),n=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(m){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(a.isSVG&&(t=n.width,a=n.height,u&&"11px"===u.fontSize&&17===Math.round(a)&&(n.height=a=14),e&&(n.width=Math.abs(a*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(a*Math.cos(i))+Math.abs(t*Math.sin(i)))),s&&0<n.height){for(;250<p.length;)delete h[p.shift()];h[s]||p.push(s),h[s]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,i=e.ownerSVGElement;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,A(t),t.clipPath&&i&&(f(i.querySelectorAll("[clip-path]"),function(e){-1<e.getAttribute("clip-path").indexOf(t.clipPath.element.id+")")&&e.removeAttribute("clip-path")}),t.clipPath=t.clipPath.destroy()),t.stops){for(i=0;i<t.stops.length;i++)t.stops[i]=t.stops[i].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;return t.alignTo&&m(t.renderer.alignedObjects,t),T(t,function(e,n){delete t[n]}),null},shadow:function(t,e,n){var i,r,s,a,l,u,c=[],d=this.element;if(t){if(!this.shadows){for(a=D(t.width,3),l=(t.opacity||.15)/a,u=this.parentInverted?"(-1,-1)":"("+D(t.offsetX,1)+", "+D(t.offsetY,1)+")",i=1;a>=i;i++)r=d.cloneNode(0),s=2*a+1-2*i,o(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*i,"stroke-width":s,transform:"translate"+u,fill:"none"}),n&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):d.parentNode.insertBefore(r,d),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=D(this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=E(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(D(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):n.setAttribute(e,t)},zIndexSetter:function(t,e){var n,i,r=this.renderer,o=this.parentGroup,s=(o||r).element||r.box,a=this.element;n=this.added;var l;if(c(t)&&(a.zIndex=t,t=+t,this[e]===t&&(n=!1),this[e]=t),n){for((t=this.zIndex)&&o&&(o.handleZ=!0),e=s.childNodes,l=0;l<e.length&&!i;l++)o=e[l],n=o.zIndex,o!==a&&(E(n)>t||!c(t)&&c(n)||0>t&&!c(n)&&s!==r.box)&&(s.insertBefore(a,o),i=!0);i||s.appendChild(a)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(n.prototype,{Element:e,SVG_NS:L,init:function(t,e,n,r,s,a){var u;r=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(r)),u=r.element,t.appendChild(u),-1===t.innerHTML.indexOf("xmlns")&&o(u,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=u,this.boxWrapper=r,this.alignedObjects=[],this.url=(_||$)&&p.getElementsByTagName("base").length?N.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 5.0.12")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1);var c;_&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),c=t.getBoundingClientRect(),l(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})},e(),this.unSubPixelFix=i(N,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null
},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:S,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t,e){var n=t.getBBox(!0).width;return!P&&this.forExport&&(n=this.measureSpanWidth(e.firstChild.data,t.styles)),n},applyEllipsis:function(t,e,n,i){var r,o=this.getSpanWidth(t,e),s=o>i,o=n,a=0,l=n.length,u=function(t){e.removeChild(e.firstChild),t&&e.appendChild(p.createTextNode(t))};if(s){for(;l>=a;)r=Math.ceil((a+l)/2),o=n.substring(0,r)+"…",u(o),o=this.getSpanWidth(t,e),a===l?a=l+1:o>i?l=r-1:a=r;0===l&&u("")}return s},buildText:function(t){var e,n,i,r,s,a,u=t.element,c=this,d=c.forExport,h=D(t.textStr,"").toString(),g=-1!==h.indexOf("<"),m=u.childNodes,y=o(u,"x"),b=t.styles,w=t.textWidth,_=b&&b.lineHeight,x=b&&b.textOutline,k=b&&"ellipsis"===b.textOverflow,C=b&&"nowrap"===b.whiteSpace,$=b&&b.fontSize,M=m.length,b=w&&!t.added&&this.box,S=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:$||c.style.fontSize||12,_?E(_):c.fontMetrics(e,t.getAttribute("style")?t:u).h};if(s=[h,k,C,_,x,$,w].join(),s!==t.textCache){for(t.textCache=s;M--;)u.removeChild(m[M]);g||x||k||w||-1!==h.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,n=/<.*style="([^"]+)".*>/,i=/<.*href="([^"]+)".*>/,b&&b.appendChild(u),h=g?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],h=v(h,function(t){return""!==t}),f(h,function(s,h){var g,m=0;s=s.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=s.split("|||"),f(g,function(s){if(""!==s||1===g.length){var f,v,b={},_=p.createElementNS(c.SVG_NS,"tspan");if(e.test(s)&&(f=s.match(e)[1],o(_,"class",f)),n.test(s)&&(v=s.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),o(_,"style",v)),i.test(s)&&!d&&(o(_,"onclick",'location.href="'+s.match(i)[1]+'"'),l(_,{cursor:"pointer"})),s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">")," "!==s){if(_.appendChild(p.createTextNode(s)),m?b.dx=0:h&&null!==y&&(b.x=y),o(_,b),u.appendChild(_),!m&&a&&(!P&&d&&l(_,{display:"block"}),o(_,"dy",S(_))),w){b=s.replace(/([^\^])-/g,"$1- ").split(" "),f=1<g.length||h||1<b.length&&!C;var x,$=[],M=S(_),T=t.rotation;for(k&&(r=c.applyEllipsis(t,_,s,w));!k&&f&&(b.length||$.length);)t.rotation=0,x=c.getSpanWidth(t,_),s=x>w,void 0===r&&(r=s),s&&1!==b.length?(_.removeChild(_.firstChild),$.unshift(b.pop())):(b=$,$=[],b.length&&!C&&(_=p.createElementNS(L,"tspan"),o(_,{dy:M,x:y}),v&&o(_,"style",v),u.appendChild(_)),x>w&&(w=x)),b.length&&_.appendChild(p.createTextNode(b.join(" ").replace(/- /g,"-")));t.rotation=T}m++}}}),a=a||u.childNodes.length}),r&&t.attr("title",t.textStr),b&&b.removeChild(u),x&&t.applyTextOutline&&t.applyTextOutline(x)):u.appendChild(p.createTextNode(h.replace(/&lt;/g,"<").replace(/&gt;/g,">")))}},getContrast:function(t){return t=a(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,u){var c=this.label(t,e,n,u,null,null,null,null,"button"),d=0;c.attr(M({padding:8,r:2},o));var h,p,f,m;return o=M({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),h=o.style,delete o.style,s=M(o,{fill:"#e6e6e6"},s),p=s.style,delete s.style,a=M(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),f=a.style,delete a.style,l=M(o,{style:{color:"#cccccc"}},l),m=l.style,delete l.style,i(c.element,x?"mouseover":"mouseenter",function(){3!==d&&c.setState(1)}),i(c.element,x?"mouseout":"mouseleave",function(){3!==d&&c.setState(d)}),c.setState=function(t){1!==t&&(c.state=d=t),c.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),c.attr([o,s,a,l][t||0]).css([h,p,f,m][t||0])},c.attr(o).css(g({cursor:"default"},h)),c.on("click",function(t){3!==d&&r.call(c,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return w(t)?e.d=t:k(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=k(t)?t:{x:t,y:e,r:n},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return k(t)?(i=t,e=i.y,n=i.r,t=i.x):i={innerR:i,start:r,end:o},t=this.symbol("arc",t,e,n,n,i),t.r=n,t},rect:function(t,e,n,i,r,s){r=k(t)?t.r:r;var a=this.createElement("rect");return t=k(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==s&&(t.strokeWidth=s,t=a.crisp(t)),t.fill="none",r&&(t.r=r),a.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:D(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,n,i,r){var o={preserveAspectRatio:"none"};return 1<arguments.length&&g(o,{x:e,y:n,width:i,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,r,o){var a,d,h,m=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),w=b&&this.symbols[b],_=c(e)&&w&&w.call(this.symbols,Math.round(e),Math.round(n),i,r,o);return w?(a=this.path(_),a.attr("fill","none"),g(a,{symbolName:b,x:e,y:n,width:i,height:r}),o&&g(a,o)):y&&(d=t.match(v)[1],a=this.image(d),a.imgwidth=D(I[d]&&I[d].width,o&&o.width),a.imgheight=D(I[d]&&I[d].height,o&&o.height),h=function(){a.attr({width:a.width,height:a.height})},f(["width","height"],function(t){a[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,c(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),c(e)&&a.attr({x:e,y:n}),a.isImg=!0,c(a.imgwidth)&&c(a.imgheight)?h():(a.attr({width:0,height:0}),u("img",{onload:function(){var t=s[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),I[d]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&h(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:d}),this.imgCount++)),a},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n,a=r.r||i||n,l=r.end-.001;n=r.innerR,i=r.open;var u=Math.cos(o),d=Math.sin(o),h=Math.cos(l),l=Math.sin(l);return r=r.end-o<Math.PI?0:1,s=["M",t+s*u,e+a*d,"A",s,a,0,r,1,t+s*h,e+a*l],c(n)&&s.push(i?"M":"L",t+n*h,e+n*l,"A",n,n,0,r,0,t+n*u,e+n*d),s.push(i?"":"Z"),s},callout:function(t,e,n,i,r){var o=Math.min(r&&r.r||0,n,i),s=o+6,a=r&&r.anchorX;r=r&&r.anchorY;var l;return l=["M",t+o,e,"L",t+n-o,e,"C",t+n,e,t+n,e,t+n,e+o,"L",t+n,e+i-o,"C",t+n,e+i,t+n,e+i,t+n-o,e+i,"L",t+o,e+i,"C",t,e+i,t,e+i,t,e+i-o,"L",t,e+o,"C",t,e,t,e,t+o,e],a&&a>n?r>e+s&&e+i-s>r?l.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-o):l.splice(13,3,"L",t+n,i/2,a,r,t+n,i/2,t+n,e+i-o):a&&0>a?r>e+s&&e+i-s>r?l.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+o):l.splice(33,3,"L",t,i/2,a,r,t,i/2,t,e+o):r&&r>i&&a>t+s&&t+n-s>a?l.splice(23,3,"L",a+6,e+i,a,e+i+6,a-6,e+i,t+o,e+i):r&&0>r&&a>t+s&&t+n-s>a&&l.splice(3,3,"L",a-6,e,a,e-6,a+6,e,n-o,e),l}},clipRect:function(e,n,i,r){var o=t.uniqueKey(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,n,i,r,0).add(s),e.id=o,e.clipPath=s,e.count=0,e},text:function(t,e,n,i){var r=!P&&this.forExport,o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),(t||0===t)&&(o.text=t),t=this.createElement("text").attr(o),r&&t.css({position:"absolute"}),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?E(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:i}},label:function(n,i,r,o,s,a,l,u,d){var h,p,m,v,y,b,w,_,x,k,C,$,S,T=this,D=T.g("button"!==d&&"label"),E=D.text=T.text("",0,0,l).attr({zIndex:1}),A=0,P=3,L=0,I={},N=/^url\((.*?)\)$/.test(o),R=N;d&&D.addClass("highcharts-"+d),R=N,k=function(){return(_||0)%2/2},C=function(){var t=E.element.style,e={};p=(void 0===m||void 0===v||w)&&c(E.textStr)&&E.getBBox(),D.width=(m||p.width||0)+2*P+L,D.height=(v||p.height||0)+2*P,x=P+T.fontMetrics(t&&t.fontSize,E).b,R&&(h||(D.box=h=T.symbols[o]||N?T.symbol(o):T.rect(),h.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),h.add(D),t=k(),e.x=t,e.y=(u?-x:0)+t),e.width=Math.round(D.width),e.height=Math.round(D.height),h.attr(g(e,I)),I={})},$=function(){var t,e=L+P;t=u?0:x,c(m)&&p&&("center"===w||"right"===w)&&(e+={center:.5,right:1}[w]*(m-p.width)),(e!==E.x||t!==E.y)&&(E.attr("x",e),void 0!==t&&E.attr("y",t)),E.x=e,E.y=t},S=function(t,e){h?h.attr(t,e):I[t]=e},D.onAdd=function(){E.add(D),D.attr({text:n||0===n?n:"",x:i,y:r}),h&&c(s)&&D.attr({anchorX:s,anchorY:a})},D.widthSetter=function(e){m=t.isNumber(e)?e:null},D.heightSetter=function(t){v=t},D["text-alignSetter"]=function(t){w=t},D.paddingSetter=function(t){c(t)&&t!==P&&(P=D.padding=t,$())},D.paddingLeftSetter=function(t){c(t)&&t!==L&&(L=t,$())},D.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==A&&(A=t,p&&D.attr({x:y}))},D.textSetter=function(t){void 0!==t&&E.textSetter(t),C(),$()},D["stroke-widthSetter"]=function(t,e){t&&(R=!0),_=this["stroke-width"]=t,S(e,t)},D.strokeSetter=D.fillSetter=D.rSetter=function(t,e){"fill"===e&&t&&(R=!0),S(e,t)},D.anchorXSetter=function(t,e){s=D.anchorX=t,S(e,Math.round(t)-k()-y)},D.anchorYSetter=function(t,e){a=D.anchorY=t,S(e,t-b)},D.xSetter=function(t){D.x=t,A&&(t-=A*((m||p.width)+2*P)),y=Math.round(t),D.attr("translateX",y)},D.ySetter=function(t){b=D.y=Math.round(t),D.attr("translateY",b)};var B=D.css;return g(D,{css:function(t){if(t){var e={};t=M(t),f(D.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),E.css(e)}return B.call(D,t)},getBBox:function(){return{width:p.width+2*P,height:p.height+2*P,x:p.x-P,y:p.y-P}},shadow:function(t){return t&&(C(),h&&h.shadow(t)),D},destroy:function(){O(D.element,"mouseenter"),O(D.element,"mouseleave"),E&&(E=E.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(D),D=T=C=$=S=null}})}}),t.Renderer=n}(t),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,u=t.isWebKit,c=t.pInt,d=t.SVGRenderer,h=t.win,p=t.wrap;s(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=s(this.styles,t),i(this.element,t),this},htmlGetBBox:function(){var t=this.element;return"text"===t.nodeName&&(t.style.position="absolute"),{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,a=this.x||0,l=this.y||0,d=this.textAlign||"left",h={left:0,center:.5,right:1}[d],p=this.styles;if(i(e,{marginLeft:n,marginTop:s}),this.shadows&&o(this.shadows,function(t){i(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&o(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var f=this.rotation,g=c(this.textWidth),m=p&&p.whiteSpace,v=[f,d,e.innerHTML,this.textWidth,this.textAlign].join();v!==this.cTT&&(p=t.fontMetrics(e.style.fontSize).b,r(f)&&this.setSpanRotation(f,h,p),i(e,{width:"",whiteSpace:m||"nowrap"}),e.offsetWidth>g&&/[ \-]/.test(e.textContent||e.innerText)&&i(e,{width:g+"px",display:"block",whiteSpace:m||"normal"}),this.getSpanCorrection(e.offsetWidth,p,h,f,d)),i(e,{left:a+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),u&&(p=e.offsetHeight),this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},o=l?"-ms-transform":u?"-webkit-transform":a?"MozTransform":h.opera?"-o-transform":"";r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),s(d.prototype,{html:function(t,i,r){var a=this.createElement("span"),l=a.element,u=a.renderer,c=u.isSVG,d=function(t,e){o(["opacity","visibility"],function(n){p(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})})};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,l.innerHTML=this.textStr=t,a.htmlUpdateTransform()},c&&d(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.htmlUpdateTransform()},a.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,c&&(a.add=function(t){var i,r=u.box.parentNode,c=[];if(this.parentGroup=t){if(i=t.div,!i){for(;t;)c.push(t),t=t.parentGroup;o(c.reverse(),function(t){var o,l=e(t.element,"class");l&&(l={className:l}),i=t.div=t.div||n("div",l,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||r),o=i.style,s(t,{on:function(){return a.on.apply({element:c[0].div},arguments),t},translateXSetter:function(e,n){o.left=e+"px",t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){o.top=e+"px",t[n]=e,t.doTransform=!0}}),d(t,o)})}}else i=r;return i.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(t),function(t){var e,n,i=t.createElement,r=t.css,o=t.defined,s=t.deg2rad,a=t.discardElement,l=t.doc,u=t.each,c=t.erase,d=t.extend;e=t.extendClass;var h=t.isArray,p=t.isNumber,f=t.isObject,g=t.merge;n=t.noop;var m=t.pick,v=t.pInt,y=t.SVGElement,b=t.SVGRenderer,w=t.win;t.svg||(n={docMode8:l&&8===l.documentMode,init:function(t,e){var n=["<",e,' filled="f" stroked="f"'],r=["position: ","absolute",";"],o="div"===e;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),e&&(n=o||"span"===e||"img"===e?n.join(""):t.prepVML(n),this.element=i(n)),this.renderer=t},add:function(t){var e=this.renderer,n=this.element,i=e.box,r=t&&t.inverted,i=t?t.element||t:i;return t&&(this.parentGroup=t),r&&e.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:y.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*s),n=Math.sin(t*s);r(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,n,i,o){var a,l=i?Math.cos(i*s):1,u=i?Math.sin(i*s):0,c=m(this.elemHeight,this.element.offsetHeight);this.xCorr=0>l&&-t,this.yCorr=0>u&&-c,a=0>l*u,this.xCorr+=u*e*(a?1-n:n),this.yCorr-=l*e*(i?a?n:1-n:1),o&&"left"!==o&&(this.xCorr-=t*n*(0>l?-1:1),i&&(this.yCorr-=c*n*(0>u?-1:1)),r(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)p(t[e])?n[e]=Math.round(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n=this;return t?(e=t.members,c(e,n),e.push(n),n.destroyClip=function(){c(e,n)},t=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),t={clip:n.docMode8?"inherit":"rect(auto)"}),n.css(t)},css:y.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&a(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),y.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=w.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,(9===n||11===n)&&(t[n-4]=t[n-2]=v(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var r,o,s,a,l,u,c,d=[],h=this.element,p=this.renderer,f=h.style,g=h.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(u=m(t.width,3),c=(t.opacity||.15)/u,r=1;3>=r;r++)a=2*u+1-2*r,n&&(l=this.cutOffPath(g.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],o=i(p.prepVML(s),null,{left:v(f.left)+m(t.offsetX,1),top:v(f.top)+m(t.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',t.color||"#000000",'" opacity="',c*r,'"/>'],i(p.prepVML(s),null,null,o),e?e.element.appendChild(o):h.parentNode.insertBefore(o,h),d.push(o);this.shadows=d}return this},updateShadows:n,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,n){(n.getElementsByTagName("stroke")[0]||i(this.renderer.prepVML(["<stroke/>"]),null,null,n))[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(t,i[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},"fill-opacitySetter":function(t,e,n){i(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,n)},opacitySetter:n,rotationSetter:function(t,e,n){n=n.style,this[e]=n[e]=t,n.left=-Math.round(Math.sin(t*s)+1)+"px",n.top=Math.round(Math.cos(t*s))+"px"},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e,this))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,p(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,n){"inherit"===t&&(t="visible"),this.shadows&&u(this.shadows,function(n){n.style[e]=t}),"DIV"===n.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(n.style[e]=t?"visible":"hidden"),e="top"),n.style[e]=t},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}},n["stroke-opacitySetter"]=n["fill-opacitySetter"],t.VMLElement=n=e(y,n),n.prototype.ySetter=n.prototype.widthSetter=n.prototype.heightSetter=n.prototype.xSetter,n={Element:n,isIE8:-1<w.navigator.userAgent.indexOf("MSIE 8.0"),init:function(t,e,n){var i,r;if(this.alignedObjects=[],i=this.createElement("div").css({position:"relative"}),r=i.element,t.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,i){var r=this.createElement(),o=f(t);return d(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:n)-1,height:(o?t.height:i)-1,getCSS:function(t){var e=t.element,n=e.nodeName,i=t.inverted,r=this.top-("shape"===n?e.offsetTop:0),o=this.left,e=o+this.width,s=r+this.height,r={clip:"rect("+Math.round(i?o:r)+"px,"+Math.round(i?s:e)+"px,"+Math.round(i?e:s)+"px,"+Math.round(i?r:o)+"px)"};return!i&&t.docMode8&&"DIV"===n&&d(r,{width:e+"px",height:s+"px"}),r},updateClipping:function(){u(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(e,n,r,o){var s,a,l,c=this,d=/^rgba/,h="none";if(e&&e.linearGradient?l="gradient":e&&e.radialGradient&&(l="pattern"),l){var p,f,g,m,v,y,b,w=e.linearGradient||e.radialGradient,_="";e=e.stops;var x,k=[],C=function(){a=['<fill colors="'+k.join(",")+'" opacity="',v,'" o:opacity2="',m,'" type="',l,'" ',_,'focus="100%" method="any" />'],i(c.prepVML(a),null,null,n)};if(g=e[0],x=e[e.length-1],0<g[0]&&e.unshift([0,g[1]]),1>x[0]&&e.push([1,x[1]]),u(e,function(e,n){d.test(e[1])?(s=t.color(e[1]),p=s.get("rgb"),f=s.get("a")):(p=e[1],f=1),k.push(100*e[0]+"% "+p),n?(v=f,y=p):(m=f,b=p)}),"fill"===r)if("gradient"===l)r=w.x1||w[0]||0,e=w.y1||w[1]||0,g=w.x2||w[2]||0,w=w.y2||w[3]||0,_='angle="'+(90-180*Math.atan((w-e)/(g-r))/Math.PI)+'"',C();else{var $,h=w.r,M=2*h,S=2*h,T=w.cx,D=w.cy,E=n.radialReference,h=function(){E&&($=o.getBBox(),T+=(E[0]-$.x)/$.width-.5,D+=(E[1]-$.y)/$.height-.5,M*=E[2]/$.width,S*=E[2]/$.height),_='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+M+","+S+'" origin="0.5,0.5" position="'+T+","+D+'" color2="'+b+'" ',C()};o.added?h():o.onAdd=h,h=y}else h=p}else d.test(e)&&"IMG"!==n.tagName?(s=t.color(e),o[r+"-opacitySetter"](s.get("a"),r,n),h=s.get("rgb")):(h=n.getElementsByTagName(r),h.length&&(h[0].opacity=1,h[0].type="solid"),h=e);return h},prepVML:function(t){var e=this.isIE8;return t=t.join(""),e?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):t.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):t=t.replace("<","<hcv:"),t},text:b.prototype.html,path:function(t){var e={coordsize:"10 10"};return h(t)?e.d=t:f(t)&&d(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var i=this.symbol("circle");return f(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,"class":"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return 1<arguments.length&&o.attr({x:e,y:n,width:i,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):b.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this;e=e.style;var i="IMG"===t.tagName&&t.style;r(t,{flip:"x",left:v(e.width)-(i?v(i.top):1),top:v(e.height)-(i?v(i.left):1),rotation:-90}),u(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var o=r.start,s=r.end,a=r.r||n||i;n=r.innerR,i=Math.cos(o);var l=Math.sin(o),u=Math.cos(s),c=Math.sin(s);return 0===s-o?["x"]:(o=["wa",t-a,e-a,t+a,e+a,t+a*i,e+a*l,t+a*u,e+a*c],r.open&&!n&&o.push("e","M",t,e),o.push("at",t-n,e-n,t+n,e+n,t+n*u,e+n*c,t+n*i,e+n*l,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&o(r.r)&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){return b.prototype.symbols[o(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=g(b.prototype,n),t.Renderer=e),b.prototype.measureSpanWidth=function(t,e){var n=l.createElement("span");return t=l.createTextNode(t),n.appendChild(t),r(n,e),this.box.appendChild(n),e=n.offsetWidth,a(n),e}}(t),function(t){function e(){var e=t.defaultOptions.global,n=l.moment;if(e.timezone){if(n)return function(t){return-n.tz(t,e.timezone).utcOffset()};t.error(25)}return e.useUTC&&e.getTimezoneOffset}function n(){var n,i=t.defaultOptions.global,s=i.useUTC,u=s?"getUTC":"get",c=s?"setUTC":"set";t.Date=n=i.Date||l.Date,n.hcTimezoneOffset=s&&i.timezoneOffset,n.hcGetTimezoneOffset=e(),n.hcMakeTime=function(t,e,i,r,l,u){var c;return s?(c=n.UTC.apply(0,arguments),c+=o(c)):c=new n(t,e,a(i,1),a(r,0),a(l,0),a(u,0)).getTime(),c},r("Minutes Hours Day Date Month FullYear".split(" "),function(t){n["hcGet"+t]=u+t}),r("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(t){n["hcSet"+t]=c+t})}var i=t.color,r=t.each,o=t.getTZOffset,s=t.merge,a=t.pick,l=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.12/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:i("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=s(!0,t.defaultOptions,e),n(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,n()}(t),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.isNumber,o=t.merge,s=t.pick,a=t.deg2rad;t.Tick=function(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,i=this.axis,r=i.options,a=i.chart,l=i.categories,u=i.names,c=this.pos,d=r.labels,h=i.tickPositions,p=c===h[0],f=c===h[h.length-1],u=l?s(l[c],u[c],c):c,l=this.label,h=h.info;i.isDatetimeAxis&&h&&(t=r.dateTimeLabelFormats[h.higherRanks[c]||h.unitName]),this.isFirst=p,this.isLast=f,r=i.labelFormatter.call({axis:i,chart:a,isFirst:p,isLast:f,dateTimeLabelFormat:t,value:i.isLog?e(i.lin2log(u)):u}),n(l)?l&&l.attr({text:r}):(this.labelLength=(this.label=l=n(r)&&d.enabled?a.renderer.text(r,0,0,d.useHTML).css(o(d.style)).add(i.labelGroup):null)&&l.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=t.x,r=n.chart.chartWidth,o=n.chart.spacing,l=s(n.labelLeft,Math.min(n.pos,o[3])),o=s(n.labelRight,Math.max(n.pos+n.len,r-o[1])),u=this.label,c=this.rotation,d={left:0,center:.5,right:1}[n.labelAlign],h=u.getBBox().width,p=n.getSlotWidth(),f=p,g=1,m={};c?0>c&&l>i-d*h?e=Math.round(i/Math.cos(c*a)-l):c>0&&i+d*h>o&&(e=Math.round((r-i)/Math.cos(c*a))):(r=i+(1-d)*h,l>i-d*h?f=t.x+f*(1-d)-l:r>o&&(f=o-t.x+f*d,g=-1),f=Math.min(p,f),p>f&&"center"===n.labelAlign&&(t.x+=g*(p-f-d*(p-Math.min(h,f)))),(h>f||n.autoRotation&&(u.styles||{}).width)&&(e=f)),e&&(m.width=e,(n.options.labels.style||{}).textOverflow||(m.textOverflow="ellipsis"),u.css(m))},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,i,r,o,s,l,u){var c=this.axis,d=c.transA,h=c.reversed,p=c.staggerLines,f=c.tickRotCorr||{x:0,y:0},g=o.y;return n(g)||(g=0===c.side?i.rotation?-8:-i.getBBox().height:2===c.side?f.y+8:Math.cos(i.rotation*a)*(f.y-i.getBBox(!1,0).height/2)),t=t+o.x+f.x-(s&&r?s*d*(h?-1:1):0),e=e+g-(s&&!r?s*d*(h?1:-1):0),p&&(i=l/(u||1)%p,c.opposite&&(i=p-i-1),e+=c.labelOffset/p*i),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},renderGridLine:function(t,e,n){var i=this.axis,r=i.options,o=this.gridLine,s={},a=this.pos,l=this.type,u=i.tickmarkOffset,c=i.chart.renderer,d=l?l+"Grid":"grid",h=r[d+"LineWidth"],p=r[d+"LineColor"],r=r[d+"LineDashStyle"];o||(s.stroke=p,s["stroke-width"]=h,r&&(s.dashstyle=r),l||(s.zIndex=1),t&&(s.opacity=0),this.gridLine=o=c.path().attr(s).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(i.gridGroup)),!t&&o&&(t=i.getPlotLinePath(a+u,o.strokeWidth()*n,t,!0))&&o[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,a=this.type,l=a?a+"Tick":"tick",u=i.tickSize(l),c=this.mark,d=!c,h=t.x;t=t.y;var p=s(r[l+"Width"],!a&&i.isXAxis?1:0),r=r[l+"Color"];u&&(i.opposite&&(u[0]=-u[0]),d&&(this.mark=c=o.path().addClass("highcharts-"+(a?a+"-":"")+"tick").add(i.axisGroup),c.attr({stroke:r,"stroke-width":p})),c[d?"attr":"animate"]({d:this.getMarkPath(h,t,u[0],c.strokeWidth()*n,i.horiz,o),opacity:e}))},renderLabel:function(t,e,n,i){var o=this.axis,a=o.horiz,l=o.options,u=this.label,c=l.labels,d=c.step,h=o.tickmarkOffset,p=!0,f=t.x;t=t.y,u&&r(f)&&(u.xy=t=this.getLabelPosition(f,t,u,a,c,h,i,d),this.isFirst&&!this.isLast&&!s(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(l.showLastLabel,1)?p=!1:!a||o.isRadial||c.step||c.rotation||e||0===n||this.handleOverflow(t),d&&i%d&&(p=!1),p&&r(t.y)?(t.opacity=n,u[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(u.attr("y",-9999),this.isNewLabel=!0),this.isNew=!1)},render:function(t,e,n){var i=this.axis,r=i.horiz,o=this.getPosition(r,this.pos,i.tickmarkOffset,e),a=o.x,l=o.y,i=r&&a===i.pos+i.len||!r&&l===i.pos?-1:1;n=s(n,1),this.isActive=!0,this.renderGridLine(e,n,i),this.renderMark(o,n,i),this.renderLabel(o,e,n,t)},destroy:function(){i(this,this.axis)
}}}(t);var e=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.color,s=t.correctFloat,a=t.defaultOptions,l=t.defined,u=t.deg2rad,c=t.destroyObjectProperties,d=t.each,h=t.extend,p=t.fireEvent,f=t.format,g=t.getMagnitude,m=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,w=t.isString,_=t.merge,x=t.normalizeTickInterval,k=t.objectEach,C=t.pick,$=t.removeEvent,M=t.splat,S=t.syncTimeout,T=t.Tick,D=function(){this.init.apply(this,arguments)};return t.extend(D.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var o=this.options,s=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names=r.names||[],r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===s,r.isDatetimeAxis="datetime"===s,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=C(o.crosshair,M(t.options.tooltip.crosshairs)[i?0:1],!1),n=r.options.events,-1===v(r,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),k(n,function(t,n){e(r,n,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(t){this.options=_(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],_(a[this.coll],t))},defaultLabelFormatter:function(){var e,n=this.axis,i=this.value,r=n.categories,o=this.dateTimeLabelFormat,s=a.lang,l=s.numericSymbols,s=s.numericSymbolMagnitude||1e3,u=l&&l.length,c=n.options.labels.format,n=n.isLog?Math.abs(i):n.tickInterval;if(c)e=f(c,this);else if(r)e=i;else if(o)e=t.dateFormat(o,i);else if(u&&n>=1e3)for(;u--&&void 0===e;)r=Math.pow(s,u+1),n>=r&&0===10*i%r&&null!==l[u]&&0!==i&&(e=t.numberFormat(i/r,-1)+l[u]);return void 0===e&&(e=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=a&&(a=null),t.isXAxis?(s=n.xData,s.length&&(n=r(s),b(n)||n instanceof Date||(s=m(s,function(t){return b(t)}),n=r(s)),t.dataMin=Math.min(C(t.dataMin,s[0]),n),t.dataMax=Math.max(C(t.dataMax,s[0]),i(s)))):(n.getExtremes(),o=n.dataMax,n=n.dataMin,l(n)&&l(o)&&(t.dataMin=Math.min(C(t.dataMin,n),n),t.dataMax=Math.max(C(t.dataMax,o),o)),l(a)&&(t.threshold=a),(!s.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,u=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var c=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,u||(u=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(a*=-1,l-=a*(s.sector||s.len)),e?(t=(t*a+l-c)/u+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),t=a*(t-i)*u+l+a*c+(b(o)?u*o:0)),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,u=this.left,c=this.top,d=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var p=function(t,e,n){return(e>t||t>n)&&(i?t=Math.min(Math.max(e,t),n):a=!0),t};return r=C(r,this.translate(t,null,null,n)),t=n=Math.round(r+o),o=s=Math.round(d-r-o),b(r)?this.horiz?(o=c,s=d-this.bottom,t=n=p(t,u,u+this.width)):(t=u,n=h-this.right,o=s=p(o,c,c+this.height)):a=!0,a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=s(Math.floor(e/t)*t);n=s(Math.ceil(n/t)*t);var o=[];if(this.single)return[e];for(e=r;n>=e&&(o.push(e),e=s(e+t),e!==i);)i=e;return o},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,i=t.minorTickInterval,r=[],o=t.pointRangePadding||0,s=t.min-o,o=t.max+o,a=o-s;if(a&&a/i<t.len/3)if(t.isLog)d(this.paddedTicks,function(e,n,o){n&&r.push.apply(r,t.getLogTickPositions(i,o[n-1],o[n],!0))});else if(t.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(i),s,o,e.startOfWeek));else for(e=s+(n[0]-s)%i;o>=e&&e!==r[0];e+=i)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,n,o,s,a,u,c,h=this.options,p=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(h.min)||l(h.max)?this.minRange=null:(d(this.series,function(t){for(a=t.xData,o=u=t.xIncrement?1:a.length-1;o>0;o--)s=a[o]-a[o-1],(void 0===n||n>s)&&(n=s)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-p<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,c=this.minRange,t=(c-f+p)/2,t=[p-t,C(h.min,p-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),p=i(t),f=[p+c,C(h.max,p+c)],e&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),f=r(f),c>f-p&&(t[0]=f-c,t[1]=C(h.min,f-c),p=i(t))),this.min=p,this.max=f},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=y(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():v(t.name,i)),-1===r?n||(e=i.length):e=r,void 0!==e&&(this.names[e]=t.name),e},updateNames:function(){var t=this;0<this.names.length&&(this.names.length=0,this.minRange=this.userMinRange,d(this.series||[],function(e){e.xIncrement=null,(!e.points||e.isDirtyData)&&(e.processData(),e.generatePoints()),d(e.points,function(n,i){var r;n.options&&(r=t.nameToX(n),void 0!==r&&r!==n.x&&(n.x=r,e.xData[i]=r))})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,s=0,a=n.linkedParent,l=!!n.categories,u=n.transA,c=n.isXAxis;(c||l||r)&&(e=n.getClosest(),a?(o=a.minPointOffset,s=a.pointRangePadding):d(n.series,function(t){var i=l?1:c?C(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,w(t)?0:i/2),s=Math.max(s,"on"===t?0:i))}),a=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=a,n.pointRangePadding=s*=a,n.pointRange=Math.min(r,i),c&&(n.closestPointRange=e)),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.options.staticScale||n.len/(i+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,o,a=this,u=a.chart,c=a.options,h=a.isLog,f=a.log2lin,m=a.isDatetimeAxis,v=a.isXAxis,y=a.isLinked,w=c.maxPadding,_=c.minPadding,k=c.tickInterval,$=c.tickPixelInterval,M=a.categories,S=a.threshold,T=a.softThreshold;m||M||y||this.getTickAmount(),r=C(a.userMin,c.min),o=C(a.userMax,c.max),y?(a.linkedParent=u[a.coll][c.linkedTo],u=a.linkedParent.getExtremes(),a.min=C(u.min,u.dataMin),a.max=C(u.max,u.dataMax),c.type!==a.linkedParent.options.type&&t.error(11,1)):(!T&&l(S)&&(a.dataMin>=S?(n=S,_=0):a.dataMax<=S&&(i=S,w=0)),a.min=C(r,n,a.dataMin),a.max=C(o,i,a.dataMax)),h&&(a.positiveValuesOnly&&!e&&0>=Math.min(a.min,C(a.dataMin,a.min))&&t.error(10,1),a.min=s(f(a.min),15),a.max=s(f(a.max),15)),a.range&&l(a.max)&&(a.userMin=a.min=r=Math.max(a.min,a.minFromRange()),a.userMax=o=a.max,a.range=null),p(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),!(M||a.axisPointRange||a.usePercentage||y)&&l(a.min)&&l(a.max)&&(f=a.max-a.min)&&(!l(r)&&_&&(a.min-=f*_),!l(o)&&w&&(a.max+=f*w)),b(c.softMin)&&(a.min=Math.min(a.min,c.softMin)),b(c.softMax)&&(a.max=Math.max(a.max,c.softMax)),b(c.floor)&&(a.min=Math.max(a.min,c.floor)),b(c.ceiling)&&(a.max=Math.min(a.max,c.ceiling)),T&&l(a.dataMin)&&(S=S||0,!l(r)&&a.min<S&&a.dataMin>=S?a.min=S:!l(o)&&a.max>S&&a.dataMax<=S&&(a.max=S)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:y&&!k&&$===a.linkedParent.options.tickPixelInterval?k=a.linkedParent.tickInterval:C(k,this.tickAmount?(a.max-a.min)/Math.max(this.tickAmount-1,1):void 0,M?1:(a.max-a.min)*$/Math.max(a.len,$)),v&&!e&&d(a.series,function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!k&&(a.tickInterval=Math.max(a.pointRange,a.tickInterval)),e=C(c.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!k&&a.tickInterval<e&&(a.tickInterval=e),m||h||k||(a.tickInterval=x(a.tickInterval,null,g(a.tickInterval),C(c.allowDecimals,!(.5<a.tickInterval&&5>a.tickInterval&&1e3<a.max&&9999>a.max)),!!this.tickAmount)),this.tickAmount||(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,n=e.tickPositions,i=e.tickPositioner,r=e.startOnTick,o=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e.minorTickInterval&&this.tickInterval?this.tickInterval/5:e.minorTickInterval,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=n&&n.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,i&&(i=i.apply(this,[this.min,this.max])))&&(this.tickPositions=t=i),this.paddedTicks=t.slice(0),this.trimTicks(t,r,o),this.isLinked||(this.single&&(this.min-=.5,this.max+=.5),n||i||this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==i)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(i)&&t.push((r+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||this.isLog||d(this.chart[this.coll],function(n){var i=n.options,i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length;if(n>r){for(;e.length<n;)e.push(s(e[e.length-1]+t));this.transA*=(r-1)/(n-1),this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(t=n=e.length;t--;)(3===i&&1===t%2||2>=i&&t>0&&n-1>t)&&e.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,d(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=C(n,!0),d(o.series,function(t){delete t.kdTree}),r=h(r,{min:t,max:e}),p(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,C(r.min,n)),r=Math.max(i,C(r.max,i));return(t!==this.min||e!==this.max)&&(this.allowZoomOutside||(l(n)&&(o>t&&(t=o),t>r&&(t=r)),l(i)&&(o>e&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=this.options,n=e.offsets||[0,0,0,0],i=this.horiz,r=C(e.width,t.plotWidth-n[3]+n[1]),o=C(e.height,t.plotHeight-n[0]+n[2]),s=C(e.top,t.plotTop+n[0]),e=C(e.left,t.plotLeft+n[3]),n=/%$/;n.test(o)&&(o=Math.round(parseFloat(o)/100*t.plotHeight)),n.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight+t.plotTop)),this.left=e,this.top=s,this.width=r,this.height=o,this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-r-e,this.len=Math.max(i?r:o,0),this.pos=i?e:s},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?s(e(this.min)):this.min,max:t?s(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,n=this.lin2log,i=e?n(this.min):this.min,e=e?n(this.max):this.max;return null===t?t=i:i>t?t=i:t>e&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(C(t,0)-90*this.side+720)%360,t>15&&165>t?"right":t>195&&345>t?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);return i&&n?("inside"===e[t+"Position"]&&(n=-n),[n,i]):void 0},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),c=i.rotation,h=this.labelMetrics(),p=Number.MAX_VALUE,f=function(t){return t/=a||1,t=t>1?Math.ceil(t):1,t*o};return r?(n=!i.staggerLines&&!i.step&&(l(c)?[c]:a<C(i.autoRotationLimit,80)&&i.autoRotation))&&d(n,function(n){var i;(n===c||n&&n>=-90&&90>=n)&&(e=f(Math.abs(h.h/Math.sin(u*n))),i=e+Math.abs(n/360),p>i&&(p=i,t=n,s=e))}):i.step||(s=f(h.h)),this.autoRotation=n,this.labelRotation=C(t,c),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&2>(n.step||0)&&!n.rotation&&(this.staggerLines||1)*this.len/i||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=this.horiz,u=this.getSlotWidth(),c=Math.max(1,Math.round(u-2*(a.padding||5))),h={},p=this.labelMetrics(),f=a.style&&a.style.textOverflow,g=0;if(w(a.rotation)||(h.rotation=a.rotation||0),d(o,function(t){(t=s[t])&&t.labelLength>g&&(g=t.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>c&&g>p.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t={width:c+"px"},!f))for(t.textOverflow="clip",e=o.length;!l&&e--;)n=o[e],(c=s[n].label)&&(c.styles&&"ellipsis"===c.styles.textOverflow?c.css({textOverflow:"clip"}):s[n].labelLength>u&&c.css({width:u+"px"}),c.getBBox().height>this.len/o.length-(p.h-p.f)&&(c.specCss={textOverflow:"ellipsis"}));h.rotation&&(t={width:(g>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},f||(t.textOverflow="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),d(o,function(e){var n=(e=s[e])&&e.label;n&&(n.attr(h),t&&n.css(_(t,n.specCss)),delete n.specCss,e.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},addTitle:function(t){var e,n=this.chart.renderer,i=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(o.style).add(this.axisGroup),this.axisTitle.isNew=!0),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new T(this,t)},getOffset:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.tickPositions,u=i.ticks,c=i.horiz,h=i.side,p=r.inverted&&!i.isZAxis?[1,0,3,2][h]:h,f=0,g=0,m=s.title,v=s.labels,y=0,b=r.axisOffset,r=r.clipOffset,w=[-1,1,1,-1][h],_=s.className,x=i.axisParent,$=this.tickSize("tick");t=i.hasData(),i.showAxis=e=t||C(s.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=o.g("grid").attr({zIndex:s.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(_||"")).add(x),i.axisGroup=o.g("axis").attr({zIndex:s.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(_||"")).add(x),i.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels "+(_||"")).add(x)),t||i.isLinked?(d(a,function(t,e){i.generateTick(t,e)}),i.renderUnsquish(),!1===v.reserveSpace||0!==h&&2!==h&&{1:"left",3:"right"}[h]!==i.labelAlign&&"center"!==i.labelAlign||d(a,function(t){y=Math.max(u[t].getLabelSize(),y)}),i.staggerLines&&(y*=i.staggerLines,i.labelOffset=y*(i.opposite?-1:1))):k(u,function(t,e){t.destroy(),delete u[e]}),m&&m.text&&!1!==m.enabled&&(i.addTitle(e),e&&!1!==m.reserveSpace&&(i.titleOffset=f=i.axisTitle.getBBox()[c?"height":"width"],n=m.offset,g=l(n)?0:C(m.margin,c?5:10))),i.renderLine(),i.offset=w*C(s.offset,b[h]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},o=0===h?-i.labelMetrics().h:2===h?i.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-o+w*(c?C(v.y,i.tickRotCorr.y+8*w):v.x)),i.axisTitleMargin=C(n,g),b[h]=Math.max(b[h],i.axisTitleMargin+f+w*i.offset,g,t&&a.length&&$?$[0]+w*i.offset:0),a=2*Math.floor(i.axisLine.strokeWidth()/2),0<s.offset&&(a-=2*s.offset),r[p]=Math.max(r[p]||a,a)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,u=r.y||0,c=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,this.axisTitle).f,i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+u-(s?this.height:0)+a:i+u}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new T(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&b(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new T(this,t)),r&&i[t].isNew&&i[t].render(e,!0,.1),i[t].render(e))},render:function(){var e,i,r=this,o=r.chart,s=r.options,a=r.isLog,l=r.lin2log,u=r.isLinked,c=r.tickPositions,h=r.axisTitle,p=r.ticks,f=r.minorTicks,g=r.alternateBands,m=s.stackLabels,v=s.alternateGridColor,y=r.tickmarkOffset,w=r.axisLine,_=r.showAxis,x=n(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,d([p,f,g],function(t){k(t,function(t){t.isActive=!1})}),(r.hasData()||u)&&(r.minorTickInterval&&!r.categories&&d(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),c.length&&(d(c,function(t,e){r.renderTick(t,e)}),y&&(0===r.min||r.single)&&(p[-1]||(p[-1]=new T(r,-1,null,!0)),p[-1].render(-1))),v&&d(c,function(n,s){i=void 0!==c[s+1]?c[s+1]+y:r.max-y,0===s%2&&n<r.max&&i<=r.max+(o.polar?-y:y)&&(g[n]||(g[n]=new t.PlotLineOrBand(r)),e=n+y,g[n].options={from:a?l(e):e,to:a?l(i):i,color:v},g[n].render(),g[n].isActive=!0)}),r._addedPlotLB||(d((s.plotLines||[]).concat(s.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),d([p,f,g],function(t){var e,n=[],i=x.duration;k(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),S(function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])},t!==g&&o.hasRendered&&i?i:0)}),w&&(w[w.isPlaced?"animate":"attr"]({d:this.getLinePath(w.strokeWidth())}),w.isPlaced=!0,w[_?"show":"hide"](!0)),h&&_&&(s=r.getTitlePosition(),b(s.y)?(h[h.isNew?"attr":"animate"](s),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;if(t||$(n),k(i,function(t,e){c(t),i[e]=null}),d([n.ticks,n.minorTicks,n.alternateBands],function(t){c(t)}),r)for(t=r.length;t--;)r[t].destroy();d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){n[t]&&(n[t]=n[t].destroy())});for(e in n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();k(n,function(t,e){-1===v(e,n.keepProps)&&delete n[e]})},drawCrosshair:function(t,e){var n,i,r=this.crosshair,s=C(r.snap,!0),a=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!s)?(s?l(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,i)||null),l(n)?(e=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+r.className).attr({zIndex:C(r.zIndex,2)}).add(),a.attr({stroke:r.color||(e?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(r.width,1)}),r.dashStyle&&a.attr({dashstyle:r.dashStyle})),a.show().attr({d:n}),e&&!r.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=D}(t);return function(t){var e=t.Axis,n=t.Date,i=t.dateFormat,r=t.defaultOptions,o=t.defined,s=t.each,a=t.extend,l=t.getMagnitude,u=t.getTZOffset,c=t.normalizeTickInterval,d=t.pick,h=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,c){var p,f,g=[],m={},v=r.global.useUTC,y=new n(e-Math.max(u(e),u(l))),b=n.hcMakeTime,w=t.unitRange,_=t.count;if(o(e)){y[n.hcSetMilliseconds](w>=h.second?0:_*Math.floor(y.getMilliseconds()/_)),w>=h.second&&y[n.hcSetSeconds](w>=h.minute?0:_*Math.floor(y.getSeconds()/_)),w>=h.minute&&y[n.hcSetMinutes](w>=h.hour?0:_*Math.floor(y[n.hcGetMinutes]()/_)),w>=h.hour&&y[n.hcSetHours](w>=h.day?0:_*Math.floor(y[n.hcGetHours]()/_)),w>=h.day&&y[n.hcSetDate](w>=h.month?1:_*Math.floor(y[n.hcGetDate]()/_)),w>=h.month&&(y[n.hcSetMonth](w>=h.year?0:_*Math.floor(y[n.hcGetMonth]()/_)),p=y[n.hcGetFullYear]()),w>=h.year&&y[n.hcSetFullYear](p-p%_),w===h.week&&y[n.hcSetDate](y[n.hcGetDate]()-y[n.hcGetDay]()+d(c,1)),p=y[n.hcGetFullYear](),c=y[n.hcGetMonth]();var x=y[n.hcGetDate](),k=y[n.hcGetHours]();for((n.hcTimezoneOffset||n.hcGetTimezoneOffset)&&(f=(!v||!!n.hcGetTimezoneOffset)&&(l-e>4*h.month||u(e)!==u(l)),y=y.getTime(),y=new n(y+u(y))),v=y.getTime(),e=1;l>v;)g.push(v),v=w===h.year?b(p+e*_,0):w===h.month?b(p,c+e*_):!f||w!==h.day&&w!==h.week?f&&w===h.hour?b(p,c,x,k+e*_):v+w*_:b(p,c,x+e*_*(w===h.day?1:7)),e++;g.push(v),w<=h.hour&&1e4>g.length&&s(g,function(t){0===t%18e5&&"000000000"===i("%H%M%S%L",t)&&(m[t]="day")})}return g.info=a(t,{higherRanks:m,totalRange:w*_}),g},e.prototype.normalizeTimeTickInterval=function(t,e){var n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=n[n.length-1];var i,r=h[e[0]],o=e[1];for(i=0;i<n.length&&(e=n[i],r=h[e[0]],o=e[1],!(n[i+1]&&t<=(r*o[o.length-1]+h[n[i+1][0]])/2));i++);return r===h.year&&5*r>t&&(o=[1,2,5]),t=c(t/r,o,"year"===e[0]?Math.max(l(t/r),1):1),{unitRange:r,count:t,unitName:e[0]}}}(t),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this.options,u=this.len,c=this.lin2log,d=this.log2lin,h=[];if(a||(this._minorAutoInterval=null),t>=.5)t=Math.round(t),h=this.getLinearTickPositions(t,e,s);else if(t>=.08)for(var p,f,g,m,v,u=Math.floor(e),l=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s+1>u&&!v;u++)for(f=l.length,p=0;f>p&&!v;p++)g=d(c(u)*l[p]),g>e&&(!a||s>=m)&&void 0!==m&&h.push(m),m>s&&(v=!0),m=g;else e=c(e),s=c(s),t=l[a?"minorTickInterval":"tickInterval"],t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(a?5:1)*(s-e)/((a?u/this.tickPositions.length:u)||1)),t=r(t,null,n(t)),h=i(this.getLinearTickPositions(t,e,s),d),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),h},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(t),function(t,e){var n=t.arrayMax,i=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.erase,l=t.merge,u=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,n=e.axis,i=n.horiz,o=e.options,s=o.label,a=e.label,c=o.to,d=o.from,h=o.value,p=r(d)&&r(c),f=r(h),g=e.svgElem,m=!g,v=[],y=o.color,b=u(o.zIndex,0),w=o.events,v={"class":"highcharts-plot-"+(p?"band ":"line ")+(o.className||"")},_={},x=n.chart.renderer,k=p?"bands":"lines",C=n.log2lin;if(n.isLog&&(d=C(d),c=C(c),h=C(h)),f?(v={stroke:y,"stroke-width":o.width},o.dashStyle&&(v.dashstyle=o.dashStyle)):p&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),_.zIndex=b,k+="-"+b,(y=n.plotLinesAndBandsGroups[k])||(n.plotLinesAndBandsGroups[k]=y=x.g("plot-"+k).attr(_).add()),m&&(e.svgElem=g=x.path().attr(v).add(y)),f)v=n.getPlotLinePath(h,g.strokeWidth());else{if(!p)return;v=n.getPlotBandPath(d,c,o)}return m&&v&&v.length?(g.attr({d:v}),w&&t.objectEach(w,function(t,n){g.on(n,function(t){w[n].apply(e,[t])})})):g&&(v?(g.show(),g.animate({d:v})):(g.hide(),a&&(e.label=a=a.destroy()))),s&&r(s.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.flat?(s=l({align:i&&p&&"center",x:i?!p&&4:10,verticalAlign:!i&&p&&"middle",y:i?p?16:10:p?6:-4,rotation:i&&!p&&90},s),this.renderLabel(s,v,p,b)):a&&a.hide(),e},renderLabel:function(t,e,r,o){var s=this.label,a=this.axis.chart.renderer;s||(s={align:t.textAlign||t.align,rotation:t.rotation,"class":"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},s.zIndex=o,this.label=s=a.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),o=[e[1],e[4],r?e[6]:e[1]],e=[e[2],e[5],r?e[7]:e[2]],r=i(o),a=i(e),s.align(t,!1,{x:r,y:a,width:n(o)-r,height:n(e)-a}),s.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e,null,null,!0),i=this.getPlotLinePath(t,null,null,!0),r=this.horiz,o=1;return t=t<this.min&&e<this.min||t>this.max&&e>this.max,i&&n?(t&&(i.flat=i.toString()===n.toString(),o=0),i.push(r&&n[4]===i[4]?n[4]+o:n[4],r||n[5]!==i[5]?n[5]:n[5]+o,r&&n[1]===i[1]?n[1]+o:n[1],r||n[2]!==i[2]?n[2]:n[2]+o)):i=null,i},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();s([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&a(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(t,e),function(t){var e=t.dateFormat,n=t.each,i=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,u=t.splat,c=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,r){var o=this,s=o.now,a=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(e-s.y)),l=o.followPointer||1<o.len;i(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+e)/2:e,anchorX:l?void 0:a?(2*s.anchorX+n)/3:n,anchorY:l?void 0:a?(s.anchorY+r)/2:r}),o.getLabel().attr(s),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,n,r)
},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=c(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,r,o,a=this.chart,l=a.inverted,c=a.plotTop,d=a.plotLeft,h=0,p=0;return t=u(t),i=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=a.pointer.normalize(e)),i=[e.chartX-a.plotLeft,e.chartY-c]),i||(n(t,function(t){r=t.series.yAxis,o=t.series.xAxis,h+=t.plotX+(!l&&o?o.left-d:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&r?r.top-c:0)}),h/=t.length,p/=t.length,i=[l?a.plotWidth-p:h,this.shared&&!l&&1<t.length&&e?e.chartY-c:l?a.plotHeight-h:p]),s(i,Math.round)},getPosition:function(t,e,n){var i,r=this.chart,o=this.distance,s={},a=n.h||0,u=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],d=!this.followPointer&&l(n.ttBelow,!r.inverted==!!n.negative),h=function(t,e,n,i,r,l){var u=i-o>n,c=e>i+o+n,h=i-o-n;if(i+=o,d&&c)s[t]=i;else if(!d&&u)s[t]=h;else if(u)s[t]=Math.min(l-n,0>h-a?h:h-a);else{if(!c)return!1;s[t]=Math.max(r,i+a+n>e?i:i+a)}},p=function(t,e,n,i){var r;return o>i||i>e-o?r=!1:s[t]=n/2>i?1:i>e-n/2?e-n-2:i-n/2,r},f=function(t){var e=u;u=c,c=e,i=t},g=function(){!1!==h.apply(0,u)?!1!==p.apply(0,c)||i||(f(!0),g()):i?s.x=s.y=0:(f(!0),g())};return(r.inverted||1<this.len)&&f(),g(),s},defaultFormatter:function(t){var e,n=this.points||u(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(t,e){var i,r,o,s=this.options,a=t,c={},d=[];i=s.formatter||this.defaultFormatter;var h,c=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(a)[0].series.tooltipOptions.followPointer,o=this.getAnchor(a,e),e=o[0],r=o[1],!c||a.series&&a.series.noSharedTooltip?c=a.getLabelConfig():(n(a,function(t){t.setState("hover"),d.push(t.getLabelConfig())}),c={x:a[0].category,y:a[0].y},c.points=d,a=a[0]),this.len=d.length,c=i.call(c,this),h=a.series,this.distance=l(h.tooltipOptions.distance,16),!1===c?this.hide():(i=this.getLabel(),this.isHidden&&i.attr({opacity:1}).show(),this.split?this.renderSplit(c,t):(s.style.width||i.css({width:this.chart.spacingBox.width}),i.attr({text:c&&c.join?c.join(""):c}),i.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(a.colorIndex,h.colorIndex)),i.attr({stroke:s.borderColor||a.color||h.color||"#666666"}),this.updatePosition({plotX:e,plotY:r,negative:a.negative,ttBelow:a.ttBelow,h:o[2]||0})),this.isHidden=!1)},renderSplit:function(e,i){var r,o=this,s=[],a=this.chart,u=a.renderer,c=!0,d=this.options,h=this.getLabel();n(e.slice(0,i.length+1),function(t,e){e=i[e-1]||{isHeader:!0,plotX:i[0].plotX};var n=e.series||o,p=n.tt,f=e.series||{},g="highcharts-color-"+l(e.colorIndex,f.colorIndex,"none");p||(n.tt=p=u.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+g).attr({padding:d.padding,r:d.borderRadius,fill:d.backgroundColor,stroke:e.color||f.color||"#333333","stroke-width":d.borderWidth}).add(h)),p.isActive=!0,p.attr({text:t}),p.css(d.style),t=p.getBBox(),f=t.width+p.strokeWidth(),e.isHeader?(r=t.height,f=Math.max(0,Math.min(e.plotX+a.plotLeft-f/2,a.chartWidth-f))):f=e.plotX+a.plotLeft-l(d.distance,16)-f,0>f&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=a.plotTop,s.push({target:e.isHeader?a.plotHeight+r:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:f,tt:p})}),this.cleanSplit(),t.distribute(s,a.plotHeight+r),n(s,function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+a.plotLeft+l(d.distance,16),y:t.pos+a.plotTop,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?t.pos+a.plotTop-15:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e=this.chart,n=this.getLabel(),n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(Math.round(n.x),Math.round(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getDateFormat:function(t,n,i,r){var o,s,a=e("%m-%d %H:%M:%S.%L",n),l={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(s in d){if(t===d.week&&+e("%w",n)===i&&"00:00:00.000"===a.substr(6)){s="week";break}if(d[s]>t){s=u;break}if(l[s]&&a.substr(l[s])!=="01-01 00:00:00.000".substr(l[s]))break;"week"!==s&&(u=s)}return s&&(o=r[s]),o},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header";e=t.series;var i=e.tooltipOptions,s=i.xDateFormat,a=e.xAxis,l=a&&"datetime"===a.options.type&&o(t.key),n=i[n+"Format"];return l&&!s&&(s=this.getXDateFormat(t,i,a)),l&&s&&(n=n.replace("{point.key}","{point.key:"+s+"}")),r(n,{point:t,series:e})},bodyFormatter:function(t){return s(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}}}(t),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.color,o=t.css,s=t.defined,a=t.doc,l=t.each,u=t.extend,c=t.fireEvent,d=t.offset,h=t.pick,p=t.removeEvent,f=t.splat,g=t.Tooltip,m=t.win;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&e.tooltip.enabled&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=h(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,n=e.options.chart,i=n.zoomType||"",e=e.inverted;/touch/.test(t.type)&&(i=h(n.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i},normalize:function(t,e){var n,i;return t=t||m.event,t.target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=d(this.chart.container)),void 0===i.pageX?(n=Math.max(t.x,t.clientX-e.left),e=t.y):(n=i.pageX-e.left,e=i.pageY-e.top),u(t,{chartX:Math.round(n),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},getKDPoints:function(t,e,n){var i,r,o,s=[];if(l(t,function(t){i=t.noSharedTooltip&&e,r=!e&&t.directTouch,t.visible&&!r&&h(t.options.enableMouseTracking,!0)&&(o=t.searchPoint(n,!i&&0>t.options.findNearestPointBy.indexOf("y")))&&o.series&&s.push(o)}),s.sort(function(t,n){var i=t.distX-n.distX,r=t.dist-n.dist,o=(n.series.group&&n.series.group.zIndex)-(t.series.group&&t.series.group.zIndex);return 0!==i&&e?i:0!==r?r:0!==o?o:t.series.index>n.series.index?-1:1}),e&&s[0]&&!s[0].series.noSharedTooltip)for(t=s.length;t--;)(s[t].x!==s[0].x||s[t].series.noSharedTooltip)&&s.splice(t,1);return s},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=t.series,i=n.xAxis,n=n.yAxis;return i&&n?e?{chartX:i.len+i.pos-t.clientX,chartY:n.len+n.pos-t.plotY}:{chartX:t.clientX+i.pos,chartY:t.plotY+n.pos}:void 0},getHoverData:function(e,n,i,r,o,s){var a=e,l=n,a=o?i:[l];r=!(!r||!e),n=l&&!l.stickyTracking;var u,c=function(t,e){return 0===e};return r?c=function(t){return t===e}:n?c=function(t){return t.series===l}:a=t.grep(i,function(t){return t.stickyTracking}),u=r&&!o?[e]:this.getKDPoints(a,o,s),l=(a=t.find(u,c))&&a.series,r||n||!o||(u=this.getKDPoints(i,o,s)),u.sort(function(t,e){return t.series.index-e.series.index}),{hoverPoint:a,hoverSeries:l,hoverPoints:u}},runPointActions:function(n,r){var o=this.chart,s=o.tooltip,u=s?s.shared:!1,c=r||o.hoverPoint,d=c&&c.series||o.hoverSeries;r=this.getHoverData(c,d,o.series,!!r||d&&d.directTouch&&this.isDirectTouch,u,n);var p,f,c=r.hoverPoint;p=(d=r.hoverSeries)&&d.tooltipOptions.followPointer,f=(u=u&&c&&!c.series.noSharedTooltip)?r.hoverPoints:c?[c]:[],c&&(c!==o.hoverPoint||s&&s.isHidden)?(l(o.hoverPoints||[],function(e){-1===t.inArray(e,f)&&e.setState()}),l(f||[],function(t){t.setState("hover")}),o.hoverSeries!==d&&d.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),c.firePointEvent("mouseOver"),o.hoverPoints=f,o.hoverPoint=c,s&&s.refresh(u?f:c,n)):p&&s&&!s.isHidden&&(d=s.getAnchor([{}],n),s.updatePosition({plotX:d[0],plotY:d[1]})),this.unDocMouseMove||(this.unDocMouseMove=e(a,"mousemove",function(e){var n=i[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)})),l(o.axes,function(e){h(e.crosshair.snap,!0)?t.find(f,function(t){return t.series[e.coll]===e})?e.drawCrosshair(n,c):e.hideCrosshair():e.drawCrosshair(n)})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,a=s&&s.shared?o:r;t&&a&&l(f(a),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&a&&(s.refresh(a),r&&(r.setState(r.state,!0),l(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&l(o,function(t){t.setState()}),i&&i.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),l(n.axes,function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;l(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,u=n.plotLeft,c=n.plotTop,d=n.plotWidth,h=n.plotHeight,p=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=i.panKey&&t[i.panKey+"Key"];p&&p.touch||(u>o?o=u:o>u+d&&(o=u+d),c>s?s=c:s>c+h&&(s=c+h),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(g-s,2)),10<this.hasDragged&&(e=n.isInsidePlot(f-u,g-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!p&&(this.selectionMarker=p=n.renderer.rect(u,c,a?1:d,l?1:h,0).attr({fill:i.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),p&&a&&(o-=f,p.attr({width:Math.abs(o),x:(o>0?0:o)+f})),p&&l&&(o=s-g,p.attr({height:Math.abs(o),y:(o>0?0:o)+g})),e&&!p&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,a={originalEvent:t,xAxis:[],yAxis:[]},d=this.selectionMarker,h=d.attr?d.attr("x"):d.x,p=d.attr?d.attr("y"):d.y,f=d.attr?d.attr("width"):d.width,g=d.attr?d.attr("height"):d.height;(this.hasDragged||i)&&(l(n.axes,function(n){if(n.zoomEnabled&&s(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,l="touchend"===t.type?n.minPixelPadding:0,u=n.toValue((o?h:p)+l),o=n.toValue((o?h+f:p+g)-l);a[n.coll].push({axis:n,min:Math.min(u,o),max:Math.max(u,o)}),r=!0}}),r&&c(n,"selection",a,function(t){n.zoom(u(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(o(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;s(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(c(n.series,"click",u(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},e(i,"mouseleave",n.onContainerMouseLeave),1===t.chartCount&&e(a,"mouseup",n.onDocumentMouseUp),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},1===t.chartCount&&e(a,"touchend",n.onDocumentTouchEnd))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),p(e.chart.container,"mouseleave",e.onContainerMouseLeave),t.chartCount||(p(a,"mouseup",e.onDocumentMouseUp),p(a,"touchend",e.onDocumentTouchEnd)),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,n){e[n]=null})}}}(t),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,o=t.noop,s=t.pick;i(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,u,c,d=this.chart,h=t?"x":"y",p=t?"X":"Y",f="chart"+p,g=t?"width":"height",m=d["plot"+(t?"Left":"Top")],v=a||1,y=d.inverted,b=d.bounds[t?"h":"v"],w=1===e.length,_=e[0][f],x=n[0][f],k=!w&&e[1][f],C=!w&&n[1][f];n=function(){!w&&20<Math.abs(_-k)&&(v=a||Math.abs(x-C)/Math.abs(_-k)),u=(m-x)/v+_,l=d["plot"+(t?"Width":"Height")]/v},n(),e=u,e<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(x-=.8*(x-s[h][0]),w||(C-=.8*(C-s[h][1])),n()):s[h]=[x,C],y||(o[h]=u-m,o[g]=l),o=y?1/v:v,r[g]=l,r[h]=e,i[y?t?"scaleY":"scaleX":"scale"+p]=v,i["translate"+p]=o*m+(x-o*_)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,u=t.touches,c=u.length,d=e.lastValidTouch,h=e.hasZoom,p=e.selectionMarker,f={},g=1===c&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),m={};c>1&&(e.initiated=!0),h&&e.initiated&&!g&&t.preventDefault(),r(u,function(t){return e.normalize(t)}),"touchstart"===t.type?(n(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),d.x=[l[0].chartX,l[1]&&l[1].chartX],d.y=[l[0].chartY,l[1]&&l[1].chartY],n(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.max(i,r);e.min=Math.min(t.pos,Math.min(i,r)-n),e.max=Math.max(t.pos+t.len,o+n)}}),e.res=!0):e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=i({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,u,f,p,m,d),e.hasPinched=h,e.scaleGroups(f,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r,o=this.chart;o.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=o.index,1===e.touches.length?(e=this.normalize(e),(r=o.isInsidePlot(e.chartX-o.plotLeft,e.chartY-o.plotTop))&&!o.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(n=this.pinchDown,i=n[0]?4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2)):!1),s(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(t),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,u=t.win,c=t.wrap;if(!t.hasTouch&&(u.PointerEvent||u.MSPointerEvent)){var d={},h=!!u.PointerEvent,p=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},f=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),o=n[t.hoverChartIndex].pointer,o[i]({type:r,target:e.currentTarget,preventDefault:s,touches:p()}))};o(a.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete d[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,h?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,h?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,h?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(a.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(t),function(t){var e=t.addEvent,n=t.css,i=t.discardElement,r=t.defined,o=t.each,s=t.isFirefox,a=t.marginNames,l=t.merge,u=t.pick,c=t.setAnimation,d=t.stableSort,h=t.win,p=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=l(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=u(t.symbolWidth,16),this.pages=[]},update:function(t,e){var n=this.chart;this.setOptions(l(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,u(e,!0)&&n.redraw()},colorizeItem:function(e,n){e.legendGroup[n?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,r=e.legendItem,o=e.legendLine,s=e.legendSymbol,a=this.itemHiddenStyle.color,i=n?i.itemStyle.color:a,l=n?e.color||a:a,u=e.options&&e.options.marker,c={fill:l};r&&r.css({fill:i,color:i}),o&&o.attr({stroke:l}),s&&(u&&s.isMarker&&(c=e.pointAttribs(),n||t.objectEach(c,function(t,e){c[e]=a})),s.attr(c))},positionItem:function(t){var e=this.options,n=e.symbolPadding,e=!e.rtl,i=t._legendItemPos,r=i[0],i=i[1],o=t.checkbox;(t=t.legendGroup)&&t.element&&t.translate(e?r:this.legendWidth-r-2*n-4,i),o&&(o.x=r,o.y=i)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&i(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),function(e){o(["legendItem","legendGroup"],t,e)}),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(t){var e,i=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,s=this.titleHeight;i&&(e=i.translateY,o(this.allItems,function(o){var a,l=o.checkbox;l&&(a=e+s+l.y+(t||0)+3,n(l,{left:i.translateX+o.checkboxOffset+l.x-20+"px",top:a+"px",display:a>e-6&&e+r-6>a?"":"none"}))}))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),i=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r="horizontal"===i.layout,o=this.symbolWidth,s=i.symbolPadding,a=this.itemStyle,c=this.itemHiddenStyle,d=this.padding,h=r?u(i.itemDistance,20):0,p=!i.rtl,f=i.width,g=i.itemMarginBottom||0,m=this.itemMarginTop,v=t.legendItem,y=!t.series,b=!y&&t.series.drawLegendSymbol?t.series:t,w=b.options,_=this.createCheckboxForItem&&w&&w.showCheckbox,w=o+s+h+(_?20:0),x=i.useHTML,k=t.options.className;v||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+b.type+"-series highcharts-color-"+t.colorIndex+(k?" "+k:"")+(y?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=v=n.text("",p?o+s:-s,this.baseline||0,x).css(l(t.visible?a:c)).attr({align:p?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(o=a.fontSize,this.fontMetrics=n.fontMetrics(o,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,b.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,x),_&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),a.width||v.css({width:(i.itemWidth||e.spacingBox.width)-w}),this.setText(t),n=v.getBBox(),a=t.checkboxOffset=i.itemWidth||t.legendItemWidth||n.width+w,this.itemHeight=n=Math.round(t.legendItemHeight||n.height||this.symbolHeight),r&&this.itemX-d+a>(f||e.spacingBox.width-2*d-i.x)&&(this.itemX=d,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,a),this.lastItemY=m+this.itemY+g,this.lastLineHeight=Math.max(n,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=a:(this.itemY+=m+n+g,this.lastLineHeight=n),this.offsetWidth=f||Math.max((r?this.itemX-d-h:a)+d,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var n=e&&e.options;e&&u(n.showInLegend,r(n.linkedTo)?!1:void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,s=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);i.floating||o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,l){o.test(s)&&!r(t[l])&&(n[a[l]]=Math.max(n[a[l]],n.legend[(l+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][l]*i[l%2?"x":"y"]+u(i.margin,12)+e[l]))})},render:function(){var t,e,n,i,r=this,s=r.chart,a=s.renderer,u=r.group,c=r.box,h=r.options,p=r.padding;r.itemX=p,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,u||(r.group=u=a.g("legend").attr({zIndex:7}).add(),r.contentGroup=a.g().attr({zIndex:1}).add(u),r.scrollGroup=a.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),d(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,o(t,function(t){r.renderItem(t)}),n=(h.width||r.offsetWidth)+p,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=p,c||(r.box=c=a.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(u),c.isNew=!0),c.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),n>0&&i>0&&(c[c.isNew?"attr":"animate"](c.crisp({x:0,y:0,width:n,height:i},c.strokeWidth())),c.isNew=!1),c[e?"show":"hide"](),r.legendWidth=n,r.legendHeight=i,o(t,function(t){r.positionItem(t)}),e&&u.align(l(h,{width:n,height:i}),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,s=r.renderer,a=this.options,l=a.y,c=this.padding,r=r.spacingBox.height+("top"===a.verticalAlign?-l:l)-c,l=a.maxHeight,d=this.clipRect,h=a.navigation,p=u(h.animation,!0),f=h.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"==typeof t?d.attr({height:t}):d&&(i.clipRect=d.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+c+"px,9999px,"+(c+t)+"px,0)":"auto")};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(r/=2),l&&(r=Math.min(r,l)),m.length=0,t>r&&!1!==h.enabled?(this.clipHeight=e=Math.max(r-20-this.titleHeight-c,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,o(v,function(t,i){var r=t._legendItemPos[1];t=Math.round(t.legendItem.getBBox().height);var o=m.length;(!o||r-m[o-1]>e&&(n||r)!==m[o-1])&&(m.push(n||r),o++),i===v.length-1&&r+t-m[o-1]>e&&m.push(r),r!==n&&(n=r)}),d||(d=i.clipRect=s.clipRect(0,c,9999,0),i.contentGroup.clip(d)),y(e),g||(this.nav=g=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,p)}).add(g),this.pager=s.text("",15,10).addClass("highcharts-legend-navigation").css(h.style).add(g),this.down=s.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,p)}).add(g)),i.scroll(0),t=r):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;t>i&&(t=i),t>0&&(void 0!==e&&c(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,"class":t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"}),e=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:e}),this.currentPage=t,this.positionCheckboxes(e))}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,i=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,u(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,n=e.marker,i=t.symbolWidth,r=t.symbolHeight,o=r/2,s=this.chart.renderer,a=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var c;c={"stroke-width":e.lineWidth||0},e.dashStyle&&(c.dashstyle=e.dashStyle),this.legendLine=s.path(["M",0,t,"L",i,t]).addClass("highcharts-graph").attr(c).add(a),n&&!1!==n.enabled&&(e=Math.min(u(n.radius,o),o),0===this.symbol.indexOf("url")&&(n=l(n,{width:r,height:r}),e=0),this.legendSymbol=n=s.symbol(this.symbol,i/2-e,t-e,2*e,2*e,n).addClass("highcharts-point").add(a),n.isMarker=!0)}},(/Trident\/7\.0/.test(h.navigator.userAgent)||s)&&p(t.Legend.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(t),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,u=t.discardElement,c=t.charts,d=t.css,h=t.defined,p=t.each,f=t.extend,g=t.find,m=t.fireEvent,v=t.getStyle,y=t.grep,b=t.isNumber,w=t.isObject,_=t.isString,x=t.Legend,k=t.marginNames,C=t.merge,$=t.objectEach,M=t.Pointer,S=t.pick,T=t.pInt,D=t.removeEvent,E=t.seriesTypes,O=t.splat,A=t.svg,P=t.syncTimeout,L=t.win,I=t.Renderer,N=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new N(t,e,n)},f(N.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(_(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,s=n.series,a=n.plotOptions||{};n.series=null,r=C(l,n);for(o in r.plotOptions)r.plotOptions[o].tooltip=a[o]&&C(a[o].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=s,this.userOptions=n,n=r.chart,o=n.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=n.showAxes;var u=this;u.index=c.length,c.push(u),t.chartCount++,o&&$(o,function(t,n){e(u,n,t)}),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,u.firstRender()},initSeries:function(e){var n=this.options.chart;return(n=E[e.type||n.type||n.defaultSeriesType])||t.error(17,!0),n=new n,n.init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].name||"Series "+(e[t].index+1))},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,i>=0&&i<=this.plotWidth&&t>=0&&t<=this.plotHeight},redraw:function(e){var n,i,r,o=this.axes,s=this.series,a=this.pointer,l=this.legend,u=this.isDirtyLegend,c=this.hasCartesianSeries,d=this.isDirtyBox,h=this.renderer,g=h.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),g&&this.temporaryDisplay(),this.layOutTitles(),e=s.length;e--;)if(r=s[e],r.options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(e=s.length;e--;)r=s[e],r.options.stacking&&(r.isDirty=!0);p(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),u=!0),t.isDirtyData&&m(t,"updatedData")}),u&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),c&&p(o,function(t){t.updateNames(),t.setScale()}),this.getMargins(),c&&(p(o,function(t){t.isDirty&&(d=!0)}),p(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push(function(){m(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||n)&&t.redraw()})),d&&this.drawChartBox(),m(this,"predraw"),p(s,function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),a&&a.reset(!0),h.draw(),m(this,"redraw"),m(this,"render"),g&&this.temporaryDisplay(!0),p(v,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,r=this.series;for(n=g(this.axes,e)||g(this.series,e),i=0;!n&&i<r.length;i++)n=g(r[i].points||[],e);return n},getAxes:function(){var t=this,e=this.options,n=e.xAxis=O(e.xAxis||{}),e=e.yAxis=O(e.yAxis||{});p(n,function(t,e){t.index=e,t.isX=!0}),p(e,function(t,e){t.index=e}),n=n.concat(e),p(n,function(e){new s(t,e)})},getSelectedPoints:function(){var t=[];return p(this.series,function(e){t=t.concat(y(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return y(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r=this,o=r.options;i=o.title=C({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=C({style:{color:"#666666"}},o.subtitle,e),p([["title",t,i],["subtitle",e,o]],function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&t.text&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;p(["title","subtitle"],function(t){var e=this[t],o=this.options[t];t="title"===t?-3:o.verticalAlign?0:n+2;var s;e&&(s=o.style.fontSize,s=i.fontMetrics(s,e).b,e.css({width:(o.width||r.width+o.widthAdjust)+"px"}).align(f({y:t+s},o),!1,"spacingBox"),o.floating||o.verticalAlign||(n=Math.ceil(n+e.getBBox(o.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&S(t,!0)&&this.isDirtyBox&&this.redraw())
},getChartSize:function(){var e=this.options.chart,n=e.width,e=e.height,i=this.renderTo;h(n)||(this.containerWidth=v(i,"width")),h(e)||(this.containerHeight=v(i,"height")),this.chartWidth=Math.max(0,n||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||this.containerHeight||400)},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n=n.parentNode;else for(;n&&n.style;)"none"===v(n,"display",!1)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.style.setProperty&&n.style.setProperty("display","block","important")),n=n.parentNode},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,s=this.options,l=s.chart;e=this.renderTo;var u,d=t.uniqueKey();e||(this.renderTo=e=l.renderTo),_(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),n=T(r(e,"data-highcharts-chart")),b(n)&&c[n]&&c[n].hasRendered&&c[n].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,u=f({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=a("div",{id:d},u,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||I)(e,n,i,null,l.forExport,s.exporting&&s.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!h(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend.display&&this.legend.adjustMargins(n,e),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&p(t.axes,function(t){t.visible&&t.getOffset()}),p(k,function(i,r){h(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,i=e.renderTo,r=h(n.width),s=n.width||v(i,"width"),n=n.height||v(i,"height"),i=t?t.target:L;r||e.isPrinting||!s||!n||i!==L&&i!==o||((s!==e.containerWidth||n!==e.containerHeight)&&(clearTimeout(e.reflowTimeout),e.reflowTimeout=P(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=s,e.containerHeight=n)},initReflow:function(){var t,n=this;t=e(L,"resize",function(t){n.reflow(t)}),e(n,"destroy",t)},setSize:function(e,r,o){var s=this,a=s.renderer;s.isResizing+=1,t.setAnimation(o,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==r&&(s.options.chart.height=r),s.getChartSize(),e=a.globalAnimation,(e?n:d)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},e),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,o),p(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(o),s.oldChartHeight=null,m(s,"resize"),P(function(){s&&m(s,"endResize",null,function(){--s.isResizing})},i(e).duration)},setChartSize:function(t){function e(t){return t=f[t]||0,Math.max(s||t,t)/2}var n,i,r,o,s,a=this.inverted,l=this.renderer,u=this.chartWidth,c=this.chartHeight,d=this.options.chart,h=this.spacing,f=this.clipOffset;this.plotLeft=n=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(u-n-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(c-i-this.marginBottom)),this.plotSizeX=a?o:r,this.plotSizeY=a?r:o,this.plotBorderWidth=d.plotBorderWidth||0,this.spacingBox=l.spacingBox={x:h[3],y:h[0],width:u-h[3]-h[1],height:c-h[0]-h[2]},this.plotBox=l.plotBox={x:n,y:i,width:r,height:o},s=2*Math.floor(this.plotBorderWidth/2),a=Math.ceil(e(3)),l=Math.ceil(e(0)),this.clipBox={x:a,y:l,width:Math.floor(this.plotSizeX-e(1)-a),height:Math.max(0,Math.floor(this.plotSizeY-e(2)-l))},t||p(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],function(n){var i=e[n],r=w(i)?i:[i,i,i,i];p(["Top","Right","Bottom","Left"],function(i,o){t[n][o]=S(e[n+i],r[o])})}),p(k,function(e,n){t[e]=S(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,u=this.plotBGImage,c=n.backgroundColor,d=n.plotBackgroundColor,h=n.plotBackgroundImage,p=this.plotLeft,f=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,y=this.clipRect,b=this.clipBox,w="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),w="attr"),t=n.borderWidth||0,e=t+(n.shadow?8:0),c={fill:c||"none"},(t||s["stroke-width"])&&(c.stroke=n.borderColor,c["stroke-width"]=t),s.attr(c).shadow(n.shadow),s[w]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),w="animate",a||(w="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[w](v),a.attr({fill:d||"none"}).shadow(n.plotShadow),h&&(u?u.animate(v):this.plotBGImage=i.image(h,p,f,g,m).add()),y?y.animate({width:b.width,height:b.height}):this.clipRect=i.clipRect(b),w="animate",l||(w="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:p,y:f,width:g,height:m},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;p(["inverted","angular","polar"],function(s){for(t=E[r.type||r.defaultSeriesType],n=r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=E[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;p(e,function(t){t.linkedSeries.length=0}),p(e,function(e){var n=e.options.linkedTo;_(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=S(e.options.visible,n.options.visible,e.visible))})},renderSeries:function(){p(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,function(n){var i=f(e.style,n.style),r=T(i.left)+t.plotLeft,o=T(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new x(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight-=21,p(i,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(p(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=C(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(L.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,s=o&&o.parentNode;for(m(n,"destroy"),n.renderer.forExport?t.erase(c,n):c[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),D(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),o&&(o.innerHTML="",D(o),s&&u(o)),$(n,function(t,e){delete n[e]})},isReadyToRender:function(){var t=this;return A||L!=L.top||"complete"===o.readyState?!0:(o.attachEvent("onreadystatechange",function(){o.detachEvent("onreadystatechange",t.firstRender),"complete"===o.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),M&&(t.pointer=new M(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),m(this,"render"),h(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(t),function(t){var e,n=t.each,i=t.extend,r=t.erase,o=t.fireEvent,s=t.format,a=t.isArray,l=t.isNumber,u=t.pick,c=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=u(this.colorIndex,n),t.chart.pointCount++,this},applyOptions:function(t,n){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(this,t),this.options=this.options?i(this.options,t):t,t.group&&delete this.group,o&&(this.y=this[o]),this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===n?r.autoIncrement(this):n),this},optionsToObject:function(t){var e={},n=this.series,i=n.options.keys,r=i||n.pointArrayMap||["y"],o=r.length,s=0,u=0;if(l(t)||null===t)e[r[0]]=t;else if(a(t))for(!i&&t.length>o&&(n=typeof t[0],"string"===n?e.name=t[0]:"number"===n&&(e.x=t[0]),s++);o>u;)i&&void 0===t[s]||(e[r[u]]=t[s]),s++,u++;else"object"==typeof t&&(e=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,n=e.zones,e=e.zoneAxis||"y",i=0;for(t=n[i];this[e]>=t.value;)t=n[++i];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;e.pointCount--,n&&(this.setState(),r(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(c(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=u(i.valueDecimals,""),o=i.valuePrefix||"",a=i.valueSuffix||"";return n(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(e+"}",o+e+"}"+a)),t=t.replace(e+"}",e+":,."+r+"f}")}),s(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,n)},visible:!0}}(t),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.Date,a=t.defaultOptions,l=t.defaultPlotOptions,u=t.defined,c=t.each,d=t.erase,h=t.extend,p=t.fireEvent,f=t.grep,g=t.isArray,m=t.isNumber,v=t.isString,y=t.merge,b=t.objectEach,w=t.pick,_=t.removeEvent,x=t.splat,k=t.SVGElement,C=t.syncTimeout,$=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,o=this,s=t.series;o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),h(o,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),i=n.events,b(i,function(t,n){e(o,n,t)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),c(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(r=s[s.length-1]),o._i=w(r&&r._i,-1)+1,t.orderSeries(this.insert(s))},insert:function(t){var e,n=this.options.index;if(m(n)){for(e=t.length;e--;)if(n>=w(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return w(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;c(n.axisTypes||[],function(o){c(r[o],function(t){e=t.options,(i[o]===e.index||void 0!==i[o]&&i[o]===e.id||void 0===i[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)}),n[o]||n.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=m(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};c(n.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,n=w(n,e.pointStart,0);return this.pointInterval=t=w(this.pointInterval,e.pointInterval,1),i&&(e=new s(n),"day"===i?e=+e[s.hcSetDate](e[s.hcGetDate]()+t):"month"===i?e=+e[s.hcSetMonth](e[s.hcGetMonth]()+t):"year"===i&&(e=+e[s.hcSetFullYear](e[s.hcGetFullYear]()+t)),t=e-n),this.xIncrement=n+t,n},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=i[this.type];return this.userOptions=t,e=y(o,i.series,t),this.tooltipOptions=y(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=w(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&u(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,n){var i,r=this.chart,o=this.userOptions,s=t+"Index",a=t+"Counter",l=n?n.length:w(r.options.chart[t+"Count"],r[t+"Count"]);e||(i=w(o[s],o["_"+s]),u(i)||(r.series.length||(r[a]=0),o["_"+s]=i=r[a]%l,r[a]+=1),n&&(e=n[i])),void 0!==i&&(this[s]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,setData:function(e,n,i,r){var o,s=this,a=s.points,l=a&&a.length||0,u=s.options,d=s.chart,h=null,p=s.xAxis,f=u.turboThreshold,y=this.xData,b=this.yData,_=(o=s.pointArrayMap)&&o.length;if(e=e||[],o=e.length,n=w(n,!0),!1!==r&&o&&l===o&&!s.cropped&&!s.hasGroupedData&&s.visible)c(e,function(t,e){a[e].update&&t!==u.data[e]&&a[e].update(t,!1,null,!1)});else{if(s.xIncrement=null,s.colorCounter=0,c(this.parallelArrays,function(t){s[t+"Data"].length=0}),f&&o>f){for(i=0;null===h&&o>i;)h=e[i],i++;if(m(h))for(i=0;o>i;i++)y[i]=this.autoIncrement(),b[i]=e[i];else if(g(h))if(_)for(i=0;o>i;i++)h=e[i],y[i]=h[0],b[i]=h.slice(1,_+1);else for(i=0;o>i;i++)h=e[i],y[i]=h[0],b[i]=h[1];else t.error(12)}else for(i=0;o>i;i++)void 0!==e[i]&&(h={series:s},s.pointClass.prototype.applyOptions.apply(h,[e[i]]),s.updateParallelArrays(h,i));for(v(b[0])&&t.error(14,!0),s.data=[],s.options.data=s.userOptions.data=e,i=l;i--;)a[i]&&a[i].destroy&&a[i].destroy();p&&(p.minRange=p.userMinRange),s.isDirty=d.isDirtyBox=!0,s.isDirtyData=!!a,i=!1}"point"===u.legendType&&(this.processData(),this.generatePoints()),n&&d.redraw(i)},processData:function(e){var n,i=this.xData,r=this.yData,o=i.length;n=0;var s,a,l,u=this.xAxis,c=this.options;l=c.cropThreshold;var d,h,p=this.getExtremesFromAll||c.getExtremesFromAll,f=this.isCartesian,c=u&&u.val2lin,g=u&&u.isLog;if(f&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(e=u.getExtremes(),d=e.min,h=e.max),f&&this.sorted&&!p&&(!l||o>l||this.forceCrop)&&(i[o-1]<d||i[0]>h?(i=[],r=[]):(i[0]<d||i[o-1]>h)&&(n=this.cropData(this.xData,this.yData,d,h),i=n.xData,r=n.yData,n=n.start,s=!0)),l=i.length||1;--l;)o=g?c(i[l])-c(i[l-1]):i[l]-i[l-1],o>0&&(void 0===a||a>o)?a=o:0>o&&this.requireSorting&&t.error(15);this.cropped=s,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,n,i){var r,o=t.length,s=0,a=o,l=w(this.cropShoulder,1);for(r=0;o>r;r++)if(t[r]>=n){s=Math.max(0,r-l);break}for(n=r;o>n;n++)if(t[n]>i){a=n+l;break}return{xData:t.slice(s,a),yData:e.slice(s,a),start:s,end:a}},generatePoints:function(){var t,e,n,i,r=this.options,o=r.data,s=this.data,a=this.processedXData,l=this.processedYData,u=this.pointClass,c=a.length,d=this.cropStart||0,h=this.hasGroupedData,r=r.keys,p=[];for(s||h||(s=[],s.length=o.length,s=this.data=s),r&&h&&(this.options.keys=!1),i=0;c>i;i++)e=d+i,h?(n=(new u).init(this,[a[i]].concat(x(l[i]))),n.dataGroup=this.groupMap[i]):(n=s[e])||void 0===o[e]||(s[e]=n=(new u).init(this,o[e],a[i])),n&&(n.index=e,p[i]=n);if(this.options.keys=r,s&&(c!==(t=s.length)||h))for(i=0;t>i;i++)i!==d||h||(i+=c),s[i]&&(s[i].destroyElements(),s[i].plotX=void 0);this.data=s,this.points=p},getExtremes:function(t){var e,n=this.yAxis,o=this.processedXData,s=[],a=0;e=this.xAxis.getExtremes();var l,u,c,d,h=e.min,p=e.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,d=0;e>d;d++)if(u=o[d],c=t[d],l=(m(c,!0)||g(c))&&(!n.positiveValuesOnly||c.length||c>0),u=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[d]||u)>=h&&(o[d]||u)<=p,l&&u)if(l=c.length)for(;l--;)null!==c[l]&&(s[a++]=c[l]);else s[a++]=c;this.dataMin=r(s),this.dataMax=i(s)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r=this.options,s=r.stacking,a=this.xAxis,l=a.categories,c=this.yAxis,d=this.points,h=d.length,p=!!this.modifyValue,f=r.pointPlacement,g="between"===f||m(f),v=r.threshold,y=r.startFromThreshold?v:0,b=Number.MAX_VALUE;for("between"===f&&(f=.5),m(f)&&(f*=w(r.pointRange||a.pointRange)),r=0;h>r;r++){var _=d[r],x=_.x,k=_.y;e=_.low;var C,$=s&&c.stacks[(this.negStacks&&(y?0:v)>k?"-":"")+this.stackKey];c.positiveValuesOnly&&null!==k&&0>=k&&(_.isNull=!0),_.plotX=t=o(Math.min(Math.max(-1e5,a.translate(x,0,0,0,1,f,"flags"===this.type)),1e5)),s&&this.visible&&!_.isNull&&$&&$[x]&&(i=this.getStackIndicator(i,x,this.index),C=$[x],k=C.points[i.key],e=k[0],k=k[1],e===y&&i.key===$[x].base&&(e=w(v,c.min)),c.positiveValuesOnly&&0>=e&&(e=null),_.total=_.stackTotal=C.total,_.percentage=C.total&&_.y/C.total*100,_.stackY=k,C.setOffset(this.pointXOffset||0,this.barW||0)),_.yBottom=u(e)?c.translate(e,0,1,0,1):null,p&&(k=this.modifyValue(k,_)),_.plotY=e="number"==typeof k&&1/0!==k?Math.min(Math.max(-1e5,c.translate(k,0,1,0,1)),1e5):void 0,_.isInside=void 0!==e&&e>=0&&e<=c.len&&t>=0&&t<=a.len,_.clientX=g?o(a.translate(x,0,0,0,1,f)):t,_.negative=_.y<(v||0),_.category=l&&void 0!==l[_.x]?l[_.x]:_.x,_.isNull||(void 0!==n&&(b=Math.min(b,Math.abs(t-n))),n=t),_.zone=this.zones.length&&_.getZone()}this.closestPointRangePx=b},getValidPoints:function(t,e){var n=this.chart;return f(t||this.points||[],function(t){return e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted)?!1:!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],u=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=u=i.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=n(this.options.animation);t?this.setClip(r):(e=this.sharedClipKey,(t=i[e])&&t.animate({width:i.plotSizeX},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this.points,u=this.chart,c=this.options.marker,d=this[this.specialGroup]||this.markerGroup,h=w(c.enabled,this.xAxis.isRadial?!0:null,this.closestPointRangePx>=2*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(e=0;e<l.length;e++)n=l[e],t=n.plotY,i=n.graphic,r=n.marker||{},o=!!n.marker,s=h&&void 0===r.enabled||r.enabled,a=n.isInside,s&&m(t)&&null!==n.y?(t=w(r.symbol,this.symbol),n.hasImage=0===t.indexOf("url"),s=this.markerAttribs(n,n.selected&&"select"),i?i[a?"show":"hide"](!0).animate(s):a&&(0<s.width||n.hasImage)&&(n.graphic=i=u.renderer.symbol(t,s.x,s.y,s.width,s.height,o?r:c).add(d)),i&&i.attr(this.pointAttribs(n,n.selected&&"select")),i&&i.addClass(n.getClassName(),!0)):i&&(n.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=t.marker||{},r=w(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],r=w(e&&e.radius,n&&n.radius,r+(n&&n.radiusPlus||0))),t.hasImage&&(r=0),t={x:Math.floor(t.plotX)-r,y:t.plotY-r},r&&(t.width=t.height=2*r),t},pointAttribs:function(t,e){var n=this.options.marker,i=t&&t.options,r=i&&i.marker||{},o=this.color,s=i&&i.color,a=t&&t.color,i=w(r.lineWidth,n.lineWidth);return t=t&&t.zone&&t.zone.color,o=s||t||a||o,t=r.fillColor||n.fillColor||o,o=r.lineColor||n.lineColor||o,e&&(n=n.states[e],e=r.states&&r.states[e]||{},i=w(e.lineWidth,n.lineWidth,i+w(e.lineWidthPlus,n.lineWidthPlus,0)),t=e.fillColor||n.fillColor||t,o=e.lineColor||n.lineColor||o),{stroke:o,"stroke-width":i,fill:t}},destroy:function(){var t,e,n,i,r=this,o=r.chart,s=/AppleWebKit\/533/.test($.navigator.userAgent),a=r.data||[];for(p(r,"destroy"),_(r),c(r.axisTypes||[],function(t){(i=r[t])&&i.series&&(d(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=a.length;e--;)(n=a[e])&&n.destroy&&n.destroy();r.points=null,clearTimeout(r.animationTimeout),b(r,function(e,n){e instanceof k&&!e.survive&&(t=s&&"group"===n?"hide":"destroy",e[t]())}),o.hoverSeries===r&&(o.hoverSeries=null),d(o.series,r),o.orderSeries(),b(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,l=[],d=[];return t=t||o.points,(i=t.reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),c(t,function(i,c){var h=i.plotX,p=i.plotY,f=t[c-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),i.isNull&&!u(e)&&c>0?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===c||r?c=["M",i.plotX,i.plotY]:o.getPointSpline?c=o.getPointSpline(t,i,c):a?(c=1===a?["L",f.plotX,p]:2===a?["L",(f.plotX+h)/2,f.plotY,"L",(f.plotX+h)/2,p]:["L",h,f.plotY],c.push("L",h,p)):c=["L",h,p],d.push(i.x),a&&d.push(i.x),l.push.apply(l,c),r=!1)}),l.xMap=d,o.graphPath=l},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];c(this.zones,function(n,r){i.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(n.className||""),n.color||t.color,n.dashStyle||e.dashStyle])}),c(i,function(i,r){var o=i[0],s=t[o];s?(s.endX=n.xMap,s.animate({d:n})):n.length&&(t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),s={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?s.dashstyle=i[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),s=t[o].attr(s).shadow(2>r&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},applyZones:function(){var t,e,n,i,r,o,s,a,l,u=this,d=this.chart,h=d.renderer,p=this.zones,f=this.clips||[],g=this.graph,m=this.area,v=Math.max(d.chartWidth,d.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=d.inverted,_=!1;p.length&&(g||m)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,g&&g.hide(),m&&m.hide(),i=y.getExtremes(),c(p,function(c,p){t=r?o?d.plotWidth:0:o?0:y.toPixels(i.min),t=Math.min(Math.max(w(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(w(c.value,i.max),!0)),0),v),_&&(t=e=y.toPixels(i.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(n={x:b?l:a,y:0,width:s,height:v},o||(n.x=d.plotHeight-n.x)):(n={x:0,y:b?l:a,width:v,height:s},o&&(n.y=d.plotWidth-n.y)),b&&h.isVML&&(n=y.isXAxis?{x:0,y:r?a:l,height:n.width,width:d.chartWidth}:{x:n.y-d.plotLeft-d.spacingBox.x,y:0,width:n.height,height:d.chartHeight}),f[p]?f[p].animate(n):(f[p]=h.clipRect(n),g&&u["zone-graph-"+p].clip(f[p]),m&&u["zone-area-"+p].clip(f[p])),_=c.value>i.max}),this.clips=f)},invertGroups:function(t){function n(){c(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var i,r=this,o=r.chart;r.xAxis&&(i=e(o,"resize",n),e(r,"destroy",i),n(t),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""),!0),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,u=i.seriesGroup,c=i.inverted;t=e.plotGroup("group","series",s,a,u),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,u),o&&e.animate(!0),t.inverted=e.isCartesian?c:!1,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===r.clip||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=C(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:w(i&&i.left,t.plotLeft),translateY:w(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){function t(n,i,r){var o,s;return(s=n&&n.length)?(o=e.kdAxisArray[i%r],n.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(s/2),{point:n[s],left:t(n.slice(0,s),i+1,r),right:t(n.slice(s+1),i+1,r)}):void 0}this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,C(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e,a,l){var c,d,h=e.point,p=i.kdAxisArray[a%l],f=h;return d=u(t[r])&&u(h[r])?Math.pow(t[r]-h[r],2):null,c=u(t[o])&&u(h[o])?Math.pow(t[o]-h[o],2):null,c=(d||0)+(c||0),h.dist=u(c)?Math.sqrt(c):Number.MAX_VALUE,h.distX=u(d)?Math.sqrt(d):Number.MAX_VALUE,p=t[p]-h[p],c=0>p?"left":"right",d=0>p?"right":"left",e[c]&&(c=n(t,e[c],a+1,l),f=c[s]<f[s]?c:h),e[d]&&Math.sqrt(p*p)<f[s]&&(t=n(t,e[d],a+1,l),f=t[s]<f[s]?t:f),f}var i=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";return e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree?n(t,this.kdTree,e,e):void 0}})}(t),function(t){function e(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:c(e.y,o?4:n?14:-6),x:c(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}var n=t.Axis,i=t.Chart,r=t.correctFloat,o=t.defined,s=t.destroyObjectProperties,a=t.each,l=t.format,u=t.objectEach,c=t.pick;t=t.Series,e.prototype={destroy:function(){s(this,this.axis)},render:function(t){var e=this.options,n=e.format,n=n?l(n,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var n=this.axis,i=n.chart,r=i.inverted,o=n.reversed,o=this.isNegative&&!o||!this.isNegative&&o,s=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=Math.abs(s-n);t=i.xAxis[0].translate(this.x)+t;var a=i.plotHeight,r={x:r?o?s:s-n:t,y:r?a-t-e:o?a-s-n:a-s,width:r?n:e,height:r?e:n};(e=this.label)&&(e.align(this.alignOptions,null,r),r=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}},i.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))
})},n.prototype.buildStacks=function(){var t,e,n=this.series,i=c(this.options.reversedStacks,!0),r=n.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)n[i?e:r-e-1].setStackedPoints();for(e=r;e--;)t=n[i?e:r-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;r>e;e++)n[e].setPercentStacks()}},n.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(t.plotLeft,t.plotTop),u(n,function(t){u(t,function(t){t.render(i)})})},n.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||u(e,function(e){u(e,function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cum=null)})})},n.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),u(t,function(t){u(t,function(t){t.cum=t.total})}))},t.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,n,i,s,a,l,u,d=this.processedXData,h=this.processedYData,p=[],f=h.length,g=this.options,m=g.threshold,v=g.startFromThreshold?m:0,y=g.stack,g=g.stacking,b=this.stackKey,w="-"+b,_=this.negStacks,x=this.yAxis,k=x.stacks,C=x.oldStacks;for(x.stacksTouched+=1,a=0;f>a;a++)l=d[a],u=h[a],t=this.getStackIndicator(t,l,this.index),s=t.key,i=(n=_&&(v?0:m)>u)?w:b,k[i]||(k[i]={}),k[i][l]||(C[i]&&C[i][l]?(k[i][l]=C[i][l],k[i][l].total=null):k[i][l]=new e(x,x.options.stackLabels,n,l,y)),i=k[i][l],null!==u&&(i.points[s]=i.points[this.index]=[c(i.cum,v)],o(i.cum)||(i.base=s),i.touched=x.stacksTouched,0<t.index&&!1===this.singleStacks&&(i.points[s][0]=i.points[this.index+","+l+",0"][0])),"percent"===g?(n=n?b:w,_&&k[n]&&k[n][l]?(n=k[n][l],i.total=n.total=Math.max(n.total,i.total)+Math.abs(u)||0):i.total=r(i.total+(Math.abs(u)||0))):i.total=r(i.total+(u||0)),i.cum=c(i.cum,v)+(u||0),null!==u&&(i.points[s].push(i.cum),p[a]=i.cum);"percent"===g&&(x.usePercentage=!0),this.stackedYData=p,x.oldStacks={}}},t.prototype.setPercentStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,o=e.processedXData;a([n,"-"+n],function(n){for(var s,a,l=o.length;l--;)s=o[l],t=e.getStackIndicator(t,s,e.index,n),(s=(a=i[n]&&i[n][s])&&a.points[t.key])&&(a=a.total?100/a.total:0,s[0]=r(s[0]*a),s[1]=r(s[1]*a),e.stackedYData[l]=s[1])})},t.prototype.getStackIndicator=function(t,e,n,i){return!o(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(t),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.createElement,o=t.css,s=t.defined,a=t.each,l=t.erase,u=t.extend,c=t.fireEvent,d=t.inArray,h=t.isNumber,p=t.isObject,f=t.isArray,g=t.merge,m=t.objectEach,v=t.pick,y=t.Point,b=t.Series,w=t.seriesTypes,_=t.setAnimation,x=t.splat;u(t.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=v(e,!0),c(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",s=this.options;t=g(t,{index:this[o].length,isX:e}),new i(this,t),s[o]=x(s[o]||{}),s[o].push(t),v(n,!0)&&this.redraw(r)},showLoading:function(t){var i=this,s=i.options,a=i.loadingDiv,l=s.loading,c=function(){a&&o(a,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};a||(i.loadingDiv=a=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,a),e(i,"redraw",c)),a.className="highcharts-loading",i.loadingSpan.innerHTML=t||s.lang.loading,o(a,u(l.style,{zIndex:10})),o(i.loadingSpan,l.labelStyle),i.loadingShown||(o(a,{opacity:0,display:""}),n(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions tooltip".split(" "),update:function(t,e){var n,i,r=this,o={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},l=t.chart;l&&(g(!0,r.options.chart,l),"className"in l&&r.setClassName(l.className),("inverted"in l||"polar"in l)&&(r.propFromSeries(),n=!0),"alignTicks"in l&&(n=!0),m(l,function(t,e){-1!==d("chart."+e,r.propsRequireUpdateSeries)&&(i=!0),-1!==d(e,r.propsRequireDirtyBox)&&(r.isDirtyBox=!0)}),"style"in l&&r.renderer.setStyle(l.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),m(t,function(t,e){r[e]&&"function"==typeof r[e].update?r[e].update(t,!1):"function"==typeof r[o[e]]&&r[o[e]](t),"chart"!==e&&-1!==d(e,r.propsRequireUpdateSeries)&&(i=!0)}),a("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){t[e]&&a(x(t[e]),function(t,n){(n=s(t.id)&&r.get(t.id)||r[e][n])&&n.coll===e&&n.update(t,!1)})}),n&&a(r.axes,function(t){t.update({},!1)}),i&&a(r.series,function(t){t.update({},!1)}),t.loading&&g(!0,r.options.loading,t.loading),n=l&&l.width,l=l&&l.height,h(n)&&n!==r.chartWidth||h(l)&&l!==r.chartHeight?r.setSize(n,l):v(e,!0)&&r.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(y.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),p(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),o=s.index,a.updateParallelArrays(s,o),c.data[o]=p(c.data[o],!0)||p(t,!0)?s.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(n)}var o,s=this,a=s.series,l=s.graphic,u=a.chart,c=a.options;e=v(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),u(b.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,u=this.data,c=this.chart,d=this.xAxis,d=d&&d.hasNames&&d.names,h=l.data,p=this.xData;if(e=v(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=p.length,this.requireSorting&&a<p[s-1])for(o=!0;s&&p[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),d&&r.name&&(d[a]=r.name),h.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(r,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};_(n,a),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?c(r,"remove",null,i):i()},update:function(t,e){var n,i=this,r=i.chart,o=i.userOptions,s=i.oldType||i.type,l=t.type||o.type||r.options.chart.type,c=w[s].prototype,d=["group","markerGroup","dataLabelsGroup"];if(Object.keys&&"data"===Object.keys(t).toString())return this.setData(t.data,e);(l&&l!==s||void 0!==t.zIndex)&&(d.length=0),a(d,function(t){d[t]=i[t],delete i[t]}),t=g(o,{animation:!1,index:i.index,pointStart:i.xData[0]},{data:i.options.data},t),i.remove(!1,null,!1);for(n in c)i[n]=void 0;u(i,w[l||s].prototype),a(d,function(t){i[t]=d[t]}),i.init(r,t),i.oldType=s,r.linkSeries(),v(e,!0)&&r.redraw(!1)}}),u(i.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(n,u(t,{events:void 0})),n.isDirtyBox=!0,v(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),f(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],a(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(t),function(t){var e=t.color,n=t.each,i=t.map,r=t.pick,o=t.Series,s=t.seriesType;s("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var e,o,s=[],a=[],l=this.xAxis,u=this.yAxis,c=u.stacks[this.stackKey],d={},h=this.points,p=this.index,f=u.series,g=f.length,m=r(u.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(o=0;o<h.length;o++)d[h[o].x]=h[o];t.objectEach(c,function(t,e){null!==t.total&&a.push(e)}),a.sort(function(t,e){return t-e}),e=i(f,function(){return this.visible}),n(a,function(t,i){var r,h,f=0;if(d[t]&&!d[t].isNull)s.push(d[t]),n([-1,1],function(n){var s=1===n?"rightNull":"leftNull",l=0,u=c[a[i+n]];if(u)for(o=p;o>=0&&g>o;)r=u.points[o],r||(o===p?d[t][s]=!0:e[o]&&(h=c[t].points[o])&&(l-=h[1]-h[0])),o+=m;d[t][1===n?"rightCliff":"leftCliff"]=l});else{for(o=p;o>=0&&g>o;){if(r=c[t].points[o]){f=r[1];break}o+=m}f=u.translate(f,0,1,0,1),s.push({isNull:!0,plotX:l.translate(t,0,0,0,1),x:t,plotY:f,yBottom:f})}})}return s},getGraphPath:function(t){var e,n,i,s,a=o.prototype.getGraphPath,l=this.options,u=l.stacking,c=this.yAxis,d=[],h=[],p=this.index,f=c.stacks[this.stackKey],g=l.threshold,m=c.getThreshold(l.threshold),l=l.connectNulls||"percent"===u,v=function(e,n,r){var o=t[e];e=u&&f[o.x].points[p];var s=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var a,l,o=!0;r||s?(a=(s?e[0]:e[1])+r,l=e[0]+r,o=!!s):!u&&t[n]&&t[n].isNull&&(a=l=g),void 0!==a&&(h.push({plotX:i,plotY:null===a?m:c.getThreshold(a),isNull:o,isCliff:!0}),d.push({plotX:i,plotY:null===l?m:c.getThreshold(l),doCurve:!1}))};for(t=t||this.points,u&&(t=this.getStackPoints()),e=0;e<t.length;e++)n=t[e].isNull,i=r(t[e].rectPlotX,t[e].plotX),s=r(t[e].yBottom,m),(!n||l)&&(l||v(e,e-1,"left"),n&&!u&&l||(h.push(t[e]),d.push({x:e,plotX:i,plotY:s})),l||v(e,e+1,"right"));return e=a.call(this,h,!0,!0),d.reversed=!0,n=a.call(this,d,!0,!0),n.length&&(n[0]="L"),n=e.concat(n),a=a.call(this,h,!1,l),n.xMap=e.xMap,this.areaPath=n,a},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,s=this.options,a=[["area","highcharts-area",this.color,s.fillColor]];n(this.zones,function(e,n){a.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||s.fillColor])}),n(a,function(n){var o=n[0],a=t[o];a?(a.endX=i.xMap,a.animate({d:i})):(a=t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:r(n[3],e(n[2]).setOpacity(r(s.fillOpacity,.75)).get()),zIndex:0}).add(t.group),a.isArea=!0),a.startX=i.xMap,a.shiftUnit=s.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,i){var r=n.plotX,o=n.plotY,s=t[i-1];i=t[i+1];var a,l,u,c;if(s&&!s.isNull&&!1!==s.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){t=s.plotY,u=i.plotX,i=i.plotY;var d=0;a=(1.5*r+s.plotX)/2.5,l=(1.5*o+t)/2.5,u=(1.5*r+u)/2.5,c=(1.5*o+i)/2.5,u!==a&&(d=(c-l)*(u-r)/(u-a)+o-c),l+=d,c+=d,l>t&&l>o?(l=Math.max(t,o),c=2*o-l):t>l&&o>l&&(l=Math.min(t,o),c=2*o-l),c>i&&c>o?(c=Math.max(i,o),l=2*o-c):i>c&&o>c&&(c=Math.min(i,o),l=2*o-c),n.rightContX=u,n.rightContY=c}return n=["C",e(s.rightContX,s.plotX),e(s.rightContY,s.plotY),e(a,r),e(l,o),r,o],s.rightContX=s.rightContY=null,n}})}(t),function(t){var e=t.seriesTypes.area.prototype,n=t.seriesType;n("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,setStackCliffs:e.setStackCliffs,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(t),function(t){var e=t.animObject,n=t.color,i=t.each,r=t.extend,o=t.isNumber,s=t.merge,a=t.pick,l=t.Series,u=t.seriesType,c=t.svg;u("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,o=e.yAxis,s=r.reversed,l={},u=0;!1===n.grouping?u=1:i(e.chart.series,function(n){var i,r=n.options,s=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==s.len||o.pos!==s.pos||(r.stacking?(t=n.stackKey,void 0===l[t]&&(l[t]=u++),i=l[t]):!1!==r.grouping&&(i=u++),n.columnIndex=i)});var c=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),d=c*n.groupPadding,h=(c-2*d)/(u||1),n=Math.min(n.maxPointWidth||r.len,a(n.pointWidth,h*(1-2*n.pointPadding)));return e.columnMetrics={width:n,offset:(h-n)/2+(d+((e.columnIndex||0)+(s?1:0))*h-c/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=this.borderWidth,s=-(o%2?.5:0),o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(n=Math.round(t+n)+s,t=Math.round(t)+s,n-=t),i=Math.round(e+i)+o,s=.5>=Math.abs(e)&&i>.5,e=Math.round(e)+o,i-=e,s&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,r=t.borderWidth=a(n.borderWidth,r?0:1),o=t.yAxis,s=t.translatedThreshold=o.getThreshold(n.threshold),u=a(n.minPointLength,5),c=t.getColumnMetrics(),d=c.width,h=t.barW=Math.max(d,1+2*r),p=t.pointXOffset=c.offset;e.inverted&&(s-=.5),n.pointPadding&&(h=Math.ceil(h)),l.prototype.translate.apply(t),i(t.points,function(n){var i,r=a(n.yBottom,s),l=999+Math.abs(r),l=Math.min(Math.max(-l,n.plotY),o.len+l),c=n.plotX+p,f=h,g=Math.min(l,r),m=Math.max(l,r)-g;Math.abs(m)<u&&u&&(m=u,i=!o.reversed&&!n.negative||o.reversed&&n.negative,g=Math.abs(g-s)>u?r-u:s-(i?u:0)),n.barX=c,n.pointWidth=d,n.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-l,t.xAxis.len-c-f/2,m]:[c+f/2,l+o.pos-e.plotTop,m],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[c,s,f,0]:[c,g,f,m])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r=this.options,o=this.pointAttrToOptions||{};i=o.stroke||"borderColor";var a=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,u=t[i]||r[i]||this.color||l,c=t[a]||r[a]||this[a]||0,o=r.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=s(r.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&n(l).brighten(t.brightness).get()||l,u=t[i]||u,c=t[a]||c,o=t.dashStyle||o),i={fill:l,stroke:u,"stroke-width":c},r.borderRadius&&(i.r=r.borderRadius),o&&(i.dashstyle=o),i},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,a=n.renderer,l=r.animationLimit||250;i(e.points,function(i){var u=i.graphic;o(i.plotY)&&null!==i.y?(t=i.shapeArgs,u?u[n.pointCount<l?"animate":"attr"](s(t)):i.graphic=u=a[i.shapeType](t).add(i.group||e.group),u.attr(e.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),u.addClass(i.getClassName(),!0)):u&&(i.graphic=u.destroy())})},animate:function(t){var n=this,i=this.yAxis,o=n.options,s=this.chart.inverted,a={};c&&(t?(a.scaleY=.001,t=Math.min(i.pos+i.len,Math.max(i.pos,i.toPixels(o.threshold))),s?a.translateX=t-i.len:a.translateY=t,n.group.attr(a)):(a[s?"translateX":"translateY"]=i.pos,n.group.animate(a,r(e(n.options.animation),{step:function(t,e){n.group.attr({scaleY:Math.max(.001,e.pos)})}})),n.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(t),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(t),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(t),function(t){var e=t.pick,n=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,i,r=this.options,o=this.chart,s=2*(r.slicedOffset||0),a=o.plotWidth-2*s,o=o.plotHeight-2*s,l=r.center,l=[e(l[0],"50%"),e(l[1],"50%"),r.size||"100%",r.innerSize||0],u=Math.min(a,o);for(t=0;4>t;++t)i=l[t],r=2>t||2===t&&/%$/.test(i),l[t]=n(i,[a,o,u,l[2]][t])+(r?s:0);return l[3]>l[2]&&(l[3]=l[2]),l}}}(t),function(t){var e=t.addEvent,n=t.defined,i=t.each,r=t.extend,o=t.inArray,s=t.noop,a=t.pick,l=t.Point,u=t.Series,c=t.seriesType,d=t.setAnimation;c("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,r=e.startAngleRad;t||(i(n,function(t){var n=t.graphic,i=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;r>t;t++)e=i[t],n+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;r>t;t++)e=i[t],e.percentage=n>0&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){u.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,s,l=0,u=this.options,c=u.slicedOffset,d=c+(u.borderWidth||0),h=u.startAngle||0,p=this.startAngleRad=Math.PI/180*(h-90),h=(this.endAngleRad=Math.PI/180*(a(u.endAngle,h+360)-90))-p,f=this.points,g=u.dataLabels.distance,u=u.ignoreHiddenPoint,m=f.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n,r){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+r.labelDistance)},o=0;m>o;o++)s=f[o],s.labelDistance=a(s.options.dataLabels&&s.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,s.labelDistance),e=p+l*h,(!u||s.visible)&&(l+=s.percentage/100),n=p+l*h,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},i=(n+e)/2,i>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),s.slicedTranslation={translateX:Math.round(Math.cos(i)*c),translateY:Math.round(Math.sin(i)*c)},n=Math.cos(i)*t[2]/2,r=Math.sin(i)*t[2]/2,s.tooltipPos=[t[0]+.7*n,t[1]+.7*r],s.half=i<-Math.PI/2||i>Math.PI/2?1:0,s.angle=i,e=Math.min(d,s.labelDistance/5),s.labelPos=[t[0]+n+Math.cos(i)*s.labelDistance,t[1]+r+Math.sin(i)*s.labelDistance,t[0]+n+Math.cos(i)*e,t[1]+r+Math.sin(i)*e,t[0]+n,t[1]+r,0>s.labelDistance?"center":s.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,o,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),i(s.points,function(i){if(!i.isNull){e=i.graphic,o=i.shapeArgs,t=i.getTranslate();var u=i.shadowGroup;l&&!u&&(u=i.shadowGroup=a.g("shadow").add(s.shadowGroup)),u&&u.attr(t),n=s.pointAttribs(i,i.selected&&"select"),e?e.setRadialReference(s.center).attr(n).animate(r(o,t)):(i.graphic=e=a[i.shapeType](o).setRadialReference(s.center).attr(t).add(s.group),i.visible||e.attr({visibility:"hidden"}),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,u)),e.addClass(i.getClassName())}})},searchPoint:s,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:t.CenteredSeriesMixin.getCenter,getSymbol:s},{init:function(){l.prototype.init.apply(this,arguments);var t,n=this;return n.name=a(n.name,"Slice"),t=function(t){n.slice("select"===t.type)},e(n,"select",t),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,r=n.series,s=r.chart,l=r.options.ignoreHiddenPoint;e=a(e,l),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,r.options.data[o(n,r.data)]=n.options,i(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&s.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),l&&(r.isDirty=!0),e&&s.redraw())},slice:function(t,e,i){var r=this.series;d(i,r.chart),a(e,!0),this.sliced=this.options.sliced=n(t)?t:!this.sliced,r.options.data[o(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(t),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,u=t.noop,c=t.pick,d=t.relativeLength,h=t.Series,p=t.seriesTypes,f=t.stableSort;t.distribute=function(t,e){function n(t,e){return t.target-e.target}var i,o,s=!0,l=t,u=[];for(o=0,i=t.length;i--;)o+=t[i].size;if(o>e){for(f(t,function(t,e){return(e.rank||0)-(t.rank||0)}),o=i=0;e>=o;)o+=t[i].size,i++;u=t.splice(i-1,t.length)}for(f(t,n),t=a(t,function(t){return{size:t.size,targets:[t.target]}});s;){for(i=t.length;i--;)s=t[i],o=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=Math.min(Math.max(0,o-s.size/2),e-s.size);for(i=t.length,s=!1;i--;)i>0&&t[i-1].pos+t[i-1].size>t[i].pos&&(t[i-1].size+=t[i].size,t[i-1].targets=t[i-1].targets.concat(t[i].targets),t[i-1].pos+t[i-1].size>e&&(t[i-1].pos=e-t[i-1].size),t.splice(i,1),s=!0)}i=0,r(t,function(t){var e=0;r(t.targets,function(){l[i].pos=t.pos+e,e+=l[i].size,i++})}),l.push.apply(l,u),f(l,n)},h.prototype.drawDataLabels=function(){var n,o,a,u,d=this,h=d.options,p=h.dataLabels,f=d.points,g=d.hasRendered||0,m=c(p.defer,!!h.animation),v=d.chart.renderer;(p.enabled||d._hasPointLabels)&&(d.dlProcessOptions&&d.dlProcessOptions(p),u=d.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",p.zIndex||6),m&&(u.attr({opacity:+g}),g||e(d,"afterAnimate",function(){d.visible&&u.show(!0),u[h.animation?"animate":"attr"]({opacity:1},{duration:200})})),o=p,r(f,function(e){var r,f,g,m,y=e.dataLabel,b=e.connector,w=!y;n=e.dlOptions||e.options&&e.options.dataLabels,(r=c(n&&n.enabled,o.enabled)&&null!==e.y)&&(p=l(o,n),f=e.getLabelConfig(),a=p.format?s(p.format,f):p.formatter.call(f,p),m=p.style,f=p.rotation,m.color=c(p.color,m.color,d.color,"#000000"),"contrast"===m.color&&(e.contrastColor=v.getContrast(e.color||d.color),m.color=p.inside||0>c(e.labelDistance,p.distance)||h.stacking?e.contrastColor:"#000000"),h.cursor&&(m.cursor=h.cursor),g={fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth,r:p.borderRadius||0,rotation:f,padding:p.padding,zIndex:1},t.objectEach(g,function(t,e){void 0===t&&delete g[e]})),!y||r&&i(a)?r&&i(a)&&(y?g.text=a:(y=e.dataLabel=v[f?"text":"label"](a,0,-9999,p.shape,null,null,p.useHTML,null,"data-label"),y.addClass("highcharts-data-label-color-"+e.colorIndex+" "+(p.className||"")+(p.useHTML?"highcharts-tracker":""))),y.attr(g),y.css(m).shadow(p.shadow),y.added||y.add(u),d.alignDataLabel(e,y,p,null,w)):(e.dataLabel=y=y.destroy(),b&&(e.connector=b.destroy()))}))},h.prototype.alignDataLabel=function(t,e,n,i,r){var s,a=this.chart,l=a.inverted,u=c(t.plotX,-9999),d=c(t.plotY,-9999),h=e.getBBox(),p=n.rotation,f=n.align,g=this.visible&&(t.series.forceDL||a.isInsidePlot(u,Math.round(d),l)||i&&a.isInsidePlot(u,l?i.x+1:i.y+i.height-1,l)),m="justify"===c(n.overflow,"justify");g&&(s=n.style.fontSize,s=a.renderer.fontMetrics(s,e).b,i=o({x:l?a.plotWidth-d:u,y:Math.round(l?a.plotHeight-u:d),width:0,height:0},i),o(n,{width:h.width,height:h.height}),p?(m=!1,u=a.renderer.rotCorr(s,p),u={x:i.x+n.x+i.width/2+u.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](u).attr({align:f}),d=(p+720)%360,d=d>180&&360>d,"left"===f?u.y-=d?h.height:0:"center"===f?(u.x-=h.width/2,u.y-=h.height/2):"right"===f&&(u.x-=h.width,u.y-=d?0:h.height)):(e.align(n,null,i),u=e.alignAttr),m?t.isLabelJustified=this.justifyDataLabel(e,n,u,h,i,r):c(n.crop,!0)&&(g=a.isInsidePlot(u.x,u.y)&&a.isInsidePlot(u.x+h.width,u.y+h.height)),n.shape&&!p)&&e[r?"attr":"animate"]({anchorX:l?a.plotWidth-t.plotY:t.plotX,anchorY:l?a.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},h.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,u=e.align,c=e.verticalAlign,d=t.box?0:t.padding||0;return s=n.x+d,0>s&&("right"===u?e.align="left":e.x=-s,a=!0),s=n.x+i.width-d,s>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-s,a=!0),s=n.y+d,0>s&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),s=n.y+i.height-d,s>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r)),a},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,o,s,a,l,u,d,p,f,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,w=c(b.connectorPadding,10),_=c(b.connectorWidth,1),x=y.plotWidth,k=y.plotHeight,C=m.center,$=C[2]/2,M=C[1],S=[[],[]],T=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),h.prototype.drawDataLabels.apply(m),r(v,function(t){t.dataLabel&&t.visible&&(S[t.half].push(t),t.dataLabel._pos=null)}),r(S,function(n,o){var c,h,v,_=n.length,S=[];if(_)for(m.sortByAngle(n,o-.5),0<m.maxLabelDistance&&(c=Math.max(0,M-$-m.maxLabelDistance),h=Math.min(M+$+m.maxLabelDistance,y.plotHeight),r(n,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,M-$-t.labelDistance),t.bottom=Math.min(M+$+t.labelDistance,y.plotHeight),v=t.dataLabel.getBBox().height||21,t.positionsIndex=S.push({target:t.labelPos[1]-t.top+v/2,size:v,rank:t.y})-1)}),t.distribute(S,h+v-c)),g=0;_>g;g++)e=n[g],h=e.positionsIndex,l=e.labelPos,s=e.dataLabel,f=!1===e.visible?"hidden":"inherit",c=l[1],S&&i(S[h])?void 0===S[h].pos?f="hidden":(u=S[h].size,p=e.top+S[h].pos):p=c,delete e.positionIndex,d=b.justify?C[0]+(o?-1:1)*($+e.labelDistance):m.getX(p<e.top+2||p>e.bottom-2?c:p,o,e),s._attr={visibility:f,align:l[6]},s._pos={x:d+b.x+({left:w,right:-w}[l[6]]||0),y:p+b.y-10},l.x=d,l.y=p,a=s.getBBox().width,c=null,w>d-a?(c=Math.round(a-d+w),T[3]=Math.max(c,T[3])):d+a>x-w&&(c=Math.round(d+a-x+w),T[1]=Math.max(c,T[1])),0>p-u/2?T[0]=Math.max(Math.round(-p+u/2),T[0]):p+u/2>k&&(T[2]=Math.max(Math.round(p+u/2-k),T[2])),s.sideOverflow=c}),0===n(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),_&&r(this.points,function(t){var e;o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(f=s._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),o.attr({"stroke-width":_,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),o.attr("visibility",f)):o&&(t.connector=o.destroy())}))},p.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return c(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},p.pie.prototype.alignDataLabel=u,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=null!==i.size;return s||(null!==r[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),o):(e=Math.max(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(d(i.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,u=c(t.below,t.plotY>c(this.translatedThreshold,s.yAxis.len)),d=c(n.inside,!!this.options.stacking);a&&(i=l(a),0>i.y&&(i.height+=i.y,i.y=0),a=i.y+i.height-s.yAxis.len,a>0&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),d||(o?(i.x+=u?0:i.width,i.width=0):(i.y+=u?i.height:0,i.height=0))),n.align=c(n.align,!o||d?"center":u?"right":"left"),n.verticalAlign=c(n.verticalAlign,o||d?"middle":u?"top":"bottom"),h.prototype.alignDataLabel.call(this,t,e,n,i,r),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(t),function(t){var e=t.Chart,n=t.each,i=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];n(t.series||[],function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&n(o,function(r){n(t.points,function(t){t[r]&&(t[r].labelrank=i(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,s,a,l,u,c,d=t.length,h=function(t,e,n,i,r,o,s,a){return!(r>t+n||t>r+s||o>e+i||e>o+a)};for(i=0;d>i;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;d>i;i++)for(r=t[i],e=i+1;d>e;++e)o=t[e],r&&o&&r!==o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(s=r.alignAttr,a=o.alignAttr,l=r.parentGroup,u=o.parentGroup,c=2*(r.box?0:r.padding),s=h(s.x+l.translateX,s.y+l.translateY,r.width-c,r.height-c,a.x+u.translateX,a.y+u.translateY,o.width-c,o.height-c))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(t),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,u=t.extend,c=t.fireEvent,d=t.hasTouch,h=t.inArray,p=t.isObject,f=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,w=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,n=function(t){var n=e.getPointFromEvent(t);
void 0!==n&&(e.isDirectTouch=!0,n.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(i){t[i]&&(t[i].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){e.onTrackerMouseOut(t)}),d&&t[i].on("touchstart",n),t.options.cursor&&t[i].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,u=s.renderer,c=s.options.tooltip.snap,h=e.tracker,p=function(){s.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(w?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-c,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+c,r[t-1]);h?h.attr({d:r}):e.graph&&(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:i?f:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*c),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),d&&t.on("touchstart",p)}))}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),u(f.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart.renderer.boxWrapper,o="highcharts-legend-"+(t.series?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(g(t.visible?i.itemStyle:i.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):c(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),s.legend.itemStyle.cursor="pointer",u(i.prototype,{showResetZoom:function(){var t=this,e=s.lang,n=t.options.chart.resetZoomButton,i=n.theme,r=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:e.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,o)},zoomOut:function(){var t=this;c(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?l(this.axes,function(t){e=t.zoom()}):l(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;i[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&p(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){e=i[e?"xAxis":"yAxis"][0];var r,o=e.horiz,s=t[o?"chartX":"chartY"],o=o?"mouseDownX":"mouseDownY",a=i[o],l=(e.pointRange||0)/2,u=e.getExtremes(),c=e.toValue(a-s,!0)+l,l=e.toValue(a+e.len-s,!0)-l,d=c>l,a=d?l:c,c=d?c:l,l=Math.min(u.dataMin,e.toValue(e.toPixels(u.min)-e.minPixelPadding)),d=Math.max(u.dataMax,e.toValue(e.toPixels(u.max)+e.minPixelPadding));r=l-a,r>0&&(c+=r,a=l),r=c-d,r>0&&(c=d,a-=r),e.series.length&&a!==u.min&&c!==u.max&&(e.setExtremes(a,c,!1,!1,{trigger:"pan"}),n=!0),i[o]=s}),n&&i.redraw(!1),o(i.container,{cursor:"move"})}}),u(v.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=m(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[h(n,i.data)]=n.options,n.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[h(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=g(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,function(t,i){n(e,i,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t]||{},l=a[o.type].marker&&o.options.marker,c=l&&!1===l.enabled,d=l&&l.states&&l.states[t]||{},h=!1===d.enabled,p=o.stateMarkerGraphic,f=this.marker||{},g=o.chart,v=o.halo,y=l&&o.markerAttribs;t=t||"",t===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(h||c&&!1===d.enabled)||t&&f.states&&f.states[t]&&!1===f.states[t].enabled||(y&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.attr(o.pointAttribs(this,t)),n&&this.graphic.animate(n,m(g.options.chart.animation,d.animation,l.animation)),p&&p.hide()):(t&&d&&(l=f.symbol||o.symbol,p&&p.currentSymbol!==l&&(p=p.destroy()),p?p[e?"animate":"attr"]({x:n.x,y:n.y}):l&&(o.stateMarkerGraphic=p=g.renderer.symbol(l,n.x,n.y,n.width,n.height).add(o.markerGroup),p.currentSymbol=l),p&&p.attr(o.pointAttribs(this,t))),p&&(p[t&&g.isInsidePlot(i,r,g.inverted)?"show":"hide"](),p.element.point=this)),(i=s.halo)&&i.size?(v||(o.halo=v=g.renderer.path().add((this.graphic||p).parentGroup)),v[e?"animate":"attr"]({d:this.haloPath(i.size)}),v.attr({"class":"highcharts-halo highcharts-color-"+m(this.colorIndex,o.colorIndex)}),v.point=this,v.attr(u({fill:this.color||o.color,"fill-opacity":i.opacity,zIndex:-1},i.attributes))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)}),this.state=t)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.options,i=e.graph,r=n.states,o=n.lineWidth,n=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),i&&!i.dashstyle))for(o={"stroke-width":o},i.animate(o,m(e.chart.options.chart.animation,r[t]&&r[t].animation));e["zone-graph-"+n];)e["zone-graph-"+n].attr(o),n+=1},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!a:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),(r.hoverSeries===i||(r.hoverPoint&&r.hoverPoint.series)===i)&&i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),c(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(t),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isArray,o=t.isObject,s=t.pick,a=t.splat;e.prototype.setResponsive=function(e){var i=this.options.responsive,r=[],o=this.currentResponsive;i&&i.rules&&n(i.rules,function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,r,e)},this);var s=t.merge.apply(0,t.map(r,function(e){return t.find(i.rules,function(t){return t._id===e}).chartOptions})),r=r.toString()||void 0;r!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=s(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(n.minWidth,0)&&this.chartHeight>=s(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function n(e,s,l,u){var c;t.objectEach(e,function(t,d){if(!u&&-1<i(d,["series","xAxis","yAxis"]))for(e[d]=a(e[d]),l[d]=[],c=0;c<e[d].length;c++)s[d][c]&&(l[d][c]={},n(t[c],s[d][c],l[d][c],u+1));else o(t)?(l[d]=r(t)?[]:{},n(t,s[d]||{},l[d],u+1)):l[d]=s[d]||null})}var s={};return n(e,this.options,s,0),s}}(t),t}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="highcharts-ng"),function(){"use strict";function t(t,o){var s=0,a=this,l={},u={},c=a.changeDetection||angular.equals;this.$onInit=function(){a.config.getChartObj=function(){return a.chart},l=angular.merge({},a.config),u=e(t,a.config,s),a.chart=new(r[n(u)])(u);var i=t[0].clientWidth,c=t[0].clientHeight;o(function(){(t[0].clientWidth!==i||t[0].clientHeight!==c)&&a.chart.reflow()},0,!1)},this.$doCheck=function(){if(!c(a.config,l)){l=angular.merge({},a.config),u=e(t,a.config,s);var n=i(u.series,s);if(u.series){for(var r=a.chart.series.length-1;r>=0;r--){var o=a.chart.series[r];"highcharts-navigator-series"!==o.options.id&&n.indexOf(o.options.id)<0&&o.remove(!1)}angular.forEach(a.config.series,function(t){a.chart.get(t.id)||a.chart.addSeries(t)})}a.chart.update(u,!0)}},this.$onDestroy=function(){if(a.chart){try{a.chart.destroy()}catch(e){}o(function(){t.remove()},0)}}}function e(t,e,n){var r={},o={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{}};return e?(e.series&&i(e.series,n),r=angular.merge(o,e)):r=o,r.chart.renderTo=t[0],r}function n(t){return void 0===t||void 0===t.chartType?"Chart":o[(""+t.chartType).toLowerCase()]}function i(t,e){var n=[];return angular.forEach(t,function(t){angular.isDefined(t.id)||(t.id="series-"+e++),n.push(t.id)}),n}var r=null;window&&window.Highcharts?r=window.Highcharts:module&&"highcharts-ng"===module.exports&&(r=require("highcharts")),angular.module("highcharts-ng",[]).component("highchart",{bindings:{config:"<",changeDetection:"<"},controller:t}),t.$inject=["$element","$timeout"];var o={stock:"StockChart",map:"Map",chart:"Chart"}}();